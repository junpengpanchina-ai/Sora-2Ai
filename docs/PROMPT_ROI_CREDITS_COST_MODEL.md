# Prompt Production ROI & Credits Cost Model (v1.0)

**Project**: Sora-2Ai  
**Status**: Active  
**Last Updated**: 2026-01-25  

## 0) What this document answers
1) How much does it cost to produce prompts with Gemini (Flash/Pro)?  
2) How do prompts create ROI in a credits-based product?  
3) When does a prompt “earn” an upgrade (Prompt → Scene) from a business perspective?

> Key rule: **Prompt ROI is product ROI** (success rate, conversion, retention), not SEO ROI.

---

## 1) Variables (fill in with your numbers)
### 1.0 Your RMB → Points conversion (from recharge screenshot)
From your recharge panel:
- **¥99 → 1,600,000 points**

Define:
- `points_per_rmb = 1_600_000 / 99 ≈ 16,161.62`
- `rmb_per_point = 99 / 1_600_000 ≈ 0.000061875`

> If you sometimes recharge other tiers, keep this as a configurable variable.  
> The math below assumes the **¥99 pack**.

### 1.1 Gemini generation costs (LLM side)
Let:
- `c25f` = cost per prompt generated by Gemini 2.5 Flash (USD)
- `c3f`  = cost per prompt refined/variant by Gemini 3 Flash (USD)
- `c3p`  = cost per prompt escalated to Gemini 3 Pro (USD)

Operational controls:
- `p_escalate` = fraction of prompts escalated to Pro (target: 1–5%)
- `k_variants` = number of variants per prompt in Step B (default: 3–5)

#### Token pricing reference (RMB per 1M tokens, from your model pricing screenshot)
| Model | Input (¥ / 1M tokens) | Output (¥ / 1M tokens) |
|---|---:|---:|
| `gemini-2.5-flash` | 0.3 ~ 0.6 | 0.6 ~ 1.2 |
| `gemini-3-flash`   | 0.25 ~ 0.5 | 1.5 ~ 3 |
| `gemini-3-pro`     | 1 ~ 2 | 6 ~ 12 |

#### Convert “¥ / 1M tokens” → “points / 1M tokens”
Using `points_per_rmb ≈ 16,161.62`:
| Model | Input (points / 1M) | Output (points / 1M) |
|---|---:|---:|
| `gemini-2.5-flash` | 4,848 ~ 9,697 | 9,697 ~ 19,394 |
| `gemini-3-flash`   | 4,040 ~ 8,081 | 24,242 ~ 48,485 |
| `gemini-3-pro`     | 16,162 ~ 32,323 | 96,970 ~ 193,939 |

Quick intuition (points per 1k tokens):
- `gemini-2.5-flash`: ~ **5–10** (input) + **10–19** (output)
- `gemini-3-flash`: ~ **4–8** (input) + **24–48** (output)
- `gemini-3-pro`: ~ **16–32** (input) + **97–194** (output)

### 1.2 Product economics (credits side)
Let:
- `price_per_credit` (USD/credit)
- `credits_per_render_model[m]` (credits/render) per model `m`  
  (example: Sora=10, VeoFast=?, VeoPro=?)
- `gross_margin` (0–1) net of infra costs (or use contribution margin)

User behavior variables (per prompt family, per window):
- `uses` = number of times a prompt is used (attempts)
- `success_rate` = successful renders / attempts
- `upgrade_rate` = fraction of users who buy credits after using prompts
- `delta_success` = success_rate_with_prompt - success_rate_baseline
- `delta_upgrade` = upgrade_rate_with_prompt - upgrade_rate_baseline
- `avg_credits_purchased` = average credits purchased per upgrading user

---

## 2) Production Cost Model (Gemini)
### 2.0 Token-based cost (recommended for your RMB/points system)
If your billing is “按 token 计费”，use:

Let:
- `tin` = input tokens
- `tout` = output tokens
- `pin_m` = input price (RMB per 1M tokens) for model `m`
- `pout_m` = output price (RMB per 1M tokens) for model `m`

Then:
\[
C_{rmb}(m) = (tin/10^6)\cdot pin_m + (tout/10^6)\cdot pout_m
\]

Convert RMB → points:
\[
C_{points}(m) = C_{rmb}(m)\cdot points\_per\_rmb
\]

### 2.1 Cost per produced prompt (expected)
Assume Step A always runs, Step B runs on a fraction `p_refine`, and Step C (Pro) runs on `p_escalate`.

\[
C_{prompt} = c25f \;+\; p_{refine}\cdot c3f \;+\; p_{escalate}\cdot c3p
\]

Practical defaults:
- `p_refine` ≈ 0.10–0.30 (only refine top slice)
- `p_escalate` ≈ 0.01–0.05 (only hard cases)

### 2.2 Cost per “gold” prompt (A/B-ready)
If each refined prompt generates `k_variants`:
\[
C_{gold} = c25f \;+\; c3f \;+\; p_{escalate}\cdot c3p
\]
Variants don’t change *count* of prompts, but change the Step B cost. Track them separately if needed.

### 2.3 Worked example for your “¥99 pack” (points budget planning)
Assumptions (typical for prompt production):
- `gemini-2.5-flash` Step A: **tin=300**, **tout=700** (≈ 1k tokens total)
- `gemini-3-flash` Step B: **tin=400**, **tout=800** (≈ 1.2k tokens total)
- `gemini-3-pro` Step C: **tin=600**, **tout=1200** (≈ 1.8k tokens total)
- Use mid-range pricing (approx):  
  - 2.5 flash: input ¥0.45 /M, output ¥0.9 /M  
  - 3 flash: input ¥0.375 /M, output ¥2.25 /M  
  - 3 pro: input ¥1.5 /M, output ¥9 /M

Approx points per call:
- **2.5 flash**:  
  \(C_{rmb} ≈ 300/1e6·0.45 + 700/1e6·0.9 = 0.000765\)  
  \(C_{points} ≈ 0.000765·16161.62 ≈ 12.4\) points
- **3 flash**:  
  \(C_{rmb} ≈ 400/1e6·0.375 + 800/1e6·2.25 = 0.00195\)  
  \(C_{points} ≈ 31.5\) points
- **3 pro**:  
  \(C_{rmb} ≈ 600/1e6·1.5 + 1200/1e6·9 = 0.0117\)  
  \(C_{points} ≈ 189\) points

What a **¥99 (=1,600,000 points)** pack can support (order-of-magnitude):
- If you only ran 2.5 Flash at ~12.4 points/call → **~129,000** prompts
- A realistic “SOP mix” (example):
  - Step A 2.5 Flash: 1,200 calls → ~15k points
  - Step B 3 Flash: 300 calls → ~9.5k points
  - Step C 3 Pro: 50 calls → ~9.5k points
  - **Total**: ~34k points (<< 1,600,000)

Takeaway:
- Your constraint is **not cost**, it’s **quality + management + selection**.

---

## 3) ROI Model in a Credits Business
Prompts create value in three main ways:
1) Increase **success_rate** (reduces churn, increases “aha moment”)
2) Increase **conversion to purchase** (upgrade_rate)
3) Increase **paid usage intensity** (more renders because users succeed)

### 3.1 Incremental revenue from conversion lift (primary)
Let `new_upgrades = uses * delta_upgrade` (approx; refine using unique users if available).

\[
R_{conv} = new\_upgrades \cdot avg\_credits\_purchased \cdot price\_per\_credit
\]

Contribution margin:
\[
M_{conv} = R_{conv}\cdot gross\_margin
\]

### 3.2 Incremental margin from success lift (secondary but real)
Success lift increases “completed renders” and reduces refund/credit-back events.

Let `avoided_failures = uses * delta_success`  
Let `credits_back_per_failure` be the average credits refunded/credited back per failure.

\[
M_{success} = avoided\_failures \cdot credits\_back\_per\_failure \cdot price\_per\_credit \cdot gross\_margin
\]

> If you already credit back failed generations, this term matters.

### 3.3 Total Prompt ROI (windowed)
\[
ROI_{prompt} = \frac{(M_{conv} + M_{success})}{C_{total}}
\]

Where:
- \(C_{total} = N_{prompts}\cdot C_{prompt}\) for a batch, or \(C_{gold}\) for a single upgraded prompt.

Rule of thumb thresholds:
- **ROI ≥ 3**: safe to scale prompt family
- **ROI ≥ 10**: candidate for “gold” treatment + experiments

---

## 4) Mapping SOP → Cost Controls (what to enforce)
### Step A (2.5 Flash): cheap volume, strict schema
- Goal: maximize `uses` coverage at minimal cost
- Control: schema validation + retries (avoid manual cleanup cost)

### Step B (3 Flash): selective refinement
- Goal: maximize `delta_upgrade` and early conversion
- Control: only refine top slice (e.g., top 10–30% by usage)

### Step C (3 Pro): expensive stability
- Goal: reduce failure/policy blocks for high-value families
- Control: escalate only when triggers occur (2 failures, constraint conflicts, safety)

---

## 5) When is a Prompt worth becoming a Scene (business + SEO)
Use this in addition to the Gate in `docs/PROMPT_TO_SCENE_GATE.md`.

### 5.1 Scene build cost (one-time)
Let:
- `C_scene_build` = engineering + content + QA + monitoring setup (USD)

### 5.2 SEO expected value (only after Gate is GREEN)
Let:
- `seo_clicks_monthly`
- `seo_conv_rate`
- `LTV` (USD per customer)

\[
EV_{seo} = seo\_clicks\_monthly \cdot seo\_conv\_rate \cdot LTV
\]

Require:
\[
\frac{EV_{seo}\cdot gross\_margin}{C_{scene\_build}} \ge ROI_{scene\_min}
\]

Suggested minimum:
- `ROI_scene_min` = 3 (conservative)

> Important: **Prompt stage does not use SEO ROI** to decide production.  
> Only after passing all Gates do we evaluate SEO ROI.

---

## 6) Practical worksheet (copy & fill)
### Prompt family (last 7 days)
- uses:
- success_rate:
- delta_success:
- upgrade_rate:
- delta_upgrade:
- avg_credits_purchased:
- price_per_credit:
- gross_margin:
- credits_back_per_failure:

### Gemini costs
- c25f:
- c3f:
- c3p:
- p_refine:
- p_escalate:

### Outputs
- C_prompt:
- M_conv:
- M_success:
- ROI_prompt:

