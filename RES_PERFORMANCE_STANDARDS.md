# 📊 RES 性能分级标准表（目录页 / 详情页 / 转化页）

## 🎯 基准说明

- **数据来源**：Vercel Speed Insights 的 **P75**（默认）
- **核心指标**：RES、LCP、INP、CLS（TTFB 可作为辅助）
- **更新频率**：每天看一次就够

---

## A. 目标值（按页面类型）

| 页面类型 | 典型路径 | RES 目标（Desktop） | RES 目标（Mobile） | LCP（P75） | INP（P75） | CLS（P75） |
|---------|---------|-------------------|------------------|-----------|-----------|-----------|
| **目录页（Listing）** | `/use-cases` | ≥75 | ≥70 | ≤3.0s | ≤200ms | ≤0.10 |
| **详情页（Detail/Content）** | `/use-cases/[slug]` | ≥80 | ≥75 | ≤3.0s | ≤200ms | ≤0.10 |
| **转化页（Conversion/Interactive）** | `/login` `/pricing` `/generate` | ≥90 | ≥85 | ≤2.5s | ≤150ms | ≤0.05 |

### 为什么转化页更严？

- 用户要操作，**INP 权重更敏感**
- 任何卡顿都会直接掉转化
- Google / SGE 对转化页性能要求更高

---

## B. 状态分级（你每天看一次就够）

| 等级 | RES | 含义 | 允许做什么 |
|------|-----|------|-----------|
| **Great** | ≥90 | 体验优秀 | ✅ 可以加功能（但别动首屏） |
| **Safe** | 75–89 | 可接受、可持续 | ✅ 只做小优化/保持稳定 |
| **Risk** | 50–74 | 明显影响体验/SEO | ⚠️ 必须做"首屏减负" |
| **Critical** | <50 | 移动端基本不可用 | 🔴 优先级最高，先救命 |

---

## C. 你的当前数据解读（结合 Vercel Speed Insights）

### 当前状态

| 路径 | RES | 状态 | 说明 |
|------|-----|------|------|
| `/` | 92 | ✅ Great | 首页性能优秀 |
| `/login` | 91 | ✅ Great | 登录页性能没问题，问题在功能链路 |
| `/use-cases` | 59 | ⚠️ Risk | 目录页首屏负载过大 |
| `/use-cases/[slug]` | 72 | ⚠️ Risk | 详情页首屏信息量仍偏大 |
| `/admin` | 71 | ⚠️ Risk | 管理页需要优化 |
| `/prompts` | 72 | ⚠️ Risk | 提示词页需要优化 |

### 优化目标

| 路径 | 当前 | 目标 | 优先级 |
|------|------|------|--------|
| `/use-cases` | 59 | ≥75 | 🔥 最高（流量入口） |
| `/use-cases/[slug]` | 72 | ≥80 | 🔥 最高（SEO 核心） |
| `/admin` | 71 | ≥75 | ⚠️ 中等（内部使用） |
| `/prompts` | 72 | ≥75 | ⚠️ 中等（次要页面） |

---

## D. 验收检查清单（部署后必做）

### ✅ Check 1：LCP Element 是什么（最关键）

**部署后，用 Chrome DevTools**：

1. **Performance** → 勾选 **Web Vitals**
2. 录制页面加载
3. 找到 **LCP 标记**

**LCP element 必须是**：
- ✅ H1
- ✅ 首条卡片
- ✅ 首屏主要内容

**❌ 不能是**：
- 背景、wrapper、container
- 延迟加载的内容
- 非首屏元素

**如果你看到 LCP 还是一个大 `<div>`**：
👉 说明还有首屏元素在抢绘制顺序

---

### ✅ Check 2：首屏有没有"隐形大块"

**常见坑**：
- `min-height: 100vh` 的 wrapper
- 背景 `blur` / `gradient` / `filter`
- skeleton 没限制高度

**👉 CLS 已经从 0.33 → <0.1 的关键点就在这里**

---

### ✅ Check 3：移动端首屏卡片数是否真的变少

**不是 CSS 隐藏，而是真的没渲染**

⚠️ **注意**：
- `display:none` 不等于没渲染
- React 里 `condition` 才是真正减少 DOM

**验证方法**：
- Chrome DevTools → Elements
- 查看首屏 DOM 节点数
- 对比优化前后

---

### ✅ Check 4：CosmicBackground 是否 SSR = false

**确认是**：
```typescript
dynamic(() => import('./CosmicBackground'), { ssr: false })
```

**如果它还在 SSR**：
- ❌ 会拖慢 TTFB
- ❌ 会影响 hydration

---

### ✅ Check 5：Speed Insights 看的是 P75（不是你自己的设备）

**不要被自己手机骗了**

**判断标准**：
- ✅ 看 **P75**
- ✅ 至少等 **12–24 小时**
- ✅ 最好有 **100+ data points**

---

## E. 3 个你现在"最容易踩的坑"（提前告诉你）

### ❌ 坑 1：继续往列表页加东西

**"加点 tag / 加点推荐 / 加点统计"**

🚫 **现在一律不要加**

👉 `/use-cases` 的定位是：
- **目录页 ≠ 营销页**
- 首屏只保留：H1 + 搜索 + 24 条卡片

---

### ❌ 坑 2：觉得 RES 一天不涨就继续改

🚫 **千万别**

**RES 是真实用户数据**：
- 有延迟
- 有噪音
- 改太频繁 = 你自己制造波动

👉 **7 天内不要再动结构**

---

### ❌ 坑 3：桌面端 OK 就忽略移动端

**你的截图已经说明**：
- Desktop RES：72（还能忍）
- Mobile RES：37（致命）

👉 **Google / SGE 权重偏向移动端**

---

## F. 接下来 7 天你应该做什么（非常明确）

### Day 0（今天）
- ✅ 部署
- ✅ 不再改任何结构

### Day 1–2
- ✅ 看 Vercel Speed Insights：
  - `/use-cases`
  - `/use-cases/[slug]`
- ✅ **只记录，不行动**

### Day 3–5
**如果**：
- LCP ↓
- CLS ↓
- RES 稳定上涨

👉 **说明成功**

### Day 6–7
**如果**：
- `/use-cases` ≥75
- `/use-cases/[slug]` ≥80

👉 **才考虑下一步**（比如首页、登录页）

---

## 🧠 一句非常关键的话（给你吃个定心丸）

**你现在遇到的不是"Vercel 不行"，而是"Use Case 规模上来后，首屏必须被工程化管理"。**

**你已经用的是**：
- ✅ 正确的技术栈
- ✅ 正确的缓存策略
- ✅ 正确的 SEO / GEO 结构

**这轮优化不是"补锅"，而是系统升级。**

---

## 📝 快速参考表

### 目录页优化重点
- ✅ 首屏卡片数 ≤24（桌面）≤12（移动）
- ✅ LCP element = H1 或首条卡片
- ✅ CLS <0.1（固定高度占位）
- ✅ TTFB <800ms（ISR 缓存）

### 详情页优化重点
- ✅ 首屏只保留：H1 + 描述 + 第一个内容块
- ✅ 延迟加载：相关用例、关键词、侧边栏
- ✅ LCP element = H1
- ✅ CLS <0.1（避免内容加载抖动）

### 转化页优化重点
- ✅ LCP <2.5s
- ✅ INP <150ms（交互响应快）
- ✅ CLS <0.05（布局稳定）
- ✅ 禁用非必要脚本（analytics、heatmap）

---

**最后更新**：2025-01-06
**用途**：性能优化参考标准，避免盲目优化

