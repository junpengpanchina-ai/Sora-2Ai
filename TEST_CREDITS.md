# æµ‹è¯•ç§¯åˆ†åŠŸèƒ½ä½¿ç”¨æŒ‡å—

## ğŸ¯ åŠŸèƒ½è¯´æ˜

ä¸ºäº†æ–¹ä¾¿å¼€å‘å’Œæµ‹è¯•ï¼Œç³»ç»Ÿæä¾›äº†**æµ‹è¯•ç§¯åˆ†æ·»åŠ åŠŸèƒ½**ï¼Œå¯ä»¥åœ¨å¼€å‘ç¯å¢ƒä¸­ç›´æ¥æ·»åŠ ç§¯åˆ†ï¼Œæ— éœ€çœŸå®æ”¯ä»˜ã€‚

## âœ… ä½¿ç”¨æ–¹æ³•

### æ–¹æ³• 1ï¼šä½¿ç”¨é¦–é¡µæŒ‰é’®ï¼ˆæœ€ç®€å•ï¼‰

1. **ç¡®ä¿å¼€å‘æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ**
   ```bash
   npm run dev
   ```

2. **è®¿é—®é¦–é¡µ**
   - æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:3000`
   - ç¡®ä¿å·²ç™»å½•

3. **ç‚¹å‡»æµ‹è¯•ç§¯åˆ†æŒ‰é’®**
   - åœ¨å¯¼èˆªæ å³ä¾§ï¼Œæ‰¾åˆ°ç»¿è‰²çš„ **"+100æµ‹è¯•ç§¯åˆ†"** æŒ‰é’®
   - ç‚¹å‡»æŒ‰é’®
   - ç­‰å¾…æç¤ºæˆåŠŸæ¶ˆæ¯

4. **éªŒè¯ç§¯åˆ†**
   - å¯¼èˆªæ ä¼šæ˜¾ç¤ºæ›´æ–°åçš„ç§¯åˆ†ä½™é¢
   - ç§¯åˆ†ä» 0 å˜ä¸º 100

5. **ç”Ÿæˆè§†é¢‘**
   - ç‚¹å‡»å¯¼èˆªæ çš„ "Video Generation" é“¾æ¥
   - æˆ–ç›´æ¥è®¿é—®ï¼š`http://localhost:3000/video`
   - å¡«å†™æç¤ºè¯å¹¶ç”Ÿæˆè§†é¢‘
   - æ¯æ¬¡ç”Ÿæˆæ¶ˆè€— 10 ç§¯åˆ†

### æ–¹æ³• 2ï¼šä½¿ç”¨æµè§ˆå™¨æ§åˆ¶å°

1. **æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·**
   - æŒ‰ `F12` æˆ– `Cmd+Option+I` (Mac) / `Ctrl+Shift+I` (Windows)
   - åˆ‡æ¢åˆ° "Console" æ ‡ç­¾

2. **æ‰§è¡Œä»¥ä¸‹ä»£ç **
   ```javascript
   // æ·»åŠ  100 ç§¯åˆ†
   fetch('/api/debug/add-credits', {
     method: 'POST',
     headers: { 'Content-Type': 'application/json' },
     body: JSON.stringify({ credits: 100 })
   })
   .then(r => r.json())
   .then(data => {
     console.log('âœ… æ·»åŠ ç§¯åˆ†ç»“æœ:', data)
     if (data.success) {
       alert(`æˆåŠŸæ·»åŠ  ${data.credits.added} ç§¯åˆ†ï¼\nç§¯åˆ†: ${data.credits.before} â†’ ${data.credits.after}`)
       // åˆ·æ–°é¡µé¢ä»¥æ›´æ–°ç§¯åˆ†æ˜¾ç¤º
       window.location.reload()
     } else {
       alert('æ·»åŠ å¤±è´¥: ' + data.error)
     }
   })
   .catch(err => {
     console.error('âŒ é”™è¯¯:', err)
     alert('è¯·æ±‚å¤±è´¥: ' + err.message)
   })
   ```

3. **è‡ªå®šä¹‰ç§¯åˆ†æ•°é‡**
   ```javascript
   // æ·»åŠ  200 ç§¯åˆ†
   fetch('/api/debug/add-credits', {
     method: 'POST',
     headers: { 'Content-Type': 'application/json' },
     body: JSON.stringify({ credits: 200 })
   })
   .then(r => r.json())
   .then(data => console.log(data))
   ```

## ğŸ“Š ç§¯åˆ†è§„åˆ™

- **ç”Ÿæˆè§†é¢‘æ¶ˆè€—**: 10 ç§¯åˆ†/æ¬¡
- **å……å€¼æ¯”ä¾‹**: 1å…ƒ = 100ç§¯åˆ†
- **æµ‹è¯•ç§¯åˆ†**: å¯æ·»åŠ  1-10000 ç§¯åˆ†ï¼ˆä»…å¼€å‘ç¯å¢ƒï¼‰

## âš ï¸ é‡è¦æç¤º

1. **ä»…å¼€å‘ç¯å¢ƒå¯ç”¨**
   - æ­¤åŠŸèƒ½ä»…åœ¨ `NODE_ENV=development` æ—¶å¯ç”¨
   - ç”Ÿäº§ç¯å¢ƒä¼šè‡ªåŠ¨ç¦ç”¨ï¼Œç¡®ä¿å®‰å…¨

2. **éœ€è¦ç™»å½•**
   - å¿…é¡»å·²ç™»å½•æ‰èƒ½æ·»åŠ ç§¯åˆ†
   - æœªç™»å½•ä¼šè¿”å› 401 é”™è¯¯

3. **æ•°æ®åº“è®°å½•**
   - æ·»åŠ çš„ç§¯åˆ†ä¼šåˆ›å»ºæµ‹è¯•å……å€¼è®°å½•
   - è®°å½•ç±»å‹ä¸º `payment_method: 'test'`
   - çŠ¶æ€ä¸º `completed`

## ğŸ§ª æµ‹è¯•æµç¨‹

### å®Œæ•´æµ‹è¯•æµç¨‹

1. âœ… **ç™»å½•ç³»ç»Ÿ**
   - è®¿é—® `http://localhost:3000`
   - ä½¿ç”¨ Google è´¦å·ç™»å½•

2. âœ… **æ£€æŸ¥å½“å‰ç§¯åˆ†**
   - æŸ¥çœ‹å¯¼èˆªæ æ˜¾ç¤ºçš„ç§¯åˆ†ï¼ˆåº”è¯¥ä¸º 0ï¼‰

3. âœ… **æ·»åŠ æµ‹è¯•ç§¯åˆ†**
   - ç‚¹å‡» "+100æµ‹è¯•ç§¯åˆ†" æŒ‰é’®
   - æˆ–ä½¿ç”¨æµè§ˆå™¨æ§åˆ¶å°è°ƒç”¨ API

4. âœ… **éªŒè¯ç§¯åˆ†æ›´æ–°**
   - ç¡®è®¤å¯¼èˆªæ ç§¯åˆ†å·²æ›´æ–°ä¸º 100
   - åˆ·æ–°é¡µé¢ç¡®è®¤ç§¯åˆ†æŒä¹…åŒ–

5. âœ… **æµ‹è¯•è§†é¢‘ç”Ÿæˆ**
   - è®¿é—® `/video` é¡µé¢
   - å¡«å†™æç¤ºè¯ï¼ˆä¾‹å¦‚ï¼š`A cute cat playing on the grass`ï¼‰
   - ç‚¹å‡»"ç”Ÿæˆè§†é¢‘"
   - ç¡®è®¤ç§¯åˆ†è¢«æ‰£é™¤ï¼ˆ100 â†’ 90ï¼‰

6. âœ… **éªŒè¯ç§¯åˆ†æ‰£é™¤**
   - ç”Ÿæˆåæ£€æŸ¥ç§¯åˆ†æ˜¯å¦æ­£ç¡®æ‰£é™¤
   - æŸ¥çœ‹æ¶ˆè´¹è®°å½•ï¼ˆå¦‚æœå®ç°äº†è®°å½•åŠŸèƒ½ï¼‰

## ğŸ› æ•…éšœæ’é™¤

### æŒ‰é’®ä¸æ˜¾ç¤º

- **åŸå› **: å¯èƒ½ä¸åœ¨å¼€å‘ç¯å¢ƒ
- **è§£å†³**: ç¡®ä¿ä½¿ç”¨ `npm run dev` å¯åŠ¨ï¼Œè€Œä¸æ˜¯ `npm run build && npm start`

### æ·»åŠ ç§¯åˆ†å¤±è´¥

- **æ£€æŸ¥**: æ˜¯å¦å·²ç™»å½•
- **æ£€æŸ¥**: å¼€å‘æœåŠ¡å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œ
- **æ£€æŸ¥**: æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

### ç§¯åˆ†æœªæ›´æ–°

- **è§£å†³**: åˆ·æ–°é¡µé¢
- **è§£å†³**: æ£€æŸ¥ç½‘ç»œè¯·æ±‚æ˜¯å¦æˆåŠŸï¼ˆæµè§ˆå™¨å¼€å‘è€…å·¥å…· > Networkï¼‰

### API è¿”å› 403 é”™è¯¯

- **åŸå› **: ä¸åœ¨å¼€å‘ç¯å¢ƒ
- **è§£å†³**: ç¡®ä¿ `NODE_ENV=development`

## ğŸ“ API æ–‡æ¡£

### ç«¯ç‚¹
```
POST /api/debug/add-credits
```

### è¯·æ±‚ä½“
```json
{
  "credits": 100  // 1-10000 ä¹‹é—´çš„æ•´æ•°
}
```

### å“åº”ï¼ˆæˆåŠŸï¼‰
```json
{
  "success": true,
  "message": "æˆåŠŸæ·»åŠ  100 ç§¯åˆ†",
  "credits": {
    "before": 0,
    "added": 100,
    "after": 100
  }
}
```

### å“åº”ï¼ˆå¤±è´¥ï¼‰
```json
{
  "error": "é”™è¯¯ä¿¡æ¯",
  "details": "è¯¦ç»†é”™è¯¯æè¿°"
}
```

## ğŸ”— ç›¸å…³æ–‡ä»¶

- `app/api/debug/add-credits/route.ts` - æµ‹è¯•ç§¯åˆ† API
- `app/HomePageClient.tsx` - é¦–é¡µç»„ä»¶ï¼ˆåŒ…å«æµ‹è¯•æŒ‰é’®ï¼‰
- `lib/credits.ts` - ç§¯åˆ†ç®¡ç†å‡½æ•°
- `app/api/video/generate/route.ts` - è§†é¢‘ç”Ÿæˆ APIï¼ˆæ‰£é™¤ç§¯åˆ†ï¼‰

