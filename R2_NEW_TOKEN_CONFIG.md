# æ–°çš„ R2 API Token é…ç½®å€¼

## âœ… å®Œæ•´çš„ Vercel ç¯å¢ƒå˜é‡é…ç½®

æ ¹æ®ä½ æä¾›çš„æ–° Token ä¿¡æ¯ï¼Œä»¥ä¸‹æ˜¯å®Œæ•´çš„é…ç½®ï¼š

### åœ¨ Vercel Environment Variables ä¸­æ·»åŠ /æ›´æ–°ä»¥ä¸‹å˜é‡ï¼š

```bash
R2_ACCOUNT_ID=2776117bb412e09a1d30cbe886cd3935
R2_ACCESS_KEY_ID=wKxoT4Ug9tF7h6DAWerL4-cyMa_-GYAYAs9371GW
R2_SECRET_ACCESS_KEY=9090b9687c584ecfe296a6c106023a90d1abb91a1bd076a21c9c1af9b436a6f3
R2_BUCKET_NAME=sora2
R2_S3_ENDPOINT=https://2776117bb412e09a1d30cbe886cd3935.r2.cloudflarestorage.com
R2_PUBLIC_URL=https://pub-2868c824f92441499577980a0b61114c.r2.dev
```

## ğŸ“‹ é…ç½®å€¼è¯´æ˜

| ç¯å¢ƒå˜é‡ | å€¼ | æ¥æº | é•¿åº¦ |
|---------|-----|------|------|
| `R2_ACCOUNT_ID` | `2776117bb412e09a1d30cbe886cd3935` | å·²æœ‰é…ç½® | 32å­—ç¬¦ |
| `R2_ACCESS_KEY_ID` | `wKxoT4Ug9tF7h6DAWerL4-cyMa_-GYAYAs9371GW` | **ä»¤ç‰Œå€¼** | 39å­—ç¬¦ âœ… |
| `R2_SECRET_ACCESS_KEY` | `9090b9687c584ecfe296a6c106023a90d1abb91a1bd076a21c9c1af9b436a6f3` | **æœºå¯†è®¿é—®å¯†é’¥** | 64å­—ç¬¦ |
| `R2_BUCKET_NAME` | `sora2` | å·²æœ‰é…ç½® | - |
| `R2_S3_ENDPOINT` | `https://2776117bb412e09a1d30cbe886cd3935.r2.cloudflarestorage.com` | ä½ æä¾›çš„ç«¯ç‚¹ | - |
| `R2_PUBLIC_URL` | `https://pub-2868c824f92441499577980a0b61114c.r2.dev` | å·²æœ‰é…ç½® | - |

## âš ï¸ é‡è¦æç¤º

### 1. ä½¿ç”¨"ä»¤ç‰Œå€¼"ä½œä¸º Access Key ID

**âœ… æ­£ç¡®**ï¼š
```
R2_ACCESS_KEY_ID=wKxoT4Ug9tF7h6DAWerL4-cyMa_-GYAYAs9371GW
```
ï¼ˆä½¿ç”¨"ä»¤ç‰Œå€¼"ï¼Œ39å­—ç¬¦ï¼‰

**âŒ é”™è¯¯**ï¼š
```
R2_ACCESS_KEY_ID=4d7b30ddf64403fae2ddce70f3cb1a6a
```
ï¼ˆä¸è¦ä½¿ç”¨"è®¿é—®å¯†é’¥ ID"ï¼Œ32å­—ç¬¦ï¼‰

### 2. Secret Access Key æ ¼å¼

æ–°çš„ Secret Access Key ä»ç„¶æ˜¯64å­—ç¬¦åå…­è¿›åˆ¶ï¼š
- `9090b9687c584ecfe296a6c106023a90d1abb91a1bd076a21c9c1af9b436a6f3`
- ä»£ç ä¼šè‡ªåŠ¨è½¬æ¢ä¸º32å­—ç¬¦æˆ–ä½¿ç”¨å‰32å­—ç¬¦

## ğŸ”§ åœ¨ Vercel ä¸­é…ç½®æ­¥éª¤

### æ­¥éª¤ 1: è¿›å…¥ç¯å¢ƒå˜é‡è®¾ç½®

1. ç™»å½• Vercel Dashboard
2. é€‰æ‹©ä½ çš„é¡¹ç›®
3. è¿›å…¥ **Settings** â†’ **Environment Variables**

### æ­¥éª¤ 2: æ›´æ–°/æ·»åŠ å˜é‡

é€ä¸ªæ·»åŠ æˆ–æ›´æ–°ä»¥ä¸‹å˜é‡ï¼š

#### å˜é‡ 1: R2_ACCOUNT_ID
- **Key**: `R2_ACCOUNT_ID`
- **Value**: `2776117bb412e09a1d30cbe886cd3935`
- **Environment**: All Environments

#### å˜é‡ 2: R2_ACCESS_KEY_ID
- **Key**: `R2_ACCESS_KEY_ID`
- **Value**: `wKxoT4Ug9tF7h6DAWerL4-cyMa_-GYAYAs9371GW`
- **Environment**: All Environments

#### å˜é‡ 3: R2_SECRET_ACCESS_KEY
- **Key**: `R2_SECRET_ACCESS_KEY`
- **Value**: `9090b9687c584ecfe296a6c106023a90d1abb91a1bd076a21c9c1af9b436a6f3`
- **Environment**: All Environments

#### å˜é‡ 4: R2_BUCKET_NAME
- **Key**: `R2_BUCKET_NAME`
- **Value**: `sora2`
- **Environment**: All Environments

#### å˜é‡ 5: R2_S3_ENDPOINT
- **Key**: `R2_S3_ENDPOINT`
- **Value**: `https://2776117bb412e09a1d30cbe886cd3935.r2.cloudflarestorage.com`
- **Environment**: All Environments

#### å˜é‡ 6: R2_PUBLIC_URL
- **Key**: `R2_PUBLIC_URL`
- **Value**: `https://pub-2868c824f92441499577980a0b61114c.r2.dev`
- **Environment**: All Environments

### æ­¥éª¤ 3: ä¿å­˜å¹¶é‡æ–°éƒ¨ç½²

1. ç‚¹å‡» **Save** ä¿å­˜æ‰€æœ‰å˜é‡
2. è¿›å…¥ **Deployments** æ ‡ç­¾
3. æ‰¾åˆ°æœ€æ–°çš„éƒ¨ç½²
4. ç‚¹å‡» **...** â†’ **Redeploy**
5. ç­‰å¾…éƒ¨ç½²å®Œæˆ

## ğŸ“ å¿«é€Ÿå¤åˆ¶ï¼ˆä¸€è¡Œä¸€ä¸ªï¼‰

å¦‚æœéœ€è¦å¿«é€Ÿå¤åˆ¶ï¼Œä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š

```
R2_ACCOUNT_ID=2776117bb412e09a1d30cbe886cd3935
R2_ACCESS_KEY_ID=wKxoT4Ug9tF7h6DAWerL4-cyMa_-GYAYAs9371GW
R2_SECRET_ACCESS_KEY=9090b9687c584ecfe296a6c106023a90d1abb91a1bd076a21c9c1af9b436a6f3
R2_BUCKET_NAME=sora2
R2_S3_ENDPOINT=https://2776117bb412e09a1d30cbe886cd3935.r2.cloudflarestorage.com
R2_PUBLIC_URL=https://pub-2868c824f92441499577980a0b61114c.r2.dev
```

## âœ… é…ç½®åéªŒè¯

é…ç½®å®Œæˆåï¼š

1. **é‡æ–°éƒ¨ç½²é¡¹ç›®**
2. **æµ‹è¯•è¿æ¥**ï¼š
   - ç™»å½•ç®¡ç†å‘˜åå°
   - è¿›å…¥"é¦–é¡µç®¡ç†"
   - ç‚¹å‡»"åˆ·æ–°åˆ—è¡¨"
   - åº”è¯¥èƒ½æ­£å¸¸åŠ è½½ R2 æ–‡ä»¶åˆ—è¡¨

3. **å¦‚æœä»ç„¶å¤±è´¥**ï¼š
   - æŸ¥çœ‹ Vercel Function Logs
   - æœç´¢ `[R2]` æŸ¥çœ‹è½¬æ¢æ—¥å¿—
   - ç¡®è®¤æ–° Token çš„æ ¼å¼æ˜¯å¦æ­£ç¡®

## ğŸ” æ–° Token æ ¼å¼åˆ†æ

- **Access Key ID**: 39å­—ç¬¦ï¼ˆä»¤ç‰Œå€¼ï¼‰
- **Secret Access Key**: 64å­—ç¬¦åå…­è¿›åˆ¶

ä»£ç ä¼šè‡ªåŠ¨å¤„ç†64å­—ç¬¦çš„ Secret Access Keyï¼Œå°è¯•ï¼š
1. ä½¿ç”¨å‰32å­—ç¬¦ï¼ˆä¼˜å…ˆï¼‰
2. è½¬æ¢ä¸ºBase64ï¼ˆ43å­—ç¬¦ï¼‰

å¸Œæœ›è¿™æ¬¡èƒ½æˆåŠŸï¼

