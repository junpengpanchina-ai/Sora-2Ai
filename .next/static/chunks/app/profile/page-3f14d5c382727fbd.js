(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4178,970],{3635:function(e,t,r){Promise.resolve().then(r.bind(r,7938))},7938:function(e,t,r){"use strict";r.d(t,{default:function(){return i}});var a=r(7437),s=r(2265),n=r(1055),l=r(7648),d=r(970);function i(e){let{userProfile:t}=e,r=(0,s.useMemo)(()=>(0,d.createClient)(),[]),[i,c]=(0,s.useState)((null==t?void 0:t.credits)||0),[o,x]=(0,s.useState)([]),[g,u]=(0,s.useState)([]),[m,h]=(0,s.useState)(!0),y=(0,s.useCallback)(async()=>{let{data:{session:e}}=await r.auth.getSession();return(null==e?void 0:e.access_token)?{Authorization:"Bearer ".concat(e.access_token)}:{}},[r]),f=(0,s.useCallback)(async()=>{if(t)try{let e=await y(),t=await fetch("/api/stats",{headers:e});if(t.ok){let e=await t.json();e.success&&void 0!==e.credits&&c(e.credits)}let r=await fetch("/api/payment/recharge-records",{headers:e});if(r.ok){let e=await r.json();e.success&&(x(e.records||e.recharge_records||[]),void 0!==e.user_credits&&c(e.user_credits))}let a=await fetch("/api/payment/credit-adjustments",{headers:e});if(a.ok){let e=await a.json();e.success&&u(e.adjustments||[])}}catch(e){console.error("Failed to fetch data:",e)}finally{h(!1)}},[t,y]);function b(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}(0,s.useEffect)(()=>{if(!t){h(!1);return}f()},[t,f]);let p=(0,s.useMemo)(()=>[...o.map(e=>({type:"recharge",id:e.id,created_at:e.created_at,amount:e.amount,credits:e.credits,status:e.status,payment_id:e.payment_id,before_credits:null,after_credits:null})),...g.map(e=>({type:"adjustment",id:e.id,created_at:e.created_at,amount:null,credits:e.delta,status:e.adjustment_type,payment_id:e.reason||"Admin adjustment",before_credits:e.before_credits,after_credits:e.after_credits}))].sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()),[o,g]);return t?(0,a.jsx)("div",{className:"min-h-screen bg-energy-hero dark:bg-energy-hero-dark p-4",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Profile"}),(0,a.jsx)(l.default,{href:"/",children:(0,a.jsx)(n.zx,{variant:"secondary",size:"sm",children:"Back to Home"})})]}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"View your account information and payment history"}),(0,a.jsxs)("section",{className:"sr-only",children:[(0,a.jsx)("h2",{children:"Account Management and Credits System"}),(0,a.jsx)("p",{children:"Your Sora2Ai Videos account dashboard provides comprehensive management tools for your video generation activities. Here you can view your remaining credits, check your purchase history, update your profile settings, and manage your subscriptions. Our credit-based system makes it easy to track your usage and plan your video generation projects."}),(0,a.jsx)("p",{children:"Credits are used to generate AI videos on our platform. Each video generation requires 10 credits, and new users receive 30 free credits when they sign up. You can purchase additional credits through our flexible payment plans, which offer various credit packages to suit different needs and budgets."}),(0,a.jsx)("p",{children:"Your account profile stores your personal information, including your name, email address, and avatar. You can update these details at any time to keep your account information current. The payment history section shows all your transactions, including credit purchases and subscription renewals, helping you track your spending and manage your account effectively."}),(0,a.jsx)("h3",{children:"Account Features"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"View and manage your video generation credits"}),(0,a.jsx)("li",{children:"Track your purchase history and transactions"}),(0,a.jsx)("li",{children:"Update your profile information and avatar"}),(0,a.jsx)("li",{children:"Monitor your account activity and usage"}),(0,a.jsx)("li",{children:"Manage subscription plans and billing"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)(n.Zb,{className:"lg:col-span-1",children:[(0,a.jsx)(n.Ol,{children:(0,a.jsx)(n.ll,{children:"Account Information"})}),(0,a.jsxs)(n.aY,{className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex justify-center",children:t.avatar_url?(0,a.jsx)("img",{src:t.avatar_url,alt:t.name||"User avatar",width:96,height:96,className:"h-24 w-24 rounded-full object-cover",referrerPolicy:"no-referrer",loading:"lazy"}):(0,a.jsx)("div",{className:"flex h-24 w-24 items-center justify-center rounded-full bg-gray-200 text-2xl font-semibold text-gray-600",children:(t.name||t.email||"?").charAt(0).toUpperCase()})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Name"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.name||"Not set"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Email"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"User ID"}),(0,a.jsx)("p",{className:"text-xs font-mono text-gray-600 dark:text-gray-400 break-all",children:t.id})]}),t.created_at&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Member Since"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:b(t.created_at)})]})]})]}),(0,a.jsxs)(n.Zb,{className:"lg:col-span-1",children:[(0,a.jsx)(n.Ol,{children:(0,a.jsx)(n.ll,{children:"Current Credits"})}),(0,a.jsx)(n.aY,{children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mb-2 text-5xl font-bold text-energy-water dark:text-energy-soft",children:m?"...":i}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Available Credits"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Each video generation consumes 10 credits"}),(0,a.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,a.jsx)(l.default,{href:"/",className:"block",children:(0,a.jsx)(n.zx,{variant:"primary",className:"w-full",children:"Buy Credits"})}),(0,a.jsx)(l.default,{href:"/video",className:"block",children:(0,a.jsx)(n.zx,{variant:"secondary",className:"w-full",children:"Generate Video"})})]})]})})]}),(0,a.jsxs)(n.Zb,{className:"lg:col-span-1",children:[(0,a.jsx)(n.Ol,{children:(0,a.jsx)(n.ll,{children:"Statistics"})}),(0,a.jsxs)(n.aY,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Recharges"}),(0,a.jsx)("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:o.length})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Amount"}),(0,a.jsxs)("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["$",o.reduce((e,t)=>e+t.amount,0).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Credits"}),(0,a.jsx)("span",{className:"text-lg font-semibold text-energy-water dark:text-energy-soft",children:o.reduce((e,t)=>e+t.credits,0)})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Completed"}),(0,a.jsx)("span",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:o.filter(e=>"completed"===e.status).length})]})]})]})]}),(0,a.jsxs)(n.Zb,{className:"mt-6",children:[(0,a.jsx)(n.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(n.ll,{children:"Payment History"}),(0,a.jsxs)(n.Ct,{className:"bg-energy-water-surface text-energy-water dark:bg-energy-water-muted dark:text-energy-soft",children:[p.length," Total"]})]})}),(0,a.jsx)(n.aY,{children:m?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-b-2 border-energy-water"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Loading..."})]}):0===p.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No payment records found"}),(0,a.jsx)(l.default,{href:"/",className:"mt-4 inline-block",children:(0,a.jsx)(n.zx,{variant:"primary",size:"sm",children:"Make First Purchase"})})]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Date"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Type"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Amount"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Credits"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Status"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Details"})]})}),(0,a.jsx)("tbody",{children:p.map(e=>(0,a.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[(0,a.jsx)("td",{className:"py-3 px-4 text-sm text-gray-900 dark:text-white",children:b(e.created_at)}),(0,a.jsx)("td",{className:"py-3 px-4 text-sm text-gray-900 dark:text-white",children:"recharge"===e.type?"Recharge":"Adjustment"}),(0,a.jsx)("td",{className:"py-3 px-4 text-sm font-medium text-gray-900 dark:text-white",children:"recharge"===e.type?"$".concat(e.amount):"—"}),(0,a.jsx)("td",{className:"py-3 px-4 text-sm font-medium text-energy-water dark:text-energy-soft",children:(0,a.jsx)("span",{className:e.credits>=0?"text-energy-water dark:text-energy-soft":"text-red-600 dark:text-red-400",children:e.credits>0?"+".concat(e.credits):e.credits})}),(0,a.jsx)("td",{className:"py-3 px-4",children:"recharge"===e.type?function(e){let t={completed:{label:"Completed",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},pending:{label:"Pending",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},failed:{label:"Failed",className:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},cancelled:{label:"Cancelled",className:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},r=t[e]||t.pending;return(0,a.jsx)(n.Ct,{className:r.className,children:r.label})}(e.status):function(e){let t={manual_increase:{label:"Manual Increase",className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},manual_decrease:{label:"Manual Decrease",className:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},recharge_correction:{label:"Recharge Correction",className:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"},recharge_refund:{label:"Recharge Refund",className:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"},consumption_refund:{label:"Consumption Refund",className:"bg-teal-100 text-teal-800 dark:bg-teal-900 dark:text-teal-200"},other:{label:"Adjustment",className:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},r=t[e]||t.other;return(0,a.jsx)(n.Ct,{className:r.className,children:r.label})}(e.status)}),(0,a.jsxs)("td",{className:"py-3 px-4",children:[(0,a.jsx)("p",{className:"text-xs font-mono text-gray-500 dark:text-gray-400 truncate max-w-[200px]",children:"recharge"===e.type?e.payment_id||"N/A":e.payment_id||"Admin adjustment"}),"adjustment"===e.type&&null!==e.before_credits&&null!==e.after_credits&&(0,a.jsxs)("p",{className:"mt-1 text-[10px] uppercase tracking-wide text-gray-400 dark:text-gray-500",children:[e.before_credits," → ",e.after_credits]})]})]},e.id))})]})})})]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-energy-hero dark:bg-energy-hero-dark flex items-center justify-center p-4",children:(0,a.jsxs)(n.Zb,{className:"w-full max-w-md",children:[(0,a.jsx)(n.Ol,{children:(0,a.jsx)(n.ll,{className:"text-center",children:"Profile"})}),(0,a.jsxs)(n.aY,{children:[(0,a.jsx)("p",{className:"text-center text-gray-600 dark:text-gray-400 mb-4",children:"Please login to view your profile"}),(0,a.jsx)(l.default,{href:"/login",className:"block",children:(0,a.jsx)(n.zx,{variant:"primary",className:"w-full",children:"Login"})}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsx)(l.default,{href:"/",children:(0,a.jsx)(n.zx,{variant:"secondary",className:"w-full",children:"Back to Home"})})})]})]})})}},5225:function(e,t,r){"use strict";var a=r(7437),s=r(2265),n=r(4508);let l=s.forwardRef((e,t)=>{let{className:r,variant:s="info",title:l,children:d,...i}=e;return(0,a.jsxs)("div",{ref:t,role:"alert",className:(0,n.cn)("rounded-lg p-4 text-sm",{success:"bg-green-50 text-green-800 dark:bg-green-900/20 dark:text-green-400",error:"bg-red-50 text-red-800 dark:bg-red-900/20 dark:text-red-400",warning:"bg-yellow-50 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",info:"bg-energy-water-surface text-energy-water dark:bg-energy-water-muted dark:text-energy-soft"}[s],r),...i,children:[l&&(0,a.jsx)("p",{className:"font-semibold mb-1",children:l}),(0,a.jsx)("div",{children:d})]})});l.displayName="Alert",t.Z=l},9379:function(e,t,r){"use strict";var a=r(7437),s=r(2265),n=r(4508);let l=s.forwardRef((e,t)=>{let{className:r,variant:s="default",children:l,...d}=e;return(0,a.jsx)("span",{ref:t,className:(0,n.cn)("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",{success:"text-green-600 bg-green-50 dark:text-green-400 dark:bg-green-900/20",error:"text-red-600 bg-red-50 dark:text-red-400 dark:bg-red-900/20",warning:"text-yellow-600 bg-yellow-50 dark:text-yellow-400 dark:bg-yellow-900/20",info:"text-energy-water bg-energy-water-surface dark:text-energy-soft dark:bg-energy-water-muted",default:"text-gray-600 bg-gray-50 dark:text-gray-400 dark:bg-gray-800",secondary:"text-energy-deep bg-energy-water-surface ring-1 ring-energy-gold-outline dark:text-white dark:bg-gray-800 dark:ring-gray-600"}[s],r),...d,children:l})});l.displayName="Badge",t.Z=l},4226:function(e,t,r){"use strict";var a=r(7437),s=r(2265),n=r(4508);let l={primary:"bg-gradient-to-r from-[#1f75ff] via-[#3f8cff] to-[#6fd6ff] text-white shadow-[0_18px_45px_-18px_rgba(33,122,255,0.75)] hover:brightness-110 active:translate-y-[1px]",secondary:"bg-gradient-to-r from-[#151a2b] via-[#1f2741] to-[#2a3c5f] text-white border border-white/15 shadow-[0_18px_35px_-22px_rgba(4,12,32,0.8)] hover:border-white/40 hover:bg-white/10 active:translate-y-[1px]",danger:"bg-red-600 text-white hover:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700",ghost:"text-energy-deep hover:bg-energy-water-surface dark:text-gray-300 dark:hover:bg-gray-800",outline:"border border-gray-300 text-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700"},d={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},i=s.forwardRef((e,t)=>{let{className:r,variant:s="primary",size:i="md",isLoading:c,disabled:o,children:x,...g}=e;return(0,a.jsx)("button",{ref:t,className:(0,n.cn)("inline-flex items-center justify-center rounded-lg font-semibold transition-all duration-200 focus-ring disabled:opacity-50 disabled:cursor-not-allowed",l[s],d[i],r),disabled:o||c,...g,children:c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,a.jsx)("span",{children:"Loading..."})]}):x})});i.displayName="Button",t.Z=i},9178:function(e,t,r){"use strict";r.d(t,{Ol:function(){return d},Zb:function(){return l},aY:function(){return c},ll:function(){return i}});var a=r(7437),s=r(2265),n=r(4508);let l=s.forwardRef((e,t)=>{let{className:r,variant:s="default",children:l,...d}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)({default:"rounded-lg bg-white p-6 shadow-lg dark:bg-gray-800",bordered:"rounded-lg border border-gray-200 bg-white p-6 dark:border-gray-700 dark:bg-gray-800",elevated:"rounded-lg bg-white p-6 shadow-xl dark:bg-gray-800"}[s],r),...d,children:l})});l.displayName="Card";let d=s.forwardRef((e,t)=>{let{className:r,children:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("mb-4",r),...l,children:s})});d.displayName="CardHeader";let i=s.forwardRef((e,t)=>{let{className:r,children:s,...l}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-xl font-semibold text-gray-900 dark:text-white",r),...l,children:s})});i.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:r,children:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("",r),...l,children:s})});c.displayName="CardContent"},8068:function(e,t,r){"use strict";var a=r(7437),s=r(2265),n=r(4508);let l=s.forwardRef((e,t)=>{let{className:r,label:l,error:d,helperText:i,id:c,...o}=e,x=s.useId(),g=null!=c?c:x;return(0,a.jsxs)("div",{className:"w-full",children:[l&&(0,a.jsxs)("label",{htmlFor:g,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[l,o.required&&(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsx)("input",{ref:t,id:g,className:(0,n.cn)("w-full rounded-md border px-3 py-2 text-gray-900 shadow-sm transition-colors","focus:border-energy-water focus:outline-none focus:ring-energy-water","dark:border-gray-600 dark:bg-gray-700 dark:text-white","disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed","dark:disabled:bg-gray-800 dark:disabled:text-gray-400",d?"border-red-300 focus:border-red-500 focus:ring-red-500 dark:border-red-600":"border-gray-300 dark:border-gray-600",r),"aria-invalid":d?"true":"false","aria-describedby":d?"".concat(g,"-error"):i?"".concat(g,"-helper"):void 0,...o}),d&&(0,a.jsx)("p",{id:"".concat(g,"-error"),className:"mt-1 text-sm text-red-600 dark:text-red-400",role:"alert",children:d}),i&&!d&&(0,a.jsx)("p",{id:"".concat(g,"-helper"),className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:i})]})});l.displayName="Input",t.Z=l},4351:function(e,t,r){"use strict";var a=r(7437),s=r(2265),n=r(4508);let l=s.forwardRef((e,t)=>{let{className:r,label:s,error:l,helperText:d,id:i,...c}=e,o=i||"textarea-".concat(Math.random().toString(36).substr(2,9));return(0,a.jsxs)("div",{className:"w-full",children:[s&&(0,a.jsxs)("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s,c.required&&(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsx)("textarea",{ref:t,id:o,className:(0,n.cn)("w-full rounded-md border px-3 py-2 text-gray-900 shadow-sm transition-colors","focus:border-energy-water focus:outline-none focus:ring-energy-water","dark:border-gray-600 dark:bg-gray-700 dark:text-white","disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed","dark:disabled:bg-gray-800 dark:disabled:text-gray-400",l?"border-red-300 focus:border-red-500 focus:ring-red-500 dark:border-red-600":"border-gray-300 dark:border-gray-600",r),"aria-invalid":l?"true":"false","aria-describedby":l?"".concat(o,"-error"):d?"".concat(o,"-helper"):void 0,...c}),l&&(0,a.jsx)("p",{id:"".concat(o,"-error"),className:"mt-1 text-sm text-red-600 dark:text-red-400",role:"alert",children:l}),d&&!l&&(0,a.jsx)("p",{id:"".concat(o,"-helper"),className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:d})]})});l.displayName="Textarea",t.Z=l},1055:function(e,t,r){"use strict";r.d(t,{bZ:function(){return i.Z},Ct:function(){return d.Z},zx:function(){return a.Z},Zb:function(){return s.Zb},aY:function(){return s.aY},Ol:function(){return s.Ol},ll:function(){return s.ll},II:function(){return n.Z},gx:function(){return l.Z}});var a=r(4226),s=r(9178),n=r(8068),l=r(4351),d=r(9379),i=r(5225),c=r(7437),o=r(2265),x=r(4508);o.forwardRef((e,t)=>{let{className:r,value:a,max:s=100,showLabel:n=!1,size:l="md",variant:d="default",...i}=e,o=Math.min(Math.max(a/s*100,0),100),g={sm:"h-2",md:"h-3",lg:"h-4"};return(0,c.jsxs)("div",{ref:t,className:(0,x.cn)("w-full",r),...i,children:[n&&(0,c.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400 mb-2",children:[(0,c.jsx)("span",{children:"Progress"}),(0,c.jsxs)("span",{children:[Math.round(o),"%"]})]}),(0,c.jsx)("div",{className:(0,x.cn)("w-full rounded-full bg-gray-200 dark:bg-gray-700",g[l]),children:(0,c.jsx)("div",{className:(0,x.cn)("rounded-full transition-all duration-300",g[l],{default:"bg-energy-water",success:"bg-green-600",warning:"bg-yellow-600",error:"bg-red-600"}[d]),style:{width:"".concat(o,"%")},role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":s})})]})}).displayName="Progress"},970:function(e,t,r){"use strict";let a,s;r.d(t,{createClient:function(){return d}});var n=r(3053);let l=new Map;function d(){let e="https://hgzpzsiafycwlqrkzbis.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhnenB6c2lhZnljd2xxcmt6YmlzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI2MTk4NzIsImV4cCI6MjA3ODE5NTg3Mn0.WdpkrSXVZVZ64bY8NXG6Bpf-w59i305F7agny6wuj_Q";if(!e||!t)throw Error("Missing Supabase environment variables");return s||(s=function(){let e=function(){try{return"localStorage"in window?window.localStorage:null}catch(e){return null}}(),t=function(){try{return"sessionStorage"in window?window.sessionStorage:null}catch(e){return null}}();return{async getItem(r){var a;r.endsWith("-code-verifier")&&console.log("[SupabaseStorage] getItem start",{key:r});let s=null==e?void 0:e.getItem(r);if(null!=s)return l.set(r,s),r.endsWith("-code-verifier")&&console.log("[SupabaseStorage] getItem hit localStorage",{key:r}),s;let n=null==t?void 0:t.getItem(r);if(null!=n)return l.set(r,n),r.endsWith("-code-verifier")&&console.log("[SupabaseStorage] getItem hit sessionStorage",{key:r}),n;let d=function(e){if("undefined"==typeof document)return null;for(let t of document.cookie?document.cookie.split("; "):[]){let[r,...a]=t.split("=");if(r===e)return decodeURIComponent(a.join("="))}return null}(r);return null!==d?(l.set(r,d),r.endsWith("-code-verifier")&&console.log("[SupabaseStorage] getItem hit cookie",{key:r}),d):(r.endsWith("-code-verifier")&&console.log("[SupabaseStorage] getItem miss",{key:r}),null!==(a=l.get(r))&&void 0!==a?a:null)},async setItem(r,a){let s=String(a);try{null==e||e.setItem(r,s),r.endsWith("-code-verifier")&&console.log("[SupabaseStorage] setItem localStorage success",{key:r})}catch(e){r.endsWith("-code-verifier")&&console.warn("[SupabaseStorage] setItem localStorage failed",{key:r,error:e})}try{null==t||t.setItem(r,s),r.endsWith("-code-verifier")&&console.log("[SupabaseStorage] setItem sessionStorage success",{key:r})}catch(e){r.endsWith("-code-verifier")&&console.warn("[SupabaseStorage] setItem sessionStorage failed",{key:r,error:e})}if(r.endsWith("-code-verifier"))try{(function(e,t,r){if("undefined"==typeof document)return;let a="https:"===window.location.protocol,s="".concat(e,"=").concat(encodeURIComponent(t),"; Path=/; SameSite=Lax; Max-Age=").concat(600).concat(a?"; Secure":"");document.cookie=s})(r,s,0),console.log("[SupabaseStorage] setItem cookie success",{key:r})}catch(e){console.warn("[SupabaseStorage] setItem cookie failed",{key:r,error:e})}l.set(r,s),r.endsWith("-code-verifier")&&console.log("[SupabaseStorage] setItem memory store",{key:r})},async removeItem(r){try{null==e||e.removeItem(r),r.endsWith("-code-verifier")&&console.log("[SupabaseStorage] removeItem localStorage",{key:r})}catch(e){r.endsWith("-code-verifier")&&console.warn("[SupabaseStorage] removeItem localStorage failed",{key:r,error:e})}try{null==t||t.removeItem(r),r.endsWith("-code-verifier")&&console.log("[SupabaseStorage] removeItem sessionStorage",{key:r})}catch(e){r.endsWith("-code-verifier")&&console.warn("[SupabaseStorage] removeItem sessionStorage failed",{key:r,error:e})}r.endsWith("-code-verifier")&&("undefined"!=typeof document&&(document.cookie="".concat(r,"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Lax")),console.log("[SupabaseStorage] removeItem cookie",{key:r})),l.delete(r)}}}()),a||(a=(0,n.eI)(e,t,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce",storage:s}})),a}},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(1994),s=r(3335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var a=r(2972),s=r.n(a)}},function(e){e.O(0,[2972,6137,4609,3053,2971,2117,1744],function(){return e(e.s=3635)}),_N_E=e.O()}]);