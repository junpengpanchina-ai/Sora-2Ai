(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931,970],{4789:function(e,t,a){Promise.resolve().then(a.bind(a,9305))},9305:function(e,t,a){"use strict";a.d(t,{default:function(){return j}});var r=a(7437),s=a(2265),i=a(7648),o=a(9376),l=a(1055),n=a(2655),c=a(970),d=a(1212),u=a(3426);function m(e){let{className:t=""}=e,a=(0,o.useRouter)(),[i,l]=(0,s.useState)(!1),n=async()=>{try{var e,t,r,s,i,o,n,m;l(!0);let d=(0,c.createClient)();try{let e=new URLSearchParams(window.location.search).get("redirect"),t="/login"===window.location.pathname,a="".concat(window.location.pathname).concat(window.location.search);(0,u.Ko)(e||(t?"/":a)||"/")}catch(e){}let h="".concat(window.location.origin,"/auth/callback");console.log("Initiating OAuth login...",{redirectTo:h});try{let e="__oauth_test__";localStorage.setItem(e,"test"),localStorage.removeItem(e),console.log("✅ localStorage is available")}catch(e){console.error("❌ localStorage is not available:",e),a.push("/login?error="+encodeURIComponent("Local storage is unavailable in your browser. Please disable private browsing / strict privacy modes, or check your browser settings, then try again.")),l(!1);return}let{data:g,error:x}=await d.auth.signInWithOAuth({provider:"google",options:{redirectTo:h,skipBrowserRedirect:!1,queryParams:{prompt:"consent",access_type:"offline"}}});if(x){console.error("OAuth error:",x);let o=x.message||"Login failed. Please try again.";(null===(e=x.message)||void 0===e?void 0:e.includes("redirect_uri_mismatch"))?o="Login configuration error: Redirect URI mismatch. Please contact support or try email login instead.":(null===(t=x.message)||void 0===t?void 0:t.includes("access_denied"))?o="Login cancelled. Please try again or use email magic link.":(null===(r=x.message)||void 0===r?void 0:r.includes("popup_blocked"))?o="Popup blocked. Please allow popups for this site and try again, or use email magic link.":((null===(s=x.message)||void 0===s?void 0:s.includes("network"))||(null===(i=x.message)||void 0===i?void 0:i.includes("fetch")))&&(o="Network error. Please check your internet connection and try again, or use email magic link."),a.push("/login?error=".concat(encodeURIComponent(o))),l(!1);return}console.log("OAuth URL generated:",(null==g?void 0:g.url)?"Yes":"No"),console.log("localStorage keys after signInWithOAuth:",Object.keys(localStorage)),console.log("sessionStorage keys after signInWithOAuth:",Object.keys(sessionStorage));let p=e=>e.includes("code_verifier")||e.includes("codeVerifier")||e.includes("oauthCodeVerifier")||e.includes("pkce"),f=e=>{let t=Object.keys(e),a=t.filter(e=>e.includes("supabase")||e.startsWith("sb-"));for(let s of a){let i=s.toLowerCase();if(i.includes("code_verifier")||i.includes("code-verifier")||i.includes("oauth-code-verifier"))return{detected:!0,key:s,source:"key",supabaseKeys:a,keys:t};try{var r;let i=e.getItem(s);if(!i)continue;if(p(i))return{detected:!0,key:s,source:"value",supabaseKeys:a,keys:t};let o=JSON.parse(i);if((null==o?void 0:o.code_verifier)||(null==o?void 0:o.codeVerifier)||(null==o?void 0:o.oauthCodeVerifier)||(null==o?void 0:null===(r=o.session)||void 0===r?void 0:r.codeVerifier)||(null==o?void 0:o.pkce))return{detected:!0,key:s,source:"parsed",supabaseKeys:a,keys:t}}catch(e){}}return{detected:!1,key:null,source:null,supabaseKeys:a,keys:t}},y=()=>{let e=f(localStorage);if(e.detected)return{...e,storage:"localStorage"};if("undefined"!=typeof sessionStorage){let t=f(sessionStorage);if(t.detected){try{let e=sessionStorage.getItem(t.key||"");e&&localStorage.setItem(t.key||"",e)}catch(e){console.warn("Failed to copy PKCE data from sessionStorage to localStorage",{key:t.key,error:e})}return{...t,storage:"sessionStorage"}}return{detected:!1,key:null,source:null,storage:"sessionStorage",supabaseKeys:t.supabaseKeys,keys:t.keys,localKeys:e.keys,localSupabaseKeys:e.supabaseKeys}}return{...e,storage:"localStorage"}};if(null==g?void 0:g.url){console.log("Supabase provided OAuth URL, waiting for PKCE data before redirect...",{url:g.url});let e=0,t=!1,a={detected:!1,key:null,source:null,storage:"localStorage",supabaseKeys:[],keys:[]};for(;e<30&&!t;){if(await new Promise(e=>setTimeout(e,100)),t=(a=y()).detected){console.log("Detected PKCE data before redirect.",{attempts:e,storage:a.storage,key:a.key,source:a.source});break}++e<30&&console.log("⏳ Waiting for PKCE data before redirect... (".concat(e,"/").concat(30,")"),{localStorageKeys:Object.keys(localStorage),sessionStorageKeys:"undefined"!=typeof sessionStorage?Object.keys(sessionStorage):[]})}if(!t){console.warn("⚠️ PKCE data not detected before redirect. Forcing redirect with diagnostic info.",{localStorageKeys:Object.keys(localStorage),sessionStorageKeys:"undefined"!=typeof sessionStorage?Object.keys(sessionStorage):[],detectionDetails:a});let e=(null==a?void 0:a.key)||(null==a?void 0:null===(o=a.supabaseKeys)||void 0===o?void 0:o.find(e=>e.includes("code")));if("undefined"!=typeof document&&e)try{let t="".concat(e),r=(null==a?void 0:a.storage)==="sessionStorage"?null!==(n=sessionStorage.getItem(e))&&void 0!==n?n:"":null!==(m=localStorage.getItem(e))&&void 0!==m?m:"";r&&(console.log("Attempting to copy PKCE value to cookie manually before redirect",{cookieName:t}),document.cookie="".concat(t,"=").concat(encodeURIComponent(r),"; Path=/; SameSite=Lax; Max-Age=600").concat("https:"===window.location.protocol?"; Secure":""))}catch(e){console.error("Failed to set PKCE cookie manually",e)}}window.location.assign(g.url);return}console.log("Supabase handled the redirect automatically.")}catch(e){console.error("Login error:",e),await (0,d.H)(e instanceof Error?e:Error(String(e)),{redirectTo:"".concat(window.location.origin,"/auth/callback"),step:"login_initiation"}),a.push("/login?error=".concat(encodeURIComponent(e instanceof Error?e.message:"unknown_error"))),l(!1)}};return(0,r.jsx)("button",{onClick:n,disabled:i,className:"group relative w-full flex items-center justify-center gap-3 rounded-xl bg-white px-6 py-4 text-base font-semibold text-gray-900 shadow-lg ring-1 ring-gray-200 transition-all duration-200 hover:bg-gray-50 hover:shadow-xl hover:-translate-y-0.5 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 disabled:hover:shadow-lg dark:bg-gray-700 dark:text-white dark:ring-gray-600 dark:hover:bg-gray-600 ".concat(t),children:i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5 text-blue-600 dark:text-blue-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,r.jsx)("span",{className:"text-gray-700 dark:text-gray-200",children:"Logging in..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"h-6 w-6 transition-transform group-hover:scale-110",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,r.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,r.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,r.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),(0,r.jsx)("span",{className:"text-gray-700 dark:text-gray-200",children:"Sign in with Google"})]})})}var h=a(3075),g=a(3145);function x(e){let{src:t,alt:a,width:i,height:o,useNextImage:l=!1,className:n="",loading:c="lazy",onError:d,onLoad:u}=e,[m,x]=(0,s.useState)(!1),p=(0,h.WP)(t),f=()=>{x(!0),null==d||d()},y=()=>{null==u||u()};return m?(0,r.jsx)("div",{className:"flex items-center justify-center bg-gray-100 dark:bg-gray-800 text-gray-400 ".concat(n),children:(0,r.jsx)("span",{className:"text-sm",children:"Failed to load image"})}):l&&i&&o?(0,r.jsx)(g.default,{src:p,alt:a,width:i,height:o,className:n,onError:f,onLoad:y,loading:"lazy",decoding:"async"}):(0,r.jsx)("img",{src:p,alt:a,className:n,onError:f,onLoad:y,loading:c,decoding:"async",fetchPriority:"eager"===c?"high":"auto"})}function p(e){let{isOpen:t,onClose:a}=e,i=(0,o.useRouter)(),[n,d]=(0,s.useState)([]),[m,h]=(0,s.useState)(!0),[g,x]=(0,s.useState)("packs"),[p,f]=(0,s.useState)(null),[y,v]=(0,s.useState)(!1),b=(0,s.useCallback)(()=>{try{return(0,c.createClient)()}catch(e){return console.error("[PricingModal] Failed to create Supabase client:",e),null}},[]);(0,s.useEffect)(()=>{t&&j()},[t]),(0,s.useEffect)(()=>{t&&x(w(n)?"starter":"packs")},[t,n]);let w=e=>{var t;return null!==(t=[...e].sort((e,t)=>e.amount-t.amount).find(e=>e.amount>0&&e.amount<=10))&&void 0!==t?t:null};async function j(){try{h(!0);let e=await fetch("/api/payment/payment-link?t="+Date.now(),{cache:"no-store"}),t=await e.json();if(t.success&&t.payment_links){let e=t.payment_links.sort((e,t)=>e.amount-t.amount);d(e)}}catch(e){console.error("Failed to fetch payment links:",e)}finally{h(!1)}}let k=(0,s.useCallback)(async()=>{try{let e=b();if(!e)return{"Content-Type":"application/json"};let{data:{session:t}}=await e.auth.getSession();if(null==t?void 0:t.access_token)return{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.access_token)}}catch(e){console.error("[PricingModal] Failed to get session:",e)}return{"Content-Type":"application/json"}},[b]),N=async e=>{try{let t;if(f(e),console.log("[PricingModal] Starting checkout:",{paymentLinkId:e}),y){console.warn("[PricingModal] Already redirecting to login, skipping");return}let r=await k(),s=window.location.href,o=await fetch("/api/payment/payment-link",{method:"POST",headers:r,body:JSON.stringify({payment_link_id:e})});console.log("[PricingModal] API response status:",o.status),console.log("[PricingModal] API response headers:",Object.fromEntries(o.headers.entries()));let l=await o.text();console.log("[PricingModal] API response text:",l);try{t=JSON.parse(l),console.log("[PricingModal] API response data:",t)}catch(e){throw console.error("[PricingModal] Failed to parse JSON response:",e),Error("Invalid response from server: ".concat(l.substring(0,100)))}if(401===o.status){console.warn("[PricingModal] 401 Unauthorized - redirecting to login");let e="payment_checkout_redirect_attempt",t=sessionStorage.getItem(e),r=Date.now();if(t){let e=parseInt(t,10);if(r-e<5e3){console.error("[PricingModal] 检测到无限循环，停止重定向"),alert("登录状态异常，请刷新页面后重试");return}}sessionStorage.setItem(e,r.toString()),v(!0),(0,u.Ko)(s),a(),setTimeout(()=>{i.push("/login?redirect=".concat(encodeURIComponent(s)))},100);return}if(sessionStorage.removeItem("payment_checkout_redirect_attempt"),!o.ok||!(null==t?void 0:t.success)){let e=(null==t?void 0:t.error)||(null==t?void 0:t.details)||"Failed to start checkout";throw console.error("[PricingModal] Checkout failed:",{status:o.status,ok:o.ok,success:null==t?void 0:t.success,error:e,fullResponse:t}),Error(e)}if(null==t?void 0:t.recharge_id)try{localStorage.setItem("pending_recharge_id",String(t.recharge_id)),console.log("[PricingModal] Saved recharge_id:",t.recharge_id)}catch(e){}if(null==t?void 0:t.payment_link_url){let e=String(t.payment_link_url).trim();if(console.log("[PricingModal] Redirecting to payment link:",e),console.log("[PricingModal] Payment URL validation:",{url:e,isValid:e.startsWith("http"),length:e.length}),!e||!e.startsWith("http"))throw Error("Invalid payment URL: ".concat(e));window.location.href=e;return}throw Error("Missing payment_link_url in response")}catch(t){console.error("[PricingModal] Checkout error:",t);let e=t instanceof Error?t.message:"Checkout failed. Please try again.";alert("Payment Error: ".concat(e,"\n\nPlease check the console for more details."))}finally{f(null)}};if(!t)return null;let S=w(n),_=n.filter(e=>e.amount>=10).sort((e,t)=>e.amount-t.amount);return(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Begin Your Journey, Risk-Free"}),(0,r.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(S||_.length>0)&&(0,r.jsxs)("div",{className:"mb-6 flex flex-wrap items-center justify-center gap-3",children:[S&&(0,r.jsxs)(l.zx,{type:"button",variant:"starter"===g?"primary":"secondary",size:"sm",onClick:()=>x("starter"),children:["Start for $",S.amount.toFixed(2)]}),_.length>0&&(0,r.jsx)(l.zx,{type:"button",variant:"packs"===g?"primary":"secondary",size:"sm",onClick:()=>x("packs"),children:"Upgrade Packs"})]}),(0,r.jsxs)("div",{className:"mb-6 p-6 rounded-xl bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border-2 border-green-200 dark:border-green-800",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Path A: Full Free Trial"}),(0,r.jsxs)("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-4",children:['Click "Try Sora2 Free". Receive ',(0,r.jsx)("strong",{className:"font-semibold",children:"30 credits immediately"})," — no payment needed, ",(0,r.jsx)("strong",{className:"font-semibold",children:"no credit card asked for at all"}),". Your email is used solely to create your account. This is your safe space to experiment."]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"flex-1 h-px bg-green-200 dark:bg-green-800"}),(0,r.jsx)("span",{className:"text-xs font-semibold text-green-700 dark:text-green-300 uppercase tracking-wider",children:"Completely Free • No Credit Card Required"}),(0,r.jsx)("div",{className:"flex-1 h-px bg-green-200 dark:bg-green-800"})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Path B: Secure Purchase for Permanent Creation"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["Choose a credit pack below. All transactions are protected by ",(0,r.jsx)("strong",{className:"font-semibold",children:"SSL encryption"}),"and processed by ",(0,r.jsx)("strong",{className:"font-semibold",children:"PCI-DSS compliant partners"}),". We ",(0,r.jsx)("strong",{className:"font-semibold",children:"never store your full payment details"}),". Buy with confidence."]})]}),m?(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-energy-water"})}):(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[("starter"===g&&S?[S]:_).map(e=>(0,r.jsxs)(l.Zb,{className:"relative ".concat("starter"===g||39===e.amount?"border-2 border-energy-gold-mid dark:border-energy-gold-soft shadow-lg":""),children:[("starter"===g||39===e.amount)&&(0,r.jsx)(l.Ct,{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-energy-water text-white shadow-custom-md",children:"starter"===g?"Starter Deal":"Most Popular"}),(0,r.jsx)(l.Ol,{children:(0,r.jsx)(l.ll,{className:"text-xl text-center",children:e.name})}),(0,r.jsxs)(l.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-4xl font-bold text-energy-water dark:text-energy-soft",children:["$",e.amount]}),(0,r.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:e.currency.toUpperCase()})]}),(0,r.jsxs)("div",{className:"text-center py-4 border-t border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:[e.videos," Videos"]}),(0,r.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[e.credits," Credits"]})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:e.description}),(0,r.jsxs)("div",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:["~ $",(e.amount/e.videos).toFixed(2)," / video"]}),(0,r.jsx)(l.zx,{type:"button",variant:"primary",className:"w-full",disabled:!!p,onClick:()=>N(e.id),children:p===e.id?"Redirecting…":"Continue to Checkout"})]})]},e.id)),"packs"===g&&S&&_.length>0&&(0,r.jsx)("div",{className:"col-span-full mt-4 text-center",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Or"," ",(0,r.jsxs)("button",{onClick:()=>x("starter"),className:"font-semibold text-energy-water hover:text-energy-water-deep underline",children:["start with the $",S.amount.toFixed(2)," starter pack"]})," ","first →"]})})]}),(0,r.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,r.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Security & Purchase Information"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-xs text-gray-700 dark:text-gray-300",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold mb-1 text-gray-900 dark:text-white",children:"Payment Security:"}),(0,r.jsxs)("ul",{className:"space-y-1",children:[(0,r.jsx)("li",{children:"• SSL encryption for all transactions"}),(0,r.jsx)("li",{children:"• PCI-DSS compliant payment processing"}),(0,r.jsx)("li",{children:"• We never store your full payment details"}),(0,r.jsx)("li",{children:"• Supports credit cards, debit cards, and more"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold mb-1 text-gray-900 dark:text-white",children:"Credits Information:"}),(0,r.jsxs)("ul",{className:"space-y-1",children:[(0,r.jsx)("li",{children:"• Credits automatically added after payment"}),(0,r.jsx)("li",{children:"• Each video generation consumes 10 credits"}),(0,r.jsx)("li",{children:"• Credits are permanent with no expiration"}),(0,r.jsx)("li",{children:"• Free trial: 30 credits, no payment required"})]})]})]})]})]})})})}let f=[{id:"dream-city",title:"Futuristic Skyline",description:"Cinematic aerial shot with dynamic camera movement and neon reflections.",prompt:"A sweeping aerial shot over a futuristic coastal city at sunset, glass skyscrapers with neon lights, flying vehicles leaving light trails, camera gliding through the skyline with lens flares, ultra realistic, shot on 8k cinema camera."},{id:"forest-creatures",title:"Forest Creatures",description:"Magical woodland scene with stylized lighting and soft depth of field.",prompt:"Close-up of two curious red pandas exploring a glowing forest, soft volumetric light beams, dust particles floating in the air, shallow depth of field, whimsical mood, Pixar style."},{id:"sports-energy",title:"Sports Energy",description:"High-energy slow motion shot with detailed motion and textures.",prompt:"Slow-motion shot of a basketball player leaping for a dunk during a street game, sweat particles, motion trails, dynamic crowd in the background, golden hour lighting, handheld documentary style."},{id:"fashion-walk",title:"Fashion Runway",description:"Stylized neon runway with bold colors and reflective surfaces.",prompt:"Editorial fashion walk on a reflective runway, bold neon purple and teal lighting, model wearing avant-garde metallic outfit, camera dolly backward with subtle parallax, crisp reflections on glossy floor."}],y=[{title:"Marketing Campaigns",description:"Product launches, promotions, and brand storytelling with short-form video.",tag:"marketing"},{title:"Social Media Shorts",description:"Fast, scroll-stopping clips for TikTok / Reels / Shorts—optimized for 10–15s.",tag:"social-media"},{title:"Advertising Creatives",description:"A/B test ad angles quickly with consistent visual style and messaging.",tag:"ads"},{title:"Product Demos",description:"Show features and workflows clearly—ideal for SaaS and e-commerce.",tag:"product-demo"},{title:"Education Explainers",description:"Visualize concepts with simple, safe scenes and clear structure.",tag:"education"},{title:"YouTube Visual B-Roll",description:"Supplement narration with cinematic, topic-matching visuals.",tag:"youtube"},{title:"Local Business Promos",description:"Restaurants, cafes, gyms—flash deals and announcements made easy.",tag:"local"},{title:"Real Estate Highlights",description:"Property features, neighborhood vibe, and lifestyle storytelling.",tag:"real-estate"}],v=[{title:"For Marketing Teams",description:"Create ad creatives, landing page videos, and campaign visuals in minutes.",link:"/use-cases?type=advertising-promotion"},{title:"For E-commerce Sellers",description:"Generate product demo videos and UGC-style content at scale.",link:"/use-cases?type=product-demo-showcase"},{title:"For Educators & Trainers",description:"Turn lessons and scripts into engaging educational videos.",link:"/use-cases?type=education-explainer"},{title:"For Social Media Creators",description:"Produce TikTok, YouTube Shorts, and Instagram videos daily with AI.",link:"/use-cases?type=social-media-content"}],b=[{step:1,title:"Enter Your Text or Prompt",description:"Describe your video idea or upload a script."},{step:2,title:"Choose Video Style",description:"Select format, style, and resolution."},{step:3,title:"Generate with AI",description:"Sora2 automatically creates the video."},{step:4,title:"Download or Share",description:"Export and publish anywhere."}],w=[{question:"Is Sora2 free to use?",answer:"Yes. You can start for free and upgrade for advanced features."},{question:"Do videos have watermarks?",answer:"Free plans may include watermarks. Paid plans export clean videos."},{question:"Do I need editing skills?",answer:"No. Everything is generated automatically by AI."},{question:"Can I use videos commercially?",answer:"Yes. Paid users get full commercial usage rights."},{question:"What platforms are supported?",answer:"TikTok, YouTube, Instagram, websites, ads, and more."}];function j(e){var t,d,g,j,k,N;let{userProfile:S}=e,_=(0,o.useRouter)(),[C,I]=(0,s.useState)(null),[P,E]=(0,s.useState)(S),[z,A]=(0,s.useState)(null),[F,M]=(0,s.useState)((null==S?void 0:S.credits)||0),[T,O]=(0,s.useState)(!1),[R,L]=(0,s.useState)("packs"),[U,W]=(0,s.useState)(null),[V,D]=(0,s.useState)(!1),[B,K]=(0,s.useState)(!1),[Y,q]=(0,s.useState)(!1),[J,Z]=(0,s.useState)(null),[G,H]=(0,s.useState)(null),[$,X]=(0,s.useState)([]),[Q,ee]=(0,s.useState)(null),et=(0,s.useRef)(null),ea=(0,s.useRef)(null),er=null!=P?P:S,es=null!==(N=[...$].sort((e,t)=>e.amount-t.amount).find(e=>e.amount>0&&e.amount<=10))&&void 0!==N?N:null,ei=[...$].filter(e=>e.amount>=10).sort((e,t)=>e.is_recommended!==t.is_recommended?e.is_recommended?-1:1:e.amount-t.amount);(0,s.useEffect)(()=>{P&&null===Q&&e();async function e(){try{let e=await fetch("/api/payment/recharge-records");if(e.ok){let t=await e.json();if(t.success){let e=t.records&&t.records.length>0;ee(e)}}}catch(e){console.error("Failed to check recharge records:",e),ee(!1)}}},[P,Q]),(0,s.useEffect)(()=>{if(V||0===$.length)return;let e=!1===Q&&F<=30;L(es&&(e||!Q)?"starter":"packs"),D(!0)},[$.length,V,es,Q,F]);let eo=async e=>{let t="/#pricing-plans",r=!1;if(C)try{let{data:{session:e}}=await C.auth.getSession();r=!!(null==e?void 0:e.user)}catch(e){console.error("Failed to check auth status:",e)}if(!r&&!P){(0,u.Ko)(t),_.push("/login?redirect=".concat(encodeURIComponent(t)));return}try{let i;W(e.id);let o=await el();try{{let{getOrCreateDeviceId:e}=await a.e(1912).then(a.bind(a,1912));i=e()}}catch(e){console.warn("Failed to get device ID:",e)}console.log("[Checkout] Starting checkout for plan:",e.id,{hasAuth:!!o.Authorization,isAuthenticated:r,hasHydratedProfile:!!P,deviceId:(null==i?void 0:i.substring(0,20))||"none"});let l=await fetch("/api/checkout/create",{method:"POST",headers:{"Content-Type":"application/json",...o},body:JSON.stringify({planId:e.id,deviceId:i})});console.log("[Checkout] API response status:",l.status);let n=await l.json();if(console.log("[Checkout] API response:",n),401===l.status){var s;console.error("[Checkout] 401 Unauthorized - Authentication failed",{planId:e.id,hasAuthHeader:!!o.Authorization,authHeaderLength:(null===(s=o.Authorization)||void 0===s?void 0:s.length)||0,error:n.error||"Unknown error"});let a="payment_checkout_redirect_attempt",r=sessionStorage.getItem(a),i=Date.now();if(r){let e=parseInt(r,10);if(i-e<1e4){console.error("[Checkout] 检测到无限循环，停止重定向",{lastAttempt:e,now:i,diff:i-e}),alert("Login status error. Please refresh the page and try again.");return}}if(C)try{let{data:{session:t},error:r}=await C.auth.getSession();if(console.log("[Checkout] Refreshing auth session",{hasSession:!!t,hasUser:!!(null==t?void 0:t.user),error:r}),null==t?void 0:t.user){sessionStorage.removeItem(a);let t="payment_checkout_retry";if(!sessionStorage.getItem(t)){console.log("[Checkout] Retrying checkout with refreshed session"),sessionStorage.setItem(t,"1"),setTimeout(()=>{sessionStorage.removeItem(t),eo(e)},500);return}}}catch(e){console.error("[Checkout] Failed to refresh auth:",e)}sessionStorage.setItem(a,i.toString()),(0,u.Ko)(t),_.push("/login?redirect=".concat(encodeURIComponent(t)));return}if(sessionStorage.removeItem("payment_checkout_redirect_attempt"),sessionStorage.removeItem("payment_checkout_retry"),!l.ok)throw console.error("[Checkout] API returned error",{status:l.status,ok:l.ok,error:null==n?void 0:n.error,message:null==n?void 0:n.message}),Error((null==n?void 0:n.error)||(null==n?void 0:n.message)||"Failed to start checkout");if(null==n?void 0:n.url){console.log("[Checkout] Success! Redirecting to Stripe Checkout",{url:n.url}),window.location.href=n.url;return}throw console.error("[Checkout] Missing url in response",n),Error("Missing checkout URL")}catch(t){console.error("[Checkout] Checkout failed with exception",{error:t,message:t instanceof Error?t.message:String(t),stack:t instanceof Error?t.stack:void 0,planId:e.id}),sessionStorage.removeItem("payment_checkout_redirect_attempt"),sessionStorage.removeItem("payment_checkout_retry"),alert(t instanceof Error?t.message:"Checkout failed. Please try again.")}finally{W(null)}};(0,s.useEffect)(()=>{I((0,c.createClient)())},[]),(0,s.useEffect)(()=>{try{let e=new URLSearchParams(window.location.search),t="1"===e.get("pricing"),a=e.get("redirect");if(a&&(0,u.Ko)(a),t){O(!0),e.delete("pricing");let t=e.toString(),a="".concat(window.location.pathname).concat(t?"?".concat(t):"").concat(window.location.hash||"");window.history.replaceState({},"",a)}}catch(e){}},[]),(0,s.useEffect)(()=>{let e=async()=>{try{let t=Date.now(),[a,r]=await Promise.all([fetch("/api/homepage?t=".concat(t),{cache:"no-store",headers:{"Cache-Control":"no-cache"}}),fetch("/api/payment-plans?t=".concat(t),{cache:"no-store"})]),s=await a.json();if(s.success&&s.settings){var e;console.log("[Homepage Settings] Loaded:",{theme_style:s.settings.theme_style,image_count:(null===(e=s.settings.hero_image_paths)||void 0===e?void 0:e.length)||0,image_paths:s.settings.hero_image_paths}),H(s.settings)}let i=await r.json();i.success&&i.plans&&X(i.plans)}catch(e){console.error("Failed to load homepage settings:",e)}};e();let t=setInterval(()=>{e()},3e5);return()=>clearInterval(t)},[]),(0,s.useEffect)(()=>{E(S),(null==S?void 0:S.credits)!==void 0&&(null==S?void 0:S.credits)!==null&&M(S.credits)},[S]);let el=(0,s.useCallback)(async()=>{if(!C)return{};let{data:{session:e}}=await C.auth.getSession();return(null==e?void 0:e.access_token)?{Authorization:"Bearer ".concat(e.access_token)}:{}},[C]);(0,s.useEffect)(()=>{if(!C)return;let e=!0,t=async()=>{try{var t,a,r,s,i,o,l,n,c,d,u,m,h,g,x,p,f,y,v,b,w,j,k;let{data:{user:N}}=await C.auth.getUser();if(!N){e&&(E(null),M(0));return}let S=(null===(t=N.user_metadata)||void 0===t?void 0:t.provider_id)||(null===(a=N.user_metadata)||void 0===a?void 0:a.sub)||(null===(r=N.app_metadata)||void 0===r?void 0:r.provider_id)||N.id,{data:_,error:I}=await C.from("users").select("*").eq("google_id",S).maybeSingle(),P=null!=_?_:null,z=null!==(h=null!==(m=null!==(u=null!==(d=null==P?void 0:P.avatar_url)&&void 0!==d?d:null===(s=N.user_metadata)||void 0===s?void 0:s.avatar_url)&&void 0!==u?u:null===(i=N.user_metadata)||void 0===i?void 0:i.picture)&&void 0!==m?m:null===(o=N.user_metadata)||void 0===o?void 0:o.avatar)&&void 0!==h?h:null,A=null!==(y=null!==(f=null!==(p=null!==(x=null!==(g=null==P?void 0:P.name)&&void 0!==g?g:null===(l=N.user_metadata)||void 0===l?void 0:l.full_name)&&void 0!==x?x:null===(n=N.user_metadata)||void 0===n?void 0:n.name)&&void 0!==p?p:null===(c=N.user_metadata)||void 0===c?void 0:c.display_name)&&void 0!==f?f:N.email)&&void 0!==y?y:null,F=P?{...P,avatar_url:null!==(b=null!==(v=P.avatar_url)&&void 0!==v?v:z)&&void 0!==b?b:null,name:null!==(j=null!==(w=P.name)&&void 0!==w?w:A)&&void 0!==j?j:void 0}:null;if(e&&(!I||"PGRST116"!==I.code)){E(F);let e=P&&"object"==typeof P&&"credits"in P&&null!==(k=P.credits)&&void 0!==k?k:null;null!=e&&M(e)}}catch(e){console.error("Failed to load profile:",e)}};t();let{data:{subscription:a}}=C.auth.onAuthStateChange((e,a)=>{if(!(null==a?void 0:a.user)){E(null),M(0);return}t()});return()=>{e=!1,a.unsubscribe()}},[C]),(0,s.useEffect)(()=>{if(!P||!C)return;let e=!0,t=async()=>{try{let t=await el(),a=await fetch("/api/stats",{headers:t});if(!a.ok)return;let r=await a.json();if(!e||!(null==r?void 0:r.success))return;A(r.stats),void 0!==r.credits&&M(r.credits)}catch(e){console.error("Failed to fetch stats:",e)}};t();let a=setInterval(t,3e4),r=e=>{let a=e.detail;(null==a?void 0:a.credits)!==void 0&&(M(a.credits),t())};return window.addEventListener("creditsUpdated",r),()=>{e=!1,clearInterval(a),window.removeEventListener("creditsUpdated",r)}},[P,el,C]);let en=(0,s.useCallback)(async(e,t)=>{try{var a;if(null===(a=navigator.clipboard)||void 0===a?void 0:a.writeText)await navigator.clipboard.writeText(t);else{let e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.opacity="0",document.body.appendChild(e),e.select(),document.execCommand("copy");try{e.isConnected&&e.parentNode&&e.remove()}catch(e){console.debug("Failed to remove textarea (safe to ignore):",e)}}Z(e),setTimeout(()=>Z(null),2e3)}catch(e){console.error("Failed to copy prompt",e)}},[]);(0,s.useEffect)(()=>{if(!("IntersectionObserver"in window)){K(!0),q(!0);return}let e=[],t=(t,a)=>{let r=t.current;if(!r)return;let s=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(a(!0),s.unobserve(e.target))})},{rootMargin:"400px"});s.observe(r),e.push(()=>s.disconnect())};return t(et,K),t(ea,q),()=>{e.forEach(e=>e())}},[]),(0,s.useEffect)(()=>{if(!Y||!(null==G?void 0:G.hero_video_paths))return;let e=setTimeout(()=>{let e=ea.current;e&&Array.from(e.querySelectorAll("video")).forEach(e=>{try{if(!e.isConnected)return;e.muted=!0,e.play().catch(t=>{console.log("Video autoplay failed:",t);let a=()=>{e.isConnected&&e.play().catch(()=>{}),document.removeEventListener("click",a),document.removeEventListener("touchstart",a)};document.addEventListener("click",a,{once:!0}),document.addEventListener("touchstart",a,{once:!0})})}catch(e){console.debug("Video playback error (safe to ignore):",e)}})},100),t=ea.current;return t&&Array.from(t.querySelectorAll("video")).forEach(e=>{try{if(!e.isConnected)return;e.addEventListener("loadeddata",()=>{e.isConnected&&(e.muted=!0,e.play().catch(()=>{}))})}catch(e){console.debug("Video event listener error (safe to ignore):",e)}}),()=>{clearTimeout(e)}},[Y,null==G?void 0:G.hero_video_paths]);let ec=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ed=z&&"number"==typeof z.succeeded?Math.round(z.succeeded/Math.max(z.total||1,1)*100):null,eu=(null==G?void 0:G.theme_style)||"cosmic";console.log("[Theme] Current style:",eu,"settings:",G);let em=(()=>{switch(eu){case"christmas":return{container:"relative min-h-screen overflow-hidden text-white christmas-theme",bg:"christmas-bg",glow:"christmas-glow",decorations:["christmas-snow","christmas-lights"]};case"minimal":return{container:"min-h-screen bg-white text-gray-900",bg:"",glow:"",decorations:[]};case"modern":return{container:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900 text-white",bg:"",glow:"",decorations:[]};case"classic":return{container:"min-h-screen bg-gradient-to-b from-blue-50 to-indigo-100 text-gray-900",bg:"",glow:"",decorations:[]};default:return{container:"relative min-h-screen overflow-hidden bg-[#050b18] text-white",bg:"cosmic-space",glow:"cosmic-glow",decorations:["cosmic-stars","cosmic-noise"]}}})();return(0,r.jsxs)("div",{className:em.container,children:[em.bg&&(0,r.jsx)("div",{className:"".concat(em.bg," absolute inset-0"),"aria-hidden":"true"}),em.glow&&(0,r.jsx)("div",{className:"".concat(em.glow," absolute inset-0"),"aria-hidden":"true"}),em.decorations.map((e,t)=>(0,r.jsx)("div",{className:"".concat(e," absolute inset-0"),"aria-hidden":"true"},t)),(0,r.jsxs)("div",{className:"relative z-10",children:[(0,r.jsx)("nav",{className:"border-b border-gray-200 bg-white/80 backdrop-blur-sm dark:border-gray-700 dark:bg-gray-800/80 sticky top-0 z-50",children:(0,r.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Sora2Ai Videos"}),(0,r.jsx)(i.default,{href:"/prompts",className:"text-sm font-medium text-gray-700 transition-colors hover:text-energy-water dark:text-gray-300 dark:hover:text-energy-water-deep",children:"Prompts"}),(0,r.jsx)(i.default,{href:P?"/video":"/login",className:"text-sm font-medium text-gray-700 transition-colors hover:text-energy-water dark:text-gray-300 dark:hover:text-energy-water-deep",children:"Video Generation"}),(0,r.jsx)(i.default,{href:"/use-cases",className:"text-sm font-medium text-gray-700 transition-colors hover:text-energy-water dark:text-gray-300 dark:hover:text-energy-water-deep",children:"Use Cases"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[P&&z&&(0,r.jsxs)("div",{className:"hidden lg:flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"px-2 py-1 rounded bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total"}),(0,r.jsx)("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:z.total})]}),(0,r.jsxs)("div",{className:"px-2 py-1 rounded bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Success"}),(0,r.jsx)("p",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:z.succeeded})]}),(0,r.jsxs)("div",{className:"px-2 py-1 rounded bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Processing"}),(0,r.jsx)("p",{className:"text-sm font-bold text-blue-600 dark:text-blue-400",children:z.processing})]}),(0,r.jsxs)("div",{className:"px-2 py-1 rounded bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Failed"}),(0,r.jsx)("p",{className:"text-sm font-bold text-red-600 dark:text-red-400",children:z.failed})]})]}),P?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-energy-water-surface dark:bg-energy-water-muted",children:(0,r.jsxs)("span",{className:"text-sm font-medium text-energy-water dark:text-energy-soft",children:["Credits: ",F]})}),P.avatar_url?(0,r.jsx)("img",{src:P.avatar_url,alt:null!==(d=P.name)&&void 0!==d?d:"User avatar",width:32,height:32,className:"h-8 w-8 rounded-full object-cover",referrerPolicy:"no-referrer",loading:"lazy"}):(0,r.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gray-200 text-sm font-semibold text-gray-600",children:(null!==(j=null!==(g=P.name)&&void 0!==g?g:P.email)&&void 0!==j?j:"?").charAt(0).toUpperCase()}),(0,r.jsx)("span",{className:"hidden text-sm font-medium text-gray-700 dark:text-gray-300 sm:inline",children:null!==(k=P.name)&&void 0!==k?k:P.email}),(0,r.jsx)(l.zx,{variant:"primary",size:"sm",onClick:()=>O(!0),children:"Buy Plan"}),(0,r.jsx)(n.Z,{})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.default,{href:"/login",children:(0,r.jsx)(l.zx,{variant:"primary",size:"sm",children:"Buy Plan"})}),(0,r.jsx)(m,{})]})]})]})})}),(0,r.jsxs)("div",{className:"cosmic-content",children:[(0,r.jsx)("section",{className:"relative isolate overflow-hidden py-24 sm:py-28 lg:py-32",children:(0,r.jsxs)("div",{className:"relative z-10 mx-auto max-w-6xl px-6 text-left",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-4 py-1 text-[0.7rem] uppercase tracking-[0.45em] text-energy-gold-light",children:[(null==G?void 0:G.hero_badge_text)||"Best Sora Alternative",(0,r.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-energy-gold-light"})]}),(0,r.jsx)("h2",{className:"mt-6 text-4xl font-semibold leading-tight text-white sm:text-5xl lg:text-[3.2rem]",children:P?(null==G?void 0:null===(t=G.hero_h1_text_logged_in)||void 0===t?void 0:t.replace("{name}",P.name||"Creator"))||"Welcome back, ".concat(P.name||"Creator","! Create AI Videos Like Sora"):(null==G?void 0:G.hero_h1_text)||"Best Sora Alternatives for AI Video Generation"}),(0,r.jsx)("p",{className:"mt-4 max-w-3xl text-base text-blue-100/90 sm:text-lg",children:(null==G?void 0:G.hero_description)||"Find the best Sora alternatives for creating stunning text-to-video content. Our free AI video generator lets you create professional videos from text prompts in seconds. Compare top Sora alternatives and start creating today."}),(0,r.jsxs)("div",{className:"mt-8 flex flex-wrap gap-4",children:[(0,r.jsx)(i.default,{href:P?"/video":"/login",children:(0,r.jsx)(l.zx,{variant:"primary",size:"lg",className:"shadow-energy-focus",children:(null==G?void 0:G.cta_primary_text_logged_out)||(null==G?void 0:G.cta_primary_text)||"Start Generating Videos Free"})}),(0,r.jsx)(i.default,{href:"/use-cases",children:(0,r.jsx)(l.zx,{variant:"secondary",size:"lg",children:(null==G?void 0:G.cta_secondary_text)||"View AI Video Examples"})})]}),(0,r.jsx)("div",{className:"mt-12 grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{label:"Tasks in progress",value:z?z.processing:"—"},{label:"Total renders",value:z?z.total:"—"},{label:"Success rate",value:null===ed?"—":"".concat(ed,"%")},{label:"Available credits",value:"number"==typeof F?F:"—"}].map(e=>(0,r.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 shadow-[0_10px_40px_-20px_rgba(15,30,70,0.8)]",children:[(0,r.jsx)("p",{className:"text-sm uppercase tracking-[0.2em] text-blue-100/70",children:e.label}),(0,r.jsx)("p",{className:"mt-3 text-4xl font-semibold text-white",children:e.value})]},e.label))})]})}),(0,r.jsxs)("main",{className:"mx-auto max-w-7xl px-4 py-8 text-white sm:px-6 lg:px-8",children:[P&&(0,r.jsx)("div",{className:"mb-10",children:(0,r.jsxs)(l.Zb,{className:"!bg-white/5 border border-white/15 backdrop-blur-xl text-blue-50 shadow-[0_25px_80px_-45px_rgba(0,0,0,0.9)]",children:[(0,r.jsx)(l.Ol,{children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l.ll,{className:"text-white",children:"Scenario Applications"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-blue-100/80",children:"Browse scenario inspirations. To keep navigation simple, every scenario entry links to the same hub page."})]}),(0,r.jsx)(i.default,{href:"/use-cases",children:(0,r.jsx)(l.zx,{variant:"primary",size:"sm",children:"Open Use Cases"})})]})}),(0,r.jsx)(l.aY,{children:(0,r.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:y.map(e=>(0,r.jsxs)(i.default,{href:"/use-cases",className:"rounded-2xl border border-white/10 bg-white/5 p-4 transition hover:border-energy-water hover:bg-white/10",children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-[0.25em] text-energy-water",children:e.tag}),(0,r.jsx)("p",{className:"mt-2 text-lg font-semibold text-white",children:e.title}),(0,r.jsx)("p",{className:"mt-1 text-sm text-blue-100/80",children:e.description})]},e.title))})})]})}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsxs)(l.Zb,{className:"!bg-white/5 border border-white/15 backdrop-blur-xl text-blue-50 shadow-[0_25px_80px_-45px_rgba(0,0,0,0.9)]",children:[(0,r.jsx)(l.Ol,{children:(0,r.jsx)(l.ll,{className:"text-white",children:"Pricing Information"})}),(0,r.jsx)(l.aY,{children:(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-sm text-blue-100/80 mb-2",children:[(0,r.jsx)("strong",{className:"text-white",children:"Video Generation Price:"}),(0,r.jsx)("span",{className:"font-semibold text-energy-water",children:" 10 credits/video"})]}),(0,r.jsx)("p",{className:"text-xs text-blue-200/75",children:"【Watermark-free】OpenAI's latest Sora 2.0 model, official beta testing, pricing is tentative and may change in the future"})]})})})]})}),(0,r.jsx)("div",{className:"mb-8 space-y-6",ref:et,children:B&&(null==G?void 0:G.hero_image_paths)&&G.hero_image_paths.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"overflow-hidden will-change-transform",children:(0,r.jsxs)("div",{className:"flex gap-6 animate-slide-right",style:{width:"200%"},children:[(0,r.jsx)("div",{className:"flex gap-6 flex-shrink-0",style:{width:"50%"},children:G.hero_image_paths.slice(0,Math.ceil(G.hero_image_paths.length/2)).map((e,t)=>{var a;return(0,r.jsx)("div",{className:"flex-shrink-0 w-full sm:w-[calc(50%-12px)] lg:w-[calc(25%-18px)]",children:(0,r.jsx)(x,{src:e,alt:(null===(a=G.hero_image_alt_texts)||void 0===a?void 0:a[t])||"Image ".concat(t+1),className:"w-full h-auto rounded-lg",loading:t<2?"eager":"lazy"})},"top-".concat(e,"-").concat(t))})}),(0,r.jsx)("div",{className:"flex gap-6 flex-shrink-0",style:{width:"50%"},children:G.hero_image_paths.slice(0,Math.ceil(G.hero_image_paths.length/2)).map((e,t)=>{var a;return(0,r.jsx)("div",{className:"flex-shrink-0 w-full sm:w-[calc(50%-12px)] lg:w-[calc(25%-18px)]",children:(0,r.jsx)(x,{src:e,alt:(null===(a=G.hero_image_alt_texts)||void 0===a?void 0:a[t])||"Image ".concat(t+1),className:"w-full h-auto rounded-lg",loading:"lazy"})},"top-dup-".concat(e,"-").concat(t))})})]})}),(0,r.jsx)("div",{className:"overflow-hidden will-change-transform",children:(0,r.jsxs)("div",{className:"flex gap-6 animate-slide-left",style:{width:"200%"},children:[(0,r.jsx)("div",{className:"flex gap-6 flex-shrink-0",style:{width:"50%"},children:G.hero_image_paths.slice(Math.ceil(G.hero_image_paths.length/2)).map((e,t)=>{var a;return(0,r.jsx)("div",{className:"flex-shrink-0 w-full sm:w-[calc(50%-12px)] lg:w-[calc(25%-18px)]",children:(0,r.jsx)(x,{src:e,alt:(null===(a=G.hero_image_alt_texts)||void 0===a?void 0:a[Math.ceil(G.hero_image_paths.length/2)+t])||"Image ".concat(Math.ceil(G.hero_image_paths.length/2)+t+1),className:"w-full h-auto rounded-lg",loading:"lazy"})},"bottom-".concat(e,"-").concat(t))})}),(0,r.jsx)("div",{className:"flex gap-6 flex-shrink-0",style:{width:"50%"},children:G.hero_image_paths.slice(Math.ceil(G.hero_image_paths.length/2)).map((e,t)=>{var a;return(0,r.jsx)("div",{className:"flex-shrink-0 w-full sm:w-[calc(50%-12px)] lg:w-[calc(25%-18px)]",children:(0,r.jsx)(x,{src:e,alt:(null===(a=G.hero_image_alt_texts)||void 0===a?void 0:a[Math.ceil(G.hero_image_paths.length/2)+t])||"Image ".concat(Math.ceil(G.hero_image_paths.length/2)+t+1),className:"w-full h-auto rounded-lg",loading:"lazy"})},"bottom-dup-".concat(e,"-").concat(t))})})]})})]}):(0,r.jsx)("div",{className:"h-[320px] w-full rounded-3xl bg-white/40 dark:bg-gray-900/40 animate-pulse","aria-hidden":"true"})}),(0,r.jsx)("div",{className:"mb-8",ref:ea,children:Y&&(null==G?void 0:G.hero_video_paths)&&G.hero_video_paths.length>0?(0,r.jsx)("div",{className:"overflow-hidden will-change-transform",children:(0,r.jsxs)("div",{className:"flex gap-6 animate-slide-right",style:{width:"200%"},children:[(0,r.jsx)("div",{className:"flex gap-6 flex-shrink-0",style:{width:"50%"},children:G.hero_video_paths.map((e,t)=>(0,r.jsx)("div",{className:"flex-shrink-0 w-full sm:w-[calc(50%-12px)] lg:w-[calc(25%-18px)]",children:(0,r.jsx)("video",{src:(0,h.WP)(e),className:"w-full aspect-[9/16] rounded-lg cursor-pointer object-cover",controls:!0,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:0===t?"metadata":"none",onLoadedData:e=>{let t=e.currentTarget;t.play().catch(e=>{console.log("Autoplay blocked, trying muted playback:",e),t.muted=!0,t.play().catch(()=>{console.log("Video autoplay failed, requires user interaction")})})}})},"video-".concat(t)))}),(0,r.jsx)("div",{className:"flex gap-6 flex-shrink-0",style:{width:"50%"},children:G.hero_video_paths.map((e,t)=>(0,r.jsx)("div",{className:"flex-shrink-0 w-full sm:w-[calc(50%-12px)] lg:w-[calc(25%-18px)]",children:(0,r.jsx)("video",{src:(0,h.WP)(e),className:"w-full aspect-[9/16] rounded-lg cursor-pointer object-cover",controls:!0,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"none",onLoadedData:e=>{let t=e.currentTarget;t.play().catch(e=>{console.log("Autoplay blocked, trying muted playback:",e),t.muted=!0,t.play().catch(()=>{console.log("Video autoplay failed, requires user interaction")})})}})},"video-dup-".concat(t)))})]})}):(0,r.jsx)("div",{className:"h-[420px] w-full rounded-3xl bg-white/40 dark:bg-gray-900/40 animate-pulse","aria-hidden":"true"})}),!P&&(0,r.jsxs)("section",{className:"mb-12",children:[(0,r.jsx)("div",{className:"text-center mb-8",children:(0,r.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"Built for Creators, Marketers, and Businesses"})}),(0,r.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:v.map(e=>(0,r.jsxs)(i.default,{href:e.link,className:"rounded-2xl border border-white/10 bg-white/5 p-6 transition hover:border-energy-water hover:bg-white/10",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-blue-100/80",children:e.description})]},e.title))})]}),(0,r.jsxs)("section",{className:"mb-12",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"How It Works"}),(0,r.jsx)("p",{className:"text-blue-100/80",children:"Create professional videos in 4 simple steps"})]}),(0,r.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:b.map(e=>(0,r.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-energy-water text-white font-bold text-lg",children:e.step}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-white",children:e.title})]}),(0,r.jsx)("p",{className:"text-sm text-blue-100/80",children:e.description})]},e.step))})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,2fr)_minmax(0,1fr)] gap-8 mt-10 items-start",children:[(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{children:[(0,r.jsx)(l.ll,{children:"Prompt Templates"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Click “Use Template” to open the video generator with the prompt pre-filled, or copy it to tweak your own version."})]}),(0,r.jsx)(l.aY,{className:"space-y-4",children:(0,r.jsx)("div",{className:"grid gap-4",children:f.map(e=>(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 p-4 flex flex-col gap-3 bg-gray-50/40 dark:bg-gray-900/30",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-1",children:e.title}),(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.description})]}),(0,r.jsx)("pre",{className:"text-xs text-gray-800 dark:text-gray-200 bg-white dark:bg-gray-800 rounded-md p-3 whitespace-pre-wrap",children:e.prompt}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,r.jsx)(l.zx,{type:"button",variant:"secondary",size:"sm",onClick:()=>en(e.id,e.prompt),children:J===e.id?"Copied!":"Copy Prompt"}),(0,r.jsx)(i.default,{href:"/video?prompt=".concat(encodeURIComponent(e.prompt)),children:(0,r.jsx)(l.zx,{type:"button",variant:"primary",size:"sm",children:"Use Template"})})]})]},e.id))})})]})}),(0,r.jsxs)("div",{className:"space-y-6 w-full",children:[(0,r.jsxs)(l.Zb,{className:"w-full",children:[(0,r.jsx)(l.Ol,{children:(0,r.jsx)(l.ll,{children:"Features"})}),(0,r.jsxs)(l.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"\uD83C\uDFAC AI Video Generation"}),(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Use advanced Sora 2.0 model to generate high-quality videos from text descriptions"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"\uD83D\uDDBC️ Reference Images"}),(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Upload reference images to help AI better understand your creativity"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"⚙️ Flexible Configuration"}),(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Customize video aspect ratio, duration, and quality to meet different needs"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"\uD83D\uDCCA Real-time Tracking"}),(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Monitor task progress in real-time with automatic notifications on completion"})]})]})]}),(0,r.jsxs)(l.Zb,{className:"w-full",children:[(0,r.jsxs)(l.Ol,{children:[(0,r.jsx)(l.ll,{children:"Account Information"}),!er&&(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Log in to sync your credits, track tasks, and access billing details."})]}),(0,r.jsx)(l.aY,{className:"space-y-3",children:er?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Email"}),(0,r.jsx)("p",{className:"text-sm text-gray-900 dark:text-white",children:er.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Username"}),(0,r.jsx)("p",{className:"text-sm text-gray-900 dark:text-white",children:er.name||"Not set"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Credits"}),(0,r.jsx)("p",{className:"text-sm font-semibold text-energy-water dark:text-energy-soft",children:F})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Created At"}),(0,r.jsx)("p",{className:"text-sm text-gray-900 dark:text-white",children:(null==er?void 0:er.created_at)?ec(er.created_at):"-"})]})]}),er.last_login_at&&(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Last Login"}),(0,r.jsx)("p",{className:"text-sm text-gray-900 dark:text-white",children:ec(er.last_login_at)})]})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Log in to view your account details, remaining credits, and recent video tasks."}),(0,r.jsx)(i.default,{href:"/login",children:(0,r.jsx)(l.zx,{type:"button",variant:"primary",size:"sm",className:"w-full",children:"Login / Sign up"})})]})})]})]})]}),(0,r.jsxs)("div",{id:"pricing-plans",className:"mb-6 scroll-mt-24",children:[(0,r.jsxs)("div",{className:"text-center mb-6",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Choose Your Plan"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Each video generation consumes 10 credits"})]}),(es||ei.length>0)&&(0,r.jsxs)("div",{className:"mb-6 flex flex-wrap items-center justify-center gap-3",children:[es&&(0,r.jsxs)(l.zx,{type:"button",variant:"starter"===R?"primary":"secondary",size:"sm",onClick:()=>L("starter"),children:["Start for $",es.amount.toFixed(2)]}),ei.length>0&&(0,r.jsx)(l.zx,{type:"button",variant:"packs"===R?"primary":"secondary",size:"sm",onClick:()=>L("packs"),children:"Upgrade Packs"})]}),$.length>0?(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[("starter"===R&&es?[es]:ei).map(e=>(0,r.jsxs)(l.Zb,{className:"relative ".concat("starter"===R||e.is_recommended?"border-2 border-energy-gold-mid dark:border-energy-gold-soft shadow-lg":""),children:[("starter"===R||e.badge_text||e.is_recommended)&&(0,r.jsx)(l.Ct,{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-energy-water text-white shadow-custom-md",children:"starter"===R?"Starter Deal":e.badge_text||(e.is_recommended?"Recommended":"")}),(0,r.jsx)(l.Ol,{children:(0,r.jsx)(l.ll,{className:"text-xl text-center",children:e.plan_name})}),(0,r.jsxs)(l.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-4xl font-bold text-energy-water dark:text-energy-soft",children:["$",e.amount]}),(0,r.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:e.currency.toUpperCase()})]}),(0,r.jsxs)("div",{className:"text-center py-4 border-t border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:[e.videos," Videos"]}),(0,r.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[e.credits," Credits"]})]}),e.description&&(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:e.description}),(0,r.jsxs)("div",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:["~ $",(e.amount/e.videos).toFixed(2)," / video"]}),(0,r.jsx)(l.zx,{type:"button",variant:"primary",className:"w-full",disabled:!!U,onClick:()=>eo(e),children:U===e.id?"Redirecting…":"Continue to Checkout"})]})]},e.id)),"packs"===R&&es&&ei.length>0&&(0,r.jsx)("div",{className:"col-span-full mt-4 text-center",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Or"," ",(0,r.jsxs)("button",{onClick:()=>L("starter"),className:"font-semibold text-energy-water hover:text-energy-water-deep underline",children:["start with the $",es.amount.toFixed(2)," starter pack"]})," ","first →"]})})]}):(0,r.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No payment plans available yet."}),(0,r.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg max-w-4xl mx-auto",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Purchase Information"}),(0,r.jsxs)("ul",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1",children:[(0,r.jsx)("li",{children:"• Credits will be automatically added to your account after payment is completed"}),(0,r.jsx)("li",{children:"• Each video generation consumes 10 credits"}),(0,r.jsx)("li",{children:"• Credits are permanent with no expiration date"}),(0,r.jsx)("li",{children:"• Supports credit cards, debit cards, and other payment methods"})]})]})]}),(0,r.jsxs)("section",{id:"faq",className:"mb-12 scroll-mt-24",children:[(0,r.jsx)("div",{className:"text-center mb-8",children:(0,r.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"Frequently Asked Questions"})}),(0,r.jsx)("div",{className:"max-w-4xl mx-auto space-y-4",children:w.map((e,t)=>(0,r.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:e.question}),(0,r.jsx)("p",{className:"text-sm text-blue-100/80 leading-relaxed",children:e.answer})]},t))})]}),(0,r.jsx)("section",{className:"mb-12 text-center",children:(0,r.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-12",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-white mb-4",children:"Start Creating AI Videos Today"}),(0,r.jsx)(i.default,{href:P?"/video":"/login",children:(0,r.jsx)(l.zx,{variant:"primary",size:"lg",className:"shadow-energy-focus",children:"Generate Your First Video Free"})})]})})]})]})]}),(0,r.jsx)(p,{isOpen:T,onClose:()=>O(!1)}),(0,r.jsxs)(i.default,{href:"/support",className:"fixed right-6 bottom-6 z-50 inline-flex items-center gap-2 rounded-full bg-energy-water px-5 py-3 text-sm font-semibold text-white shadow-xl transition-transform hover:translate-y-[-2px] hover:bg-energy-water-deep focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-energy-water",children:["Feedback",(0,r.jsx)("span",{"aria-hidden":"true",children:"→"})]})]})]})}},2655:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var r=a(7437),s=a(970),i=a(2265);function o(){let[e,t]=(0,i.useState)(!1),a=async()=>{try{t(!0);let e=(0,s.createClient)();await e.auth.signOut(),Object.keys(localStorage).forEach(e=>{(e.includes("supabase")||e.includes("sb-"))&&localStorage.removeItem(e)}),await fetch("/api/auth/logout",{method:"POST"}),window.location.href="/"}catch(e){console.error("Logout error:",e),window.location.href="/"}finally{t(!1)}};return(0,r.jsx)("button",{onClick:a,disabled:e,className:"rounded-lg bg-red-600 px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-red-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600 disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Signing out...":"Sign Out"})}},3426:function(e,t,a){"use strict";a.d(t,{Ko:function(){return i},TW:function(){return l},r4:function(){return o}});let r="s2ai_post_login_redirect";function s(e){if(!e)return null;let t=String(e).trim();return!t||!t.startsWith("/")||t.startsWith("//")||t.includes("://")||t.startsWith("/auth/callback")||t.startsWith("/login")?null:t}function i(e){let t=s(e);if(t){try{"undefined"!=typeof sessionStorage&&sessionStorage.setItem(r,t)}catch(e){}try{"undefined"!=typeof localStorage&&localStorage.setItem(r,t)}catch(e){}}}function o(){let e=null;try{"undefined"!=typeof sessionStorage&&(e=sessionStorage.getItem(r))}catch(e){}if(!e)try{"undefined"!=typeof localStorage&&(e=localStorage.getItem(r))}catch(e){}return s(e)}function l(){try{"undefined"!=typeof sessionStorage&&sessionStorage.removeItem(r)}catch(e){}try{"undefined"!=typeof localStorage&&localStorage.removeItem(r)}catch(e){}}},1212:function(e,t,a){"use strict";async function r(e,t){try{let a=e instanceof Error?{message:e.message,stack:e.stack,name:e.name}:"string"==typeof e?{message:e}:e;await fetch("/api/log-error",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({error:a,context:{...t,url:window.location.href,userAgent:"undefined"!=typeof navigator?navigator.userAgent:void 0},level:"error"})}).catch(e=>{console.error("Failed to send error log:",e)})}catch(e){console.error("Error logger failed:",e)}}a.d(t,{H:function(){return r}})},970:function(e,t,a){"use strict";let r,s;a.d(t,{createClient:function(){return l}});var i=a(3053);let o=new Map;function l(){let e="https://hgzpzsiafycwlqrkzbis.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhnenB6c2lhZnljd2xxcmt6YmlzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI2MTk4NzIsImV4cCI6MjA3ODE5NTg3Mn0.WdpkrSXVZVZ64bY8NXG6Bpf-w59i305F7agny6wuj_Q";if(!e||!t)throw Error("Missing Supabase environment variables");return s||(s=function(){let e=function(){try{return"localStorage"in window?window.localStorage:null}catch(e){return null}}(),t=function(){try{return"sessionStorage"in window?window.sessionStorage:null}catch(e){return null}}();return{async getItem(a){var r;a.endsWith("-code-verifier")&&console.log("[SupabaseStorage] getItem start",{key:a});let s=null==e?void 0:e.getItem(a);if(null!=s)return o.set(a,s),a.endsWith("-code-verifier")&&console.log("[SupabaseStorage] getItem hit localStorage",{key:a}),s;let i=null==t?void 0:t.getItem(a);if(null!=i)return o.set(a,i),a.endsWith("-code-verifier")&&console.log("[SupabaseStorage] getItem hit sessionStorage",{key:a}),i;let l=function(e){if("undefined"==typeof document)return null;for(let t of document.cookie?document.cookie.split("; "):[]){let[a,...r]=t.split("=");if(a===e)return decodeURIComponent(r.join("="))}return null}(a);return null!==l?(o.set(a,l),a.endsWith("-code-verifier")&&console.log("[SupabaseStorage] getItem hit cookie",{key:a}),l):(a.endsWith("-code-verifier")&&console.log("[SupabaseStorage] getItem miss",{key:a}),null!==(r=o.get(a))&&void 0!==r?r:null)},async setItem(a,r){let s=String(r);try{null==e||e.setItem(a,s),a.endsWith("-code-verifier")&&console.log("[SupabaseStorage] setItem localStorage success",{key:a})}catch(e){a.endsWith("-code-verifier")&&console.warn("[SupabaseStorage] setItem localStorage failed",{key:a,error:e})}try{null==t||t.setItem(a,s),a.endsWith("-code-verifier")&&console.log("[SupabaseStorage] setItem sessionStorage success",{key:a})}catch(e){a.endsWith("-code-verifier")&&console.warn("[SupabaseStorage] setItem sessionStorage failed",{key:a,error:e})}if(a.endsWith("-code-verifier"))try{(function(e,t,a){if("undefined"==typeof document)return;let r="https:"===window.location.protocol,s="".concat(e,"=").concat(encodeURIComponent(t),"; Path=/; SameSite=Lax; Max-Age=").concat(600).concat(r?"; Secure":"");document.cookie=s})(a,s,0),console.log("[SupabaseStorage] setItem cookie success",{key:a})}catch(e){console.warn("[SupabaseStorage] setItem cookie failed",{key:a,error:e})}o.set(a,s),a.endsWith("-code-verifier")&&console.log("[SupabaseStorage] setItem memory store",{key:a})},async removeItem(a){try{null==e||e.removeItem(a),a.endsWith("-code-verifier")&&console.log("[SupabaseStorage] removeItem localStorage",{key:a})}catch(e){a.endsWith("-code-verifier")&&console.warn("[SupabaseStorage] removeItem localStorage failed",{key:a,error:e})}try{null==t||t.removeItem(a),a.endsWith("-code-verifier")&&console.log("[SupabaseStorage] removeItem sessionStorage",{key:a})}catch(e){a.endsWith("-code-verifier")&&console.warn("[SupabaseStorage] removeItem sessionStorage failed",{key:a,error:e})}a.endsWith("-code-verifier")&&("undefined"!=typeof document&&(document.cookie="".concat(a,"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Lax")),console.log("[SupabaseStorage] removeItem cookie",{key:a})),o.delete(a)}}}()),r||(r=(0,i.eI)(e,t,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce",storage:s}})),r}},9376:function(e,t,a){"use strict";var r=a(5475);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[2972,6137,4609,3053,5726,5492,2971,2117,1744],function(){return e(e.s=4789)}),_N_E=e.O()}]);