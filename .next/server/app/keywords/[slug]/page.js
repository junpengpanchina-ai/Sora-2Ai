(()=>{var e={};e.id=3052,e.ids=[3052],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44128:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.Z,__next_app__:()=>u,originalPathname:()=>c,pages:()=>d,routeModule:()=>g,tree:()=>l}),r(99475),r(11506),r(26083),r(35866);var a=r(23191),n=r(88716),s=r(48001),i=r(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let l=["",{children:["keywords",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,99475)),"/Users/p/Documents/GitHub/Sora-2Ai/app/keywords/[slug]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,11506)),"/Users/p/Documents/GitHub/Sora-2Ai/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,26083)),"/Users/p/Documents/GitHub/Sora-2Ai/app/error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/p/Documents/GitHub/Sora-2Ai/app/keywords/[slug]/page.tsx"],c="/keywords/[slug]/page",u={require:r,loadChunk:()=>Promise.resolve()},g=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/keywords/[slug]/page",pathname:"/keywords/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},30736:(e,t,r)=>{let a={c5e0ed9abe93e89f66e50896ba7be6694aef9aa6:()=>Promise.resolve().then(r.bind(r,23770)).then(e=>e.createServiceClient)};async function n(e,...t){return(await a[e]()).apply(null,t)}e.exports={c5e0ed9abe93e89f66e50896ba7be6694aef9aa6:n.bind(null,"c5e0ed9abe93e89f66e50896ba7be6694aef9aa6")}},44428:(e,t,r)=>{Promise.resolve().then(r.bind(r,86419)),Promise.resolve().then(r.bind(r,41059)),Promise.resolve().then(r.t.bind(r,79404,23))},86419:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var a=r(10326),n=r(17577),s=r(35047),i=r(985);function o({defaultPrompt:e}){let t=(0,s.useRouter)(),[r,o]=(0,n.useState)(e??""),[l,d]=(0,n.useState)(!1),[c,u]=(0,n.useState)(null),g=async e=>{if(e.preventDefault(),!r.trim()){u("Please enter a video generation prompt");return}u(null),d(!0);try{let e=encodeURIComponent(r.trim());t.push(`/video?prompt=${e}`)}finally{d(!1)}};return(0,a.jsxs)("form",{onSubmit:g,className:"rounded-2xl border border-energy-water/30 bg-white/80 p-6 shadow-lg backdrop-blur dark:border-energy-water/40 dark:bg-gray-900/70",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Try Video Generator Now"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:'Enter a description, click "Start Generation" and we will take the prompt to the /video page, where you can generate directly after logging in.'}),a.jsx(i.gx,{rows:4,value:r,onChange:e=>o(e.target.value),placeholder:"e.g., 10-second 9:16 vertical video, futuristic city nightscape aerial view, camera zooming in quickly, neon light effects...",className:"mt-4",required:!0}),c&&a.jsx("p",{className:"mt-2 text-sm text-red-500",children:c}),(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:[a.jsx(i.zx,{type:"submit",disabled:l,children:l?"Redirecting...":"Start Generation"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"* If not logged in, you will be prompted to log in first. After logging in, the form will automatically fill in the prompt you just entered."})]})]})}},41059:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var a=r(17577);function n({enabled:e}){return(0,a.useRef)(null),null}},99475:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v,dynamic:()=>f,dynamicParams:()=>x,generateMetadata:()=>k,generateStaticParams:()=>y,revalidate:()=>h});var a=r(19510),n=r(71159),s=r(58585),i=r(57371),o=r(23770),l=r(45729),d=r(68570);let c=(0,d.createProxy)(String.raw`/Users/p/Documents/GitHub/Sora-2Ai/app/keywords/KeywordToolEmbed.tsx#default`),u=(0,d.createProxy)(String.raw`/Users/p/Documents/GitHub/Sora-2Ai/components/ChristmasBGM.tsx#default`),g=(0,n.cache)(async e=>{let t;let{withRetryQuery:a,delay:n}=await Promise.resolve().then(r.bind(r,47065));await n(50);try{t=await (0,o.createServiceClient)()}catch(t){return console.warn("[keywords/getKeywordBySlug] Failed to create service client, skipping:",{slug:e,error:t instanceof Error?t.message:String(t)}),null}let s=null,i=null;try{let r=await a(async()=>await t.from("long_tail_keywords").select("*").eq("status","published").eq("page_slug",e).maybeSingle(),{maxRetries:3,retryDelay:500,exponentialBackoff:!0});s=r.data,i=r.error}catch(t){return console.warn("[keywords/getKeywordBySlug] Network error, skipping slug during build:",{slug:e,error:t instanceof Error?t.message:String(t)}),null}if(!s&&!e.endsWith(".xml"))try{let r=await a(async()=>await t.from("long_tail_keywords").select("*").eq("status","published").eq("page_slug",`${e}.xml`).maybeSingle(),{maxRetries:3,retryDelay:500,exponentialBackoff:!0});s=r.data,i=r.error}catch(t){return console.warn("[keywords/getKeywordBySlug] Network error on xml fallback, skipping slug during build:",{slug:e,error:t instanceof Error?t.message:String(t)}),null}if(!s)try{let r=await a(async()=>await t.from("long_tail_keywords").select("*").eq("status","published").ilike("page_slug",`%${e}%`).limit(1).maybeSingle(),{maxRetries:2,retryDelay:500,exponentialBackoff:!0});r.data&&(s=r.data,i=r.error,console.log(`Found keyword with fuzzy match: ${r.data.page_slug} for slug: ${e}`))}catch(t){return console.warn("[keywords/getKeywordBySlug] Network error on fuzzy fallback, skipping slug during build:",{slug:e,error:t instanceof Error?t.message:String(t)}),null}if(i)return console.error("Failed to load keyword:",i),null;if(!s)return console.log(`Keyword not found for slug: ${e}`),null;console.log(`Found keyword: ${s.page_slug} for slug: ${e}`),s.page_slug&&s.page_slug.includes(".xml")&&console.warn(`Warning: Found keyword with .xml in page_slug: ${s.page_slug} for slug: ${e}`);let d=s;return{...d,steps:(0,l.Hz)(d.steps),faq:(0,l.wi)(d.faq)}}),p=(0,n.cache)(async e=>{let t;try{t=await (0,o.createServiceClient)()}catch(t){return console.warn("[keywords/getRelatedKeywords] Failed to create service client, returning empty list:",{excludeId:e,error:t instanceof Error?t.message:String(t)}),[]}let{withRetryQuery:a,delay:n}=await Promise.resolve().then(r.bind(r,47065));await n(30);let s=null,i=null;try{let r=await a(async()=>await t.from("long_tail_keywords").select("*").eq("status","published").neq("id",e).order("priority",{ascending:!1}).order("updated_at",{ascending:!1}).limit(12),{maxRetries:3,retryDelay:500,exponentialBackoff:!0});s=r.data,i=r.error}catch(t){return console.warn("[keywords/getRelatedKeywords] Network error, returning empty list:",{excludeId:e,error:t instanceof Error?t.message:String(t)}),[]}return i?(console.error("Failed to load related keywords:",i),[]):(Array.isArray(s)?s:[]).map(e=>({...e,steps:(0,l.Hz)(e.steps),faq:(0,l.wi)(e.faq)}))}),m=(0,n.cache)(async e=>{let t;try{t=await (0,o.createServiceClient)()}catch(t){return console.warn("[keywords/getRelatedUseCases] Failed to create service client, returning empty list:",{keyword:e,error:t instanceof Error?t.message:String(t)}),[]}let{withRetryQuery:a,delay:n}=await Promise.resolve().then(r.bind(r,47065));await n(30);let s=e.toLowerCase(),i=null,l=null;try{let e=await a(async()=>await t.from("use_cases").select("id, slug, title, description, use_case_type, seo_keywords").eq("is_published",!0).limit(10),{maxRetries:3,retryDelay:500,exponentialBackoff:!0});i=e.data,l=e.error}catch(t){return console.warn("[keywords/getRelatedUseCases] Network error, returning empty list:",{keyword:e,error:t instanceof Error?t.message:String(t)}),[]}let d=Array.isArray(i)?i:[];return l||0===d.length?[]:d.filter(e=>!!e.seo_keywords&&0!==e.seo_keywords.length&&e.seo_keywords.some(e=>s.includes(e.toLowerCase())||e.toLowerCase().includes(s))).slice(0,6).map(({id:e,slug:t,title:r,description:a,use_case_type:n})=>({id:e,slug:t,title:r,description:a,use_case_type:n}))});async function y(){if("true"!==process.env.ENABLE_KEYWORD_SSG||!process.env.SUPABASE_SERVICE_ROLE_KEY)return[];try{let e=await (0,o.createServiceClient)(),{withRetryQuery:t,delay:a}=await Promise.resolve().then(r.bind(r,47065));await a(100);let{data:n,error:s}=await t(async()=>await e.from("long_tail_keywords").select("page_slug").eq("status","published").not("page_slug","is",null).neq("page_slug","").order("priority",{ascending:!1}).order("search_volume",{ascending:!1,nullsLast:!0}).order("created_at",{ascending:!1}).limit(200),{maxRetries:5,retryDelay:1e3,exponentialBackoff:!0,onRetry:(e,t)=>{console.warn(`[keywords/generateStaticParams] 重试 ${e}/5:`,t instanceof Error?t.message:String(t))}});if(s)return console.error("[keywords/generateStaticParams] 查询错误:",s),[];if(!n||!Array.isArray(n))return[];let i=n.filter(e=>{if(!e.page_slug||"string"!=typeof e.page_slug)return!1;let t=e.page_slug.replace(/\.xml$/,"").trim();return t.length>0&&t.length<=100}).map(e=>({slug:e.page_slug.replace(/\.xml$/,"").trim()}));return console.log(`[keywords/generateStaticParams] 生成 ${i.length} 个静态页面（限制: 200）`),i}catch(e){return console.error("[keywords/generateStaticParams] 异常:",e),[]}}let f="auto",h=3600,x=!0,w=e=>e.title?e.title:`${e.keyword} | Sora2Ai Video Generator`,b=e=>e.meta_description?e.meta_description:e.intro_paragraph?e.intro_paragraph.slice(0,155):`Generate ${e.keyword} video content online, including steps, FAQ, and direct tool access.`;async function k({params:e}){let t=await g(e.slug);if(!t)return{title:"Keyword Not Found"};let{getKeywordPageUrl:a}=await r.e(7721).then(r.bind(r,17721)),n=a(t.page_slug.replace(/\.xml$/i,""));return{title:w(t),description:b(t),alternates:{canonical:n},openGraph:{type:"article",title:w(t),description:b(t),url:n}}}async function v({params:e}){try{let t=decodeURIComponent(e.slug);console.log(`KeywordLandingPage: Requested slug: ${t}, params.slug: ${e.slug}`),t&&"string"==typeof t&&0!==t.trim().length||(console.warn("[KeywordLandingPage] Invalid slug:",t),(0,s.notFound)());let n=await g(t.trim());n||(console.error(`KeywordLandingPage: Keyword not found for slug: ${t}`),(0,s.notFound)()),console.log(`KeywordLandingPage: Found keyword with page_slug: ${n.page_slug}`);let[o,d]=await Promise.allSettled([p(n.id),m(n.keyword)]),y="fulfilled"===o.status?o.value:[],f="fulfilled"===d.status?d.value:[];"rejected"===o.status&&console.error("[KeywordLandingPage] Failed to fetch related keywords:",o.reason),"rejected"===d.status&&console.error("[KeywordLandingPage] Failed to fetch related use cases:",d.reason);let h=n.faq.length>0?{"@context":"https://schema.org","@type":"FAQPage",mainEntity:n.faq.map(e=>({"@type":"Question",name:e.question,acceptedAnswer:{"@type":"Answer",text:e.answer}}))}:null,x=n.h1||n.keyword,k=n.intro_paragraph??"",v=l.m7[n.intent]??"",j=n.page_style??"default",_="christmas"===j,{getKeywordPageUrl:S}=await r.e(7721).then(r.bind(r,17721)),N=S(n.page_slug),E={"@context":"https://schema.org","@type":"WebPage",name:w(n),description:b(n),url:N,mainEntity:{"@type":"Article",headline:x,description:b(n),articleBody:k,author:{"@type":"Organization",name:"Sora2Ai Videos"},publisher:{"@type":"Organization",name:"Sora2Ai Videos",logo:{"@type":"ImageObject",url:"https://sora2aivideos.com/icon.svg"}}}};return(0,a.jsxs)(a.Fragment,{children:[a.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(E)}}),a.jsx(u,{enabled:_}),(0,a.jsxs)("div",{className:`bg-slate-50 dark:bg-gray-950 ${_?"christmas-theme":""}`,children:[(0,a.jsxs)("div",{className:`relative overflow-hidden border-b border-white/20 ${_?"":"bg-gradient-to-br from-[#050b18] via-[#09122C] to-[#050b18]"}`,children:[_?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"christmas-bg absolute inset-0","aria-hidden":"true"}),a.jsx("div",{className:"christmas-snow absolute inset-0","aria-hidden":"true"}),a.jsx("div",{className:"christmas-glow absolute inset-0","aria-hidden":"true"}),a.jsx("div",{className:"christmas-lights absolute inset-0","aria-hidden":"true"})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"cosmic-space absolute inset-0 opacity-60","aria-hidden":"true"}),a.jsx("div",{className:"cosmic-glow absolute inset-0 opacity-50","aria-hidden":"true"})]}),(0,a.jsxs)("div",{className:"relative z-10 mx-auto max-w-6xl px-6 py-16 text-white",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-sm uppercase tracking-[0.2em] text-energy-water",children:[a.jsx("span",{children:"Long-tail Landing"}),a.jsx("span",{className:"text-white/50",children:"/"}),a.jsx("span",{children:v}),n.region&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"text-white/50",children:"/"}),a.jsx("span",{children:n.region})]})]}),a.jsx("h1",{className:"mt-6 text-3xl font-bold leading-tight text-white sm:text-4xl lg:text-5xl",children:x}),n.meta_description&&a.jsx("p",{className:"mt-4 max-w-3xl text-lg text-blue-100/80",children:n.meta_description}),(0,a.jsxs)("div",{className:"mt-6 flex flex-wrap gap-3 text-xs text-white/70",children:[(0,a.jsxs)("span",{className:"rounded-full border border-white/30 px-3 py-1",children:["Keyword: ",n.keyword]}),n.product&&(0,a.jsxs)("span",{className:"rounded-full border border-white/30 px-3 py-1",children:["Product: ",n.product]}),n.service&&(0,a.jsxs)("span",{className:"rounded-full border border-white/30 px-3 py-1",children:["Service: ",n.service]}),n.pain_point&&(0,a.jsxs)("span",{className:"rounded-full border border-white/30 px-3 py-1",children:["Pain Point: ",n.pain_point]})]})]})]}),a.jsx("main",{className:"mx-auto max-w-6xl px-6 py-12 lg:py-16",children:(0,a.jsxs)("div",{className:"grid gap-10 lg:grid-cols-3",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-10",children:[k&&(0,a.jsxs)("section",{className:"rounded-2xl bg-white p-6 shadow-sm dark:bg-gray-900/60",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Overview"}),a.jsx("p",{className:"mt-3 text-gray-600 leading-relaxed dark:text-gray-300 whitespace-pre-line",children:k})]}),n.steps.length>0&&(0,a.jsxs)("section",{className:"rounded-2xl bg-white p-6 shadow-sm dark:bg-gray-900/60",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"How to Use"}),a.jsx("div",{className:"mt-6 space-y-4",children:n.steps.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start gap-4 rounded-xl border border-gray-100 bg-gray-50/70 p-4 dark:border-gray-800 dark:bg-gray-800/60",children:[a.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-energy-water/10 text-sm font-semibold text-energy-water",children:t+1}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:e.title}),e.description&&a.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-300",children:e.description})]})]},`${n.id}-step-${t}`))})]}),n.faq.length>0&&(0,a.jsxs)("section",{className:"rounded-2xl bg-white p-6 shadow-sm dark:bg-gray-900/60",id:"faq-section",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Frequently Asked Questions"}),a.jsx("div",{className:"mt-4 space-y-4",children:n.faq.map((e,t)=>(0,a.jsxs)("div",{className:"rounded-xl border border-gray-100 bg-white p-4 dark:border-gray-800 dark:bg-gray-900/50",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:e.question}),a.jsx("p",{className:"mt-3 text-sm text-gray-600 leading-relaxed dark:text-gray-300",children:e.answer})]},`${n.id}-faq-${t}`))})]})]}),(0,a.jsxs)("div",{className:"space-y-8",children:[a.jsx(c,{defaultPrompt:n.keyword}),(0,a.jsxs)("section",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900/70",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Key Points"}),(0,a.jsxs)("ul",{className:"mt-4 list-disc space-y-2 pl-5 text-sm text-gray-600 dark:text-gray-300",children:[(0,a.jsxs)("li",{children:["Title / H1 / Meta Description naturally include ",n.keyword]}),(0,a.jsxs)("li",{children:["Body text (150-300 words) explains the scenario, matching ",v," intent"]}),a.jsx("li",{children:"Steps & FAQ provide genuine guidance, avoiding keyword stuffing"}),a.jsx("li",{children:"Right panel directly connects to Sora2Ai video generator"})]})]}),(0,a.jsxs)("section",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900/70",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"More Tools"}),(0,a.jsxs)("ul",{className:"mt-3 space-y-2 text-sm text-energy-water",children:[a.jsx("li",{children:a.jsx(i.default,{href:"/",className:"hover:underline",children:"Back to Sora2Ai Homepage"})}),a.jsx("li",{children:a.jsx(i.default,{href:"/prompts",className:"hover:underline",children:"View Prompt Library"})}),a.jsx("li",{children:a.jsx(i.default,{href:"/video",className:"hover:underline",children:"Go to Video Generator"})})]})]}),f.length>0&&(0,a.jsxs)("section",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900/70",children:[a.jsx("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Related Use Cases"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Explore comprehensive guides for this keyword:"}),a.jsx("div",{className:"mt-4 space-y-3",children:f.map(e=>(0,a.jsxs)(i.default,{href:`/use-cases/${e.slug}`,className:"block rounded-xl border border-gray-200 bg-gray-50 p-4 transition hover:border-energy-water hover:bg-white dark:border-gray-700 dark:bg-gray-800/60 dark:hover:bg-gray-700",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),e.description&&a.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:e.description})]},e.id))}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:a.jsx(i.default,{href:"/use-cases",className:"text-sm text-energy-water hover:underline font-medium",children:"View all use cases →"})})]}),y.length>0&&(0,a.jsxs)("section",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900/70 flex flex-col",id:"related-keywords-section",children:[a.jsx("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Related Keywords"}),a.jsx("div",{className:"mt-4 grid gap-3 flex-1",children:y.map(e=>(0,a.jsxs)(i.default,{href:`/keywords/${e.page_slug}`,className:"flex flex-col rounded-xl border border-transparent bg-gray-50 p-3 text-sm text-gray-700 transition hover:border-energy-water hover:bg-white dark:bg-gray-800/60 dark:text-gray-200",children:[a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.keyword}),e.region&&a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.region})]},e.id))}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:a.jsx(i.default,{href:"/keywords",className:"text-sm text-energy-water hover:underline font-medium",children:"Want to learn more? View all keywords →"})})]})]})]})}),h&&a.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(h)}}),a.jsx("script",{dangerouslySetInnerHTML:{__html:`
            (function() {
              function alignHeights() {
                try {
                  const faqSection = document.getElementById('faq-section');
                  const relatedSection = document.getElementById('related-keywords-section');
                  
                  if (faqSection && relatedSection && faqSection.isConnected && relatedSection.isConnected) {
                    const faqHeight = faqSection.offsetHeight;
                    relatedSection.style.minHeight = faqHeight + 'px';
                  }
                } catch (error) {
                  // Silently fail if elements are not found or not connected
                  console.debug('Align heights error (safe to ignore):', error);
                }
              }
              
              // 页面加载后执行
              if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', alignHeights);
              } else {
                alignHeights();
              }
              
              // 窗口大小改变时重新对齐
              window.addEventListener('resize', alignHeights);
            })();
          `}})]})]})}catch(t){console.error("[KeywordLandingPage] Error rendering page:",{error:t instanceof Error?t.message:String(t),stack:t instanceof Error?t.stack:void 0,slug:e.slug}),(0,s.notFound)()}}},45729:(e,t,r)=>{"use strict";r.d(t,{BB:()=>l,CL:()=>s,E1:()=>d,Hz:()=>c,Mo:()=>a,NN:()=>o,m7:()=>n,wi:()=>u});let a=["information","comparison","transaction","information_comparison_transaction"],n={information:"Informational",comparison:"Comparison",transaction:"Transactional",information_comparison_transaction:"Informational + Comparison + Transactional"},s=["draft","published"],i=e=>"string"==typeof e&&e.trim().length>0;function o(e){return"string"==typeof e&&a.includes(e)}function l(e){return"string"==typeof e&&s.includes(e)}function d(e){let t=e.trim().toLowerCase().replace(/\.(xml|html|htm|json|txt)$/i,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9-]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");return t.startsWith("keywords-")||(t=`keywords-${t}`),t}function c(e){return Array.isArray(e)?e.map(e=>{if("string"==typeof e){let t=e.trim();return t?{title:t}:null}if(!e||"object"!=typeof e)return null;let t=i(e.title)?e.title.trim():null,r=i(e.description)?e.description.trim():i(e.text)?e.text.trim():null;return t||r?{title:t??(r?r.slice(0,48):"Step"),description:r??void 0}:null}).filter(e=>!!e):[]}function u(e){return Array.isArray(e)?e.map(e=>{if(!e||"object"!=typeof e)return null;let t=i(e.question)?e.question.trim():i(e.q)?e.q.trim():null,r=i(e.answer)?e.answer.trim():i(e.a)?e.a.trim():null;return t&&r?{question:t,answer:r}:null}).filter(e=>!!e):[]}},23770:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createServiceClient:()=>i});var a=r(24330);r(60166);var n=r(37857),s=r(77658);async function i(){let e="https://hgzpzsiafycwlqrkzbis.supabase.co",t=process.env.SUPABASE_SERVICE_ROLE_KEY,r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhnenB6c2lhZnljd2xxcmt6YmlzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI2MTk4NzIsImV4cCI6MjA3ODE5NTg3Mn0.WdpkrSXVZVZ64bY8NXG6Bpf-w59i305F7agny6wuj_Q";if(!e)throw Error("缺少 Supabase 服务端配置，请设置 NEXT_PUBLIC_SUPABASE_URL");if(!t)throw Error("缺少 SUPABASE_SERVICE_ROLE_KEY，请在 .env.local 与部署环境中配置 Supabase Service Role Key");if(r&&t===r)throw Error("SUPABASE_SERVICE_ROLE_KEY 不能与 NEXT_PUBLIC_SUPABASE_ANON_KEY 相同，请复制 Supabase 项目的 Service Role Key");return(0,n.eI)(e,t,{auth:{persistSession:!1,autoRefreshToken:!1},global:{headers:{Connection:"keep-alive"},fetch:(e,t)=>(0,s.e)(e,t,{timeoutMs:3e4,keepAlive:!0,maxRetries:5,retryDelay:500,exponentialBackoff:!0,returnErrorResponseOnFailure:!0})}})}(0,r(40618).h)([i]),(0,a.j)("c5e0ed9abe93e89f66e50896ba7be6694aef9aa6",i)},77658:(e,t,r)=>{"use strict";r.d(t,{e:()=>s});var a=r(47065);function n(e){if(!(e instanceof Error))return!1;let t=(e.message||"").toLowerCase(),r=e.cause?.code;return"AbortError"===e.name||t.includes("fetch failed")||t.includes("econnreset")||t.includes("etimedout")||t.includes("timeout")||t.includes("socket")||t.includes("tls")||t.includes("other side closed")||"UND_ERR_SOCKET"===r||"ECONNRESET"===r}async function s(e,t,r={}){let s=r.timeoutMs??3e4;try{return await (0,a.J)(async()=>{let{signal:a,cleanup:i}=function(e,t){let r=new AbortController,a=setTimeout(()=>r.abort(),t),n=null;return e&&(e.aborted?(clearTimeout(a),r.abort()):(n=()=>r.abort(),e.addEventListener("abort",n,{once:!0}))),{signal:r.signal,cleanup:()=>{clearTimeout(a),e&&n&&e.removeEventListener("abort",n)}}}(t?.signal,s);try{let n=new Headers(t?.headers);return r.keepAlive&&n.set("Connection","keep-alive"),await fetch(e,{...t,signal:a,headers:n})}catch(e){throw n(e),e}finally{i()}},{maxRetries:r.maxRetries??3,retryDelay:r.retryDelay??500,exponentialBackoff:r.exponentialBackoff??!0,onRetry:r.onRetry??(()=>{})})}catch(e){if(r.returnErrorResponseOnFailure&&n(e))return new Response(JSON.stringify({error:"fetch_failed",message:e instanceof Error?e.message:String(e)}),{status:503,headers:{"content-type":"application/json"}});throw e}}},47065:(e,t,r)=>{"use strict";r.d(t,{J:()=>n,delay:()=>i,withRetryQuery:()=>s});let a={maxRetries:3,retryDelay:1e3,exponentialBackoff:!0,onRetry:()=>{}};async function n(e,t={}){let r;let n={...a,...t};for(let t=0;t<=n.maxRetries;t++)try{return await e()}catch(a){if(r=a,t===n.maxRetries)throw a;let e=n.exponentialBackoff?n.retryDelay*Math.pow(2,t):n.retryDelay;n.onRetry&&a instanceof Error&&n.onRetry(t+1,a),await new Promise(t=>setTimeout(t,e))}throw r}async function s(e,t={}){return n(async()=>{let t=await e();if(t.error){let e=t.error,r=e.message||String(e);if(r.includes("ECONNRESET")||r.includes("fetch failed")||r.includes("network")||r.includes("timeout")||r.includes("ETIMEDOUT")||r.includes("socket")||r.includes("TLS"))throw e}return t},t)}async function i(e){return new Promise(t=>setTimeout(t,e))}},58585:(e,t,r)=>{"use strict";var a=r(61085);r.o(a,"notFound")&&r.d(t,{notFound:function(){return a.notFound}}),r.o(a,"redirect")&&r.d(t,{redirect:function(){return a.redirect}})},61085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return i},RedirectType:function(){return a.RedirectType},notFound:function(){return n.notFound},permanentRedirect:function(){return a.permanentRedirect},redirect:function(){return a.redirect}});let a=r(83953),n=r(16399);class s extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class i extends URLSearchParams{append(){throw new s}delete(){throw new s}set(){throw new s}sort(){throw new s}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},16399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return n},notFound:function(){return a}});let r="NEXT_NOT_FOUND";function a(){let e=Error(r);throw e.digest=r,e}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83953:(e,t,r)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return a},getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return m},getRedirectTypeFromError:function(){return p},getURLFromRedirectError:function(){return g},isRedirectError:function(){return u},permanentRedirect:function(){return c},redirect:function(){return d}});let n=r(54580),s=r(72934),i=r(8586),o="NEXT_REDIRECT";function l(e,t,r){void 0===r&&(r=i.RedirectStatusCode.TemporaryRedirect);let a=Error(o);a.digest=o+";"+t+";"+e+";"+r+";";let s=n.requestAsyncStorage.getStore();return s&&(a.mutableCookies=s.mutableCookies),a}function d(e,t){void 0===t&&(t="replace");let r=s.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.TemporaryRedirect)}function c(e,t){void 0===t&&(t="replace");let r=s.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,a,n]=e.digest.split(";",4),s=Number(n);return t===o&&("replace"===r||"push"===r)&&"string"==typeof a&&!isNaN(s)&&s in i.RedirectStatusCode}function g(e){return u(e)?e.digest.split(";",3)[2]:null}function p(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function m(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(a||(a={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[8948,7289,8341,111,5266],()=>r(44128));module.exports=a})();