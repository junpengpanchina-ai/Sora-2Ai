(()=>{var e={};e.id=7585,e.ids=[7585],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},99272:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.Z,__next_app__:()=>u,originalPathname:()=>o,pages:()=>d,routeModule:()=>x,tree:()=>c}),t(36169),t(11506),t(26083),t(35866);var r=t(23191),a=t(88716),n=t(48001),i=t(95231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(s,l);let c=["",{children:["admin",{children:["debug",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,36169)),"/Users/p/Documents/GitHub/Sora-2Ai/app/admin/debug/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,11506)),"/Users/p/Documents/GitHub/Sora-2Ai/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,26083)),"/Users/p/Documents/GitHub/Sora-2Ai/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/p/Documents/GitHub/Sora-2Ai/app/admin/debug/page.tsx"],o="/admin/debug/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/debug/page",pathname:"/admin/debug",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},38845:(e,s,t)=>{Promise.resolve().then(t.bind(t,83837))},83837:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(10326),a=t(17577),n=t(985);function i(){let[e,s]=(0,a.useState)(null),[t,i]=(0,a.useState)(null),[l,c]=(0,a.useState)(!1),d=async()=>{c(!0);try{let e=await fetch("/api/debug/test-db-connection"),t=await e.json();s(t)}catch(e){s({success:!1,error:e instanceof Error?e.message:String(e)})}finally{c(!1)}},o=async()=>{c(!0);try{let e=await fetch("/api/debug/test-use-cases-api"),s=await e.json();i(s)}catch(e){i({success:!1,error:e instanceof Error?e.message:String(e)})}finally{c(!1)}};return(0,r.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6",children:"管理员后台诊断工具"}),(0,r.jsxs)(n.Zb,{children:[r.jsx(n.Ol,{children:r.jsx(n.ll,{children:"数据库连接测试"})}),(0,r.jsxs)(n.aY,{className:"space-y-4",children:[r.jsx(n.zx,{onClick:d,disabled:l,children:l?"测试中...":"测试数据库连接"}),e&&r.jsx("div",{className:"mt-4 p-4 bg-gray-100 dark:bg-gray-800 rounded-lg",children:r.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(e,null,2)})})]})]}),(0,r.jsxs)(n.Zb,{children:[r.jsx(n.Ol,{children:r.jsx(n.ll,{children:"使用场景 API 测试"})}),(0,r.jsxs)(n.aY,{className:"space-y-4",children:[r.jsx(n.zx,{onClick:o,disabled:l,children:l?"测试中...":"测试使用场景 API"}),t&&r.jsx("div",{className:"mt-4 p-4 bg-gray-100 dark:bg-gray-800 rounded-lg",children:r.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(t,null,2)})})]})]}),(0,r.jsxs)(n.Zb,{children:[r.jsx(n.Ol,{children:r.jsx(n.ll,{children:"常见问题排查"})}),(0,r.jsxs)(n.aY,{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"1. 检查浏览器控制台"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"按 F12 打开开发者工具，查看 Console 标签页是否有错误信息"})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"2. 检查网络请求"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"在开发者工具的 Network 标签页中，查看 API 请求是否成功（状态码 200）"})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"3. 检查环境变量"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"确保 .env.local 文件中配置了正确的 Supabase URL 和 Service Role Key"})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"4. 检查数据库迁移"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["确保已运行数据库迁移：",r.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"supabase db push"})]})]})]})]})]})}},36169:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`/Users/p/Documents/GitHub/Sora-2Ai/app/admin/debug/page.tsx#default`)},97049:(e,s,t)=>{"use strict";e.exports=t(23191).vendored["react-rsc"].ReactDOM},51749:(e,s,t)=>{"use strict";e.exports=t(23191).vendored["react-rsc"].ReactServerDOMWebpackServerEdge},38238:(e,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"ReflectAdapter",{enumerable:!0,get:function(){return t}});class t{static get(e,s,t){let r=Reflect.get(e,s,t);return"function"==typeof r?r.bind(e):r}static set(e,s,t,r){return Reflect.set(e,s,t,r)}static has(e,s){return Reflect.has(e,s)}static deleteProperty(e,s){return Reflect.deleteProperty(e,s)}}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[8948,111,5266],()=>t(99272));module.exports=r})();