(()=>{var e={};e.id=4178,e.ids=[4178,2945],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44680:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.Z,__next_app__:()=>u,originalPathname:()=>d,pages:()=>c,routeModule:()=>m,tree:()=>l}),r(43619),r(11506),r(26083),r(35866);var a=r(23191),s=r(88716),n=r(48001),i=r(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let l=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,43619)),"/Users/p/Documents/GitHub/Sora-2Ai/app/profile/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,11506)),"/Users/p/Documents/GitHub/Sora-2Ai/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,26083)),"/Users/p/Documents/GitHub/Sora-2Ai/app/error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/p/Documents/GitHub/Sora-2Ai/app/profile/page.tsx"],d="/profile/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},40966:(e,t,r)=>{Promise.resolve().then(r.bind(r,74274))},74274:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var a=r(10326),s=r(17577),n=r(985),i=r(90434),o=r(42945);function l({userProfile:e}){let t=(0,s.useMemo)(()=>(0,o.createClient)(),[]),[r,l]=(0,s.useState)(e?.credits||0),[c,d]=(0,s.useState)([]),[u,m]=(0,s.useState)([]),[p,x]=(0,s.useState)(!0),f=(0,s.useCallback)(async()=>{let{data:{session:e}}=await t.auth.getSession();return e?.access_token?{Authorization:`Bearer ${e.access_token}`}:{}},[t]);function h(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}(0,s.useCallback)(async()=>{if(e)try{let e=await f(),t=await fetch("/api/stats",{headers:e});if(t.ok){let e=await t.json();e.success&&void 0!==e.credits&&l(e.credits)}let r=await fetch("/api/payment/recharge-records",{headers:e});if(r.ok){let e=await r.json();e.success&&(d(e.records||e.recharge_records||[]),void 0!==e.user_credits&&l(e.user_credits))}let a=await fetch("/api/payment/credit-adjustments",{headers:e});if(a.ok){let e=await a.json();e.success&&m(e.adjustments||[])}}catch(e){console.error("Failed to fetch data:",e)}finally{x(!1)}},[e,f]);let g=(0,s.useMemo)(()=>[...c.map(e=>({type:"recharge",id:e.id,created_at:e.created_at,amount:e.amount,credits:e.credits,status:e.status,payment_id:e.payment_id,before_credits:null,after_credits:null})),...u.map(e=>({type:"adjustment",id:e.id,created_at:e.created_at,amount:null,credits:e.delta,status:e.adjustment_type,payment_id:e.reason||"Admin adjustment",before_credits:e.before_credits,after_credits:e.after_credits}))].sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()),[c,u]);return e?a.jsx("div",{className:"min-h-screen bg-energy-hero dark:bg-energy-hero-dark p-4",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Profile"}),a.jsx(i.default,{href:"/",children:a.jsx(n.zx,{variant:"secondary",size:"sm",children:"Back to Home"})})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"View your account information and payment history"}),(0,a.jsxs)("section",{className:"sr-only",children:[a.jsx("h2",{children:"Account Management and Credits System"}),a.jsx("p",{children:"Your Sora2Ai Videos account dashboard provides comprehensive management tools for your video generation activities. Here you can view your remaining credits, check your purchase history, update your profile settings, and manage your subscriptions. Our credit-based system makes it easy to track your usage and plan your video generation projects."}),a.jsx("p",{children:"Credits are used to generate AI videos on our platform. Each video generation requires 10 credits, and new users receive 30 free credits when they sign up. You can purchase additional credits through our flexible payment plans, which offer various credit packages to suit different needs and budgets."}),a.jsx("p",{children:"Your account profile stores your personal information, including your name, email address, and avatar. You can update these details at any time to keep your account information current. The payment history section shows all your transactions, including credit purchases and subscription renewals, helping you track your spending and manage your account effectively."}),a.jsx("h3",{children:"Account Features"}),(0,a.jsxs)("ul",{children:[a.jsx("li",{children:"View and manage your video generation credits"}),a.jsx("li",{children:"Track your purchase history and transactions"}),a.jsx("li",{children:"Update your profile information and avatar"}),a.jsx("li",{children:"Monitor your account activity and usage"}),a.jsx("li",{children:"Manage subscription plans and billing"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)(n.Zb,{className:"lg:col-span-1",children:[a.jsx(n.Ol,{children:a.jsx(n.ll,{children:"Account Information"})}),(0,a.jsxs)(n.aY,{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:e.avatar_url?a.jsx("img",{src:e.avatar_url,alt:e.name||"User avatar",width:96,height:96,className:"h-24 w-24 rounded-full object-cover",referrerPolicy:"no-referrer",loading:"lazy"}):a.jsx("div",{className:"flex h-24 w-24 items-center justify-center rounded-full bg-gray-200 text-2xl font-semibold text-gray-600",children:(e.name||e.email||"?").charAt(0).toUpperCase()})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Name"}),a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name||"Not set"})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Email"}),a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.email})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"User ID"}),a.jsx("p",{className:"text-xs font-mono text-gray-600 dark:text-gray-400 break-all",children:e.id})]}),e.created_at&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Member Since"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:h(e.created_at)})]})]})]}),(0,a.jsxs)(n.Zb,{className:"lg:col-span-1",children:[a.jsx(n.Ol,{children:a.jsx(n.ll,{children:"Current Credits"})}),a.jsx(n.aY,{children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"mb-2 text-5xl font-bold text-energy-water dark:text-energy-soft",children:p?"...":r}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Available Credits"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Each video generation consumes 10 credits"}),(0,a.jsxs)("div",{className:"mt-4 space-y-2",children:[a.jsx(i.default,{href:"/",className:"block",children:a.jsx(n.zx,{variant:"primary",className:"w-full",children:"Buy Credits"})}),a.jsx(i.default,{href:"/video",className:"block",children:a.jsx(n.zx,{variant:"secondary",className:"w-full",children:"Generate Video"})})]})]})})]}),(0,a.jsxs)(n.Zb,{className:"lg:col-span-1",children:[a.jsx(n.Ol,{children:a.jsx(n.ll,{children:"Statistics"})}),(0,a.jsxs)(n.aY,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Recharges"}),a.jsx("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c.length})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Amount"}),(0,a.jsxs)("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["$",c.reduce((e,t)=>e+t.amount,0).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Credits"}),a.jsx("span",{className:"text-lg font-semibold text-energy-water dark:text-energy-soft",children:c.reduce((e,t)=>e+t.credits,0)})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Completed"}),a.jsx("span",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:c.filter(e=>"completed"===e.status).length})]})]})]})]}),(0,a.jsxs)(n.Zb,{className:"mt-6",children:[a.jsx(n.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx(n.ll,{children:"Payment History"}),(0,a.jsxs)(n.Ct,{className:"bg-energy-water-surface text-energy-water dark:bg-energy-water-muted dark:text-energy-soft",children:[g.length," Total"]})]})}),a.jsx(n.aY,{children:p?(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-b-2 border-energy-water"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading..."})]}):0===g.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No payment records found"}),a.jsx(i.default,{href:"/",className:"mt-4 inline-block",children:a.jsx(n.zx,{variant:"primary",size:"sm",children:"Make First Purchase"})})]}):a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Type"}),a.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Amount"}),a.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Credits"}),a.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Details"})]})}),a.jsx("tbody",{children:g.map(e=>(0,a.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[a.jsx("td",{className:"py-3 px-4 text-sm text-gray-900 dark:text-white",children:h(e.created_at)}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-900 dark:text-white",children:"recharge"===e.type?"Recharge":"Adjustment"}),a.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900 dark:text-white",children:"recharge"===e.type?`$${e.amount}`:"—"}),a.jsx("td",{className:"py-3 px-4 text-sm font-medium text-energy-water dark:text-energy-soft",children:a.jsx("span",{className:e.credits>=0?"text-energy-water dark:text-energy-soft":"text-red-600 dark:text-red-400",children:e.credits>0?`+${e.credits}`:e.credits})}),a.jsx("td",{className:"py-3 px-4",children:"recharge"===e.type?function(e){let t={completed:{label:"Completed",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},pending:{label:"Pending",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},failed:{label:"Failed",className:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},cancelled:{label:"Cancelled",className:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},r=t[e]||t.pending;return a.jsx(n.Ct,{className:r.className,children:r.label})}(e.status):function(e){let t={manual_increase:{label:"Manual Increase",className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},manual_decrease:{label:"Manual Decrease",className:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},recharge_correction:{label:"Recharge Correction",className:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"},recharge_refund:{label:"Recharge Refund",className:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"},consumption_refund:{label:"Consumption Refund",className:"bg-teal-100 text-teal-800 dark:bg-teal-900 dark:text-teal-200"},other:{label:"Adjustment",className:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},r=t[e]||t.other;return a.jsx(n.Ct,{className:r.className,children:r.label})}(e.status)}),(0,a.jsxs)("td",{className:"py-3 px-4",children:[a.jsx("p",{className:"text-xs font-mono text-gray-500 dark:text-gray-400 truncate max-w-[200px]",children:"recharge"===e.type?e.payment_id||"N/A":e.payment_id||"Admin adjustment"}),"adjustment"===e.type&&null!==e.before_credits&&null!==e.after_credits&&(0,a.jsxs)("p",{className:"mt-1 text-[10px] uppercase tracking-wide text-gray-400 dark:text-gray-500",children:[e.before_credits," → ",e.after_credits]})]})]},e.id))})]})})})]})]})}):a.jsx("div",{className:"min-h-screen bg-energy-hero dark:bg-energy-hero-dark flex items-center justify-center p-4",children:(0,a.jsxs)(n.Zb,{className:"w-full max-w-md",children:[a.jsx(n.Ol,{children:a.jsx(n.ll,{className:"text-center",children:"Profile"})}),(0,a.jsxs)(n.aY,{children:[a.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mb-4",children:"Please login to view your profile"}),a.jsx(i.default,{href:"/login",className:"block",children:a.jsx(n.zx,{variant:"primary",className:"w-full",children:"Login"})}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(i.default,{href:"/",children:a.jsx(n.zx,{variant:"secondary",className:"w-full",children:"Back to Home"})})})]})]})})}},42945:(e,t,r)=>{"use strict";function a(){throw Error("createClient must be called in a browser environment")}r.d(t,{createClient:()=>a}),r(95157)},90434:(e,t,r)=>{"use strict";r.d(t,{default:()=>s.a});var a=r(79404),s=r.n(a)},43619:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>l});var a=r(19510),s=r(60730),n=r(58585);let i=(0,r(68570).createProxy)(String.raw`/Users/p/Documents/GitHub/Sora-2Ai/app/profile/ProfileClient.tsx#default`);var o=r(12131);let l={title:"My Account - Profile & Credits Management",description:"Access your Sora2Ai account dashboard. Check remaining video generation credits, view purchase history, update profile settings, and manage subscriptions."};async function c(){let e=await (0,s.e)(),{data:{user:t}}=await e.auth.getUser();t||(0,n.redirect)("/login");let r=await (0,o.getOrCreateUser)(e,t);r||(0,n.redirect)("/login");let{data:l}=await e.from("users").select("id, email, name, credits, avatar_url, google_id, created_at, last_login_at").eq("id",r.id).single();return l||(0,n.redirect)("/login"),a.jsx(i,{userProfile:l})}},60730:(e,t,r)=>{"use strict";r.d(t,{e:()=>i});var a=r(85602),s=r(71615),n=r(77658);async function i(e){let t;let r=await (0,s.cookies)(),i=e??("function"==typeof s.headers?(()=>{try{return(0,s.headers)()}catch{return}})():void 0);i&&(t="function"==typeof i.get?i.get("authorization")??void 0:Array.isArray(i)?i.find(([e])=>"authorization"===e.toLowerCase())?.[1]:Object.entries(i).find(([e])=>"authorization"===e.toLowerCase())?.[1]??void 0);let o={fetch:(e,t)=>(0,n.e)(e,t,{timeoutMs:3e4,keepAlive:!0,maxRetries:5,retryDelay:500,exponentialBackoff:!0,returnErrorResponseOnFailure:!0})};return t&&(o.headers={Authorization:t}),(0,a.l)("https://hgzpzsiafycwlqrkzbis.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhnenB6c2lhZnljd2xxcmt6YmlzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI2MTk4NzIsImV4cCI6MjA3ODE5NTg3Mn0.WdpkrSXVZVZ64bY8NXG6Bpf-w59i305F7agny6wuj_Q",{global:o,cookies:{getAll:()=>r.getAll(),setAll(e){try{e.forEach(({name:e,value:t,options:a})=>r.set(e,t,a))}catch{}}}})}},77658:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});var a=r(47065);function s(e){if(!(e instanceof Error))return!1;let t=(e.message||"").toLowerCase(),r=e.cause?.code;return"AbortError"===e.name||t.includes("fetch failed")||t.includes("econnreset")||t.includes("etimedout")||t.includes("timeout")||t.includes("socket")||t.includes("tls")||t.includes("other side closed")||"UND_ERR_SOCKET"===r||"ECONNRESET"===r}async function n(e,t,r={}){let n=r.timeoutMs??3e4;try{return await (0,a.J)(async()=>{let{signal:a,cleanup:i}=function(e,t){let r=new AbortController,a=setTimeout(()=>r.abort(),t),s=null;return e&&(e.aborted?(clearTimeout(a),r.abort()):(s=()=>r.abort(),e.addEventListener("abort",s,{once:!0}))),{signal:r.signal,cleanup:()=>{clearTimeout(a),e&&s&&e.removeEventListener("abort",s)}}}(t?.signal,n);try{let s=new Headers(t?.headers);return r.keepAlive&&s.set("Connection","keep-alive"),await fetch(e,{...t,signal:a,headers:s})}catch(e){throw s(e),e}finally{i()}},{maxRetries:r.maxRetries??3,retryDelay:r.retryDelay??500,exponentialBackoff:r.exponentialBackoff??!0,onRetry:r.onRetry??(()=>{})})}catch(e){if(r.returnErrorResponseOnFailure&&s(e))return new Response(JSON.stringify({error:"fetch_failed",message:e instanceof Error?e.message:String(e)}),{status:503,headers:{"content-type":"application/json"}});throw e}}},47065:(e,t,r)=>{"use strict";r.d(t,{J:()=>s,delay:()=>i,withRetryQuery:()=>n});let a={maxRetries:3,retryDelay:1e3,exponentialBackoff:!0,onRetry:()=>{}};async function s(e,t={}){let r;let s={...a,...t};for(let t=0;t<=s.maxRetries;t++)try{return await e()}catch(a){if(r=a,t===s.maxRetries)throw a;let e=s.exponentialBackoff?s.retryDelay*Math.pow(2,t):s.retryDelay;s.onRetry&&a instanceof Error&&s.onRetry(t+1,a),await new Promise(t=>setTimeout(t,e))}throw r}async function n(e,t={}){return s(async()=>{let t=await e();if(t.error){let e=t.error,r=e.message||String(e);if(r.includes("ECONNRESET")||r.includes("fetch failed")||r.includes("network")||r.includes("timeout")||r.includes("ETIMEDOUT")||r.includes("socket")||r.includes("TLS"))throw e}return t},t)}async function i(e){return new Promise(t=>setTimeout(t,e))}},58585:(e,t,r)=>{"use strict";var a=r(61085);r.o(a,"notFound")&&r.d(t,{notFound:function(){return a.notFound}}),r.o(a,"redirect")&&r.d(t,{redirect:function(){return a.redirect}})},61085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return i},RedirectType:function(){return a.RedirectType},notFound:function(){return s.notFound},permanentRedirect:function(){return a.permanentRedirect},redirect:function(){return a.redirect}});let a=r(83953),s=r(16399);class n extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class i extends URLSearchParams{append(){throw new n}delete(){throw new n}set(){throw new n}sort(){throw new n}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},16399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return s},notFound:function(){return a}});let r="NEXT_NOT_FOUND";function a(){let e=Error(r);throw e.digest=r,e}function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83953:(e,t,r)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return a},getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return x},getRedirectTypeFromError:function(){return p},getURLFromRedirectError:function(){return m},isRedirectError:function(){return u},permanentRedirect:function(){return d},redirect:function(){return c}});let s=r(54580),n=r(72934),i=r(8586),o="NEXT_REDIRECT";function l(e,t,r){void 0===r&&(r=i.RedirectStatusCode.TemporaryRedirect);let a=Error(o);a.digest=o+";"+t+";"+e+";"+r+";";let n=s.requestAsyncStorage.getStore();return n&&(a.mutableCookies=n.mutableCookies),a}function c(e,t){void 0===t&&(t="replace");let r=n.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.TemporaryRedirect)}function d(e,t){void 0===t&&(t="replace");let r=n.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,a,s]=e.digest.split(";",4),n=Number(s);return t===o&&("replace"===r||"push"===r)&&"string"==typeof a&&!isNaN(n)&&n in i.RedirectStatusCode}function m(e){return u(e)?e.digest.split(";",3)[2]:null}function p(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function x(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(a||(a={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},79925:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,n={};function i(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),a=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?a:`${a}; ${r.join("; ")}`}function o(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[a,s]=[r.slice(0,e),r.slice(e+1)];try{t.set(a,decodeURIComponent(null!=s?s:"true"))}catch{}}return t}function l(e){var t,r;if(!e)return;let[[a,s],...n]=o(e),{domain:i,expires:l,httponly:u,maxage:m,path:p,samesite:x,secure:f,partitioned:h,priority:g}=Object.fromEntries(n.map(([e,t])=>[e.toLowerCase(),t]));return function(e){let t={};for(let r in e)e[r]&&(t[r]=e[r]);return t}({name:a,value:decodeURIComponent(s),domain:i,...l&&{expires:new Date(l)},...u&&{httpOnly:!0},..."string"==typeof m&&{maxAge:Number(m)},path:p,...x&&{sameSite:c.includes(t=(t=x).toLowerCase())?t:void 0},...f&&{secure:!0},...g&&{priority:d.includes(r=(r=g).toLowerCase())?r:void 0},...h&&{partitioned:!0}})}((e,r)=>{for(var a in r)t(e,a,{get:r[a],enumerable:!0})})(n,{RequestCookies:()=>u,ResponseCookies:()=>m,parseCookie:()=>o,parseSetCookie:()=>l,stringifyCookie:()=>i}),e.exports=((e,n,i,o)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let i of a(n))s.call(e,i)||void 0===i||t(e,i,{get:()=>n[i],enumerable:!(o=r(n,i))||o.enumerable});return e})(t({},"__esModule",{value:!0}),n);var c=["strict","lax","none"],d=["low","medium","high"],u=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of o(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let a="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===a).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,a=this._parsed;return a.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(a).map(([e,t])=>i(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>i(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},m=class{constructor(e){var t,r,a;this._parsed=new Map,this._headers=e;let s=null!=(a=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?a:[];for(let e of Array.isArray(s)?s:function(e){if(!e)return[];var t,r,a,s,n,i=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,n=!1;l();)if(","===(r=e.charAt(o))){for(a=o,o+=1,l(),s=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(n=!0,o=s,i.push(e.substring(t,a)),t=o):o=a+1}else o+=1;(!n||o>=e.length)&&i.push(e.substring(t,e.length))}return i}(s)){let t=l(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let a="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===a)}has(e){return this._parsed.has(e)}set(...e){let[t,r,a]=1===e.length?[e[0].name,e[0].value,e[0]]:e,s=this._parsed;return s.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...a})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=i(r);t.append("set-cookie",e)}}(s,this._headers),this}delete(...e){let[t,r,a]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:r,domain:a,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(i).join("; ")}}},97049:(e,t,r)=>{"use strict";e.exports=r(23191).vendored["react-rsc"].ReactDOM},51749:(e,t,r)=>{"use strict";e.exports=r(23191).vendored["react-rsc"].ReactServerDOMWebpackServerEdge},92044:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RequestCookies:function(){return a.RequestCookies},ResponseCookies:function(){return a.ResponseCookies},stringifyCookie:function(){return a.stringifyCookie}});let a=r(79925)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[8948,7289,4967,111,5157,5266,2131],()=>r(44680));module.exports=a})();