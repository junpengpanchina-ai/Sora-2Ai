"use strict";(()=>{var e={};e.id=3406,e.ids=[3406],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},23635:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>m,requestAsyncStorage:()=>g,routeModule:()=>d,serverHooks:()=>y,staticGenerationAsyncStorage:()=>f});var o={};r.r(o),r.d(o,{POST:()=>c,dynamic:()=>p,revalidate:()=>l});var s=r(49303),n=r(88716),i=r(60670),a=r(87070);let p="force-dynamic",l=0;function u(e){return e.replace(/password["\s:=]+[^,\s}"]+/gi,"password=[REDACTED]").replace(/token["\s:=]+[^,\s}"]+/gi,"token=[REDACTED]").replace(/api[_-]?key["\s:=]+[^,\s}"]+/gi,"apiKey=[REDACTED]").replace(/secret["\s:=]+[^,\s}"]+/gi,"secret=[REDACTED]")}async function c(e){let t=e.headers.get("x-forwarded-for")||e.headers.get("x-real-ip")||"unknown";fetch("http://127.0.0.1:7242/ingest/ef411af9-a357-4528-93a0-017b8708eb6e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"app/api/log-error/route.ts:79",message:"Error log API - ENTRY",data:{requestIp:t,hasBody:!0},timestamp:Date.now(),sessionId:"debug-session",runId:"post-fix",hypothesisId:"C"})}).catch(()=>{});try{let{error:r,context:o,level:s="error"}=await e.json(),n="string"==typeof r?r:JSON.stringify(r).substring(0,200),i="object"==typeof r&&r&&"stack"in r,p=JSON.stringify(o).substring(0,200);fetch("http://127.0.0.1:7242/ingest/ef411af9-a357-4528-93a0-017b8708eb6e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"app/api/log-error/route.ts:87",message:"Error log API - DATA RECEIVED",data:{errorPreview:n,hasStack:i,contextPreview:p,level:s,requestIp:t},timestamp:Date.now(),sessionId:"debug-session",runId:"post-fix",hypothesisId:"C"})}).catch(()=>{});let l=function(e){if("string"==typeof e)return u(e);if(e instanceof Error)return{message:u(e.message),name:e.name,stack:void 0};if("object"==typeof e&&null!==e){let t={},r=["password","token","secret","key","apiKey","apikey","authorization","auth","credential","session"];for(let[o,s]of Object.entries(e)){let e=o.toLowerCase();r.some(t=>e.includes(t))?t[o]="[REDACTED]":"string"==typeof s?t[o]=u(s):t[o]=s}return t}return e}(r),c=function(e){let t={};if("object"==typeof e&&null!==e){let r=["password","token","secret","key","apiKey","authorization"];for(let[o,s]of Object.entries(e)){let e=o.toLowerCase();r.some(t=>e.includes(t))?t[o]="[REDACTED]":"string"==typeof s?t[o]=u(s):t[o]=s}}return t}(o||{}),d="string"==typeof l?l:JSON.stringify(l).substring(0,200);fetch("http://127.0.0.1:7242/ingest/ef411af9-a357-4528-93a0-017b8708eb6e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"app/api/log-error/route.ts:96",message:"Error log API - DATA SANITIZED",data:{sanitizedErrorPreview:d,level:s,requestIp:t},timestamp:Date.now(),sessionId:"debug-session",runId:"post-fix",hypothesisId:"C"})}).catch(()=>{});let g={level:s,error:l,context:{...c,timestamp:new Date().toISOString(),userAgent:e.headers.get("user-agent"),referer:c.url||e.headers.get("referer"),url:c.url||e.headers.get("referer")}};return"error"===s?console.error("[Client Error]",JSON.stringify(g,null,2)):"warn"===s?console.warn("[Client Warning]",JSON.stringify(g,null,2)):console.log("[Client Log]",JSON.stringify(g,null,2)),a.NextResponse.json({success:!0,logged:!0})}catch(e){return console.error("[Log Error API] Failed to log error:",e),a.NextResponse.json({success:!1,error:"Failed to log error"},{status:500})}}let d=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/log-error/route",pathname:"/api/log-error",filename:"route",bundlePath:"app/api/log-error/route"},resolvedPagePath:"/Users/p/Documents/GitHub/Sora-2Ai/app/api/log-error/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:g,staticGenerationAsyncStorage:f,serverHooks:y}=d,h="/api/log-error/route";function m(){return(0,i.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:f})}},38238:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return r}});class r{static get(e,t,r){let o=Reflect.get(e,t,r);return"function"==typeof o?o.bind(e):o}static set(e,t,r,o){return Reflect.set(e,t,r,o)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[8948,5972],()=>r(23635));module.exports=o})();