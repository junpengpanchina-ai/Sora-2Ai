"use strict";(()=>{var e={};e.id=8158,e.ids=[8158],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},24804:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>A,patchFetch:()=>h,requestAsyncStorage:()=>g,routeModule:()=>l,serverHooks:()=>m,staticGenerationAsyncStorage:()=>f});var r={};s.r(r),s.d(r,{GET:()=>d,dynamic:()=>u,revalidate:()=>p});var a=s(49303),i=s(88716),n=s(60670),o=s(87070),c=s(49606);let u="force-dynamic",p=0;async function d(){try{let e=!!process.env.GRSAI_API_KEY,t=process.env.GRSAI_HOST||"https://grsai.dakka.com.cn",s=process.env.GRSAI_API_KEY?process.env.GRSAI_API_KEY.substring(0,10)+"...":"NOT SET",r={model:"sora-2",prompt:"A simple test video of a cat playing",aspectRatio:"9:16",duration:10,size:"small",webHook:"-1",shutProgress:!1};console.log("[debug/test-grsai-api] Testing API connection:",{hasApiKey:e,apiHost:t,apiKeyPrefix:s,testParams:r});try{let a=await (0,c.LV)(r);return o.NextResponse.json({success:!0,message:"API connection successful",config:{hasApiKey:e,apiHost:t,apiKeyPrefix:s},response:{hasId:"id"in a||"data"in a&&a.data?.id,type:"data"in a?"taskId":"stream"}})}catch(a){let r=a instanceof Error?a.message:String(a);return o.NextResponse.json({success:!1,message:"API call failed",config:{hasApiKey:e,apiHost:t,apiKeyPrefix:s},error:r,troubleshooting:{checkApiKey:e?"GRSAI_API_KEY is configured":"GRSAI_API_KEY is not set",checkNetwork:"Ensure you can access "+t,checkApiStatus:"Check if Grsai API service is available"}},{status:500})}}catch(e){return o.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Unknown error"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/debug/test-grsai-api/route",pathname:"/api/debug/test-grsai-api",filename:"route",bundlePath:"app/api/debug/test-grsai-api/route"},resolvedPagePath:"/Users/p/Documents/GitHub/Sora-2Ai/app/api/debug/test-grsai-api/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:g,staticGenerationAsyncStorage:f,serverHooks:m}=l,A="/api/debug/test-grsai-api/route";function h(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:f})}},38238:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return s}});class s{static get(e,t,s){let r=Reflect.get(e,t,s);return"function"==typeof r?r.bind(e):r}static set(e,t,s,r){return Reflect.set(e,t,s,r)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8948,5972,9606],()=>s(24804));module.exports=r})();