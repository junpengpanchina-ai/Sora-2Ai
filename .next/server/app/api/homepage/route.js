"use strict";(()=>{var e={};e.id=8100,e.ids=[8100],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},22837:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>_,patchFetch:()=>y,requestAsyncStorage:()=>h,routeModule:()=>m,serverHooks:()=>g,staticGenerationAsyncStorage:()=>f});var a={};r.r(a),r.d(a,{GET:()=>u,dynamic:()=>l,revalidate:()=>d});var o=r(49303),n=r(88716),i=r(60670),s=r(87070),c=r(23770);let l="force-dynamic",d=0;async function u(){try{let e=await (0,c.createServiceClient)(),{data:t,error:r}=await e.from("homepage_settings").select("*").eq("is_active",!0).single();if(r&&"PGRST116"!==r.code){console.error("获取首页配置失败:",r);let e=s.NextResponse.json({success:!0,settings:p()});return e.headers.set("Cache-Control","no-store, no-cache, must-revalidate, proxy-revalidate"),e.headers.set("Pragma","no-cache"),e.headers.set("Expires","0"),e}let a=s.NextResponse.json({success:!0,settings:t||p()});return a.headers.set("Cache-Control","no-store, no-cache, must-revalidate, proxy-revalidate"),a.headers.set("Pragma","no-cache"),a.headers.set("Expires","0"),a}catch(t){console.error("获取首页配置异常:",t);let e=s.NextResponse.json({success:!0,settings:p()});return e.headers.set("Cache-Control","no-store, no-cache, must-revalidate, proxy-revalidate"),e.headers.set("Pragma","no-cache"),e.headers.set("Expires","0"),e}}function p(){return{hero_badge_text:"AI Video Generator",hero_h1_text:"Create High-Quality AI Videos from Text — Fast, Simple, No Editing Skills",hero_h1_text_logged_in:"Welcome back, {name}! Ready to Create Your Next Video?",hero_description:"Generate marketing videos, social media clips, product demos, and explainer videos using AI. No camera. No editing software. Just type and create.",hero_image_paths:["2b827a33e43a48b2b583ed428977712c.png","460bef39f6e34f82912a27e357827963.png","5995d3bfdb674ecebaccc581ed8940b3.png","7b0be82bb2134fca87519cbecf30aca9.png","80dc75a06d0b49c29bdb78eb45dc70a0.png","b451ac136a474a9f91398a403af2d2a6.png","e6e1ebc8cea34e83a106009a485b1cbb.png","f566981bc27549b7a2389a6887e9c840.png"],hero_image_alt_texts:["Image 1","Image 2","Image 3","Image 4","Image 5","Image 6","Image 7","Image 8"],hero_video_paths:["vdieo/b8edbf0aa26b4afa85b7095b91414f3d.mp4","vdieo/微信视频2025-11-09_223443_366.mp4","vdieo/微信视频2025-11-09_223856_981.mp4","vdieo/微信视频2025-11-09_224357_417.mp4","vdieo/微信视频2025-11-09_224947_118.mp4"],theme_style:"cosmic",primary_color:"#3B82F6",secondary_color:"#8B5CF6",accent_color:"#F59E0B",background_gradient:"cosmic-space",cta_primary_text:"Start Generating Videos Free",cta_primary_text_logged_out:"Start Generating Videos Free",cta_secondary_text:"View AI Video Examples"}}let m=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/homepage/route",pathname:"/api/homepage",filename:"route",bundlePath:"app/api/homepage/route"},resolvedPagePath:"/Users/p/Documents/GitHub/Sora-2Ai/app/api/homepage/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:h,staticGenerationAsyncStorage:f,serverHooks:g}=m,_="/api/homepage/route";function y(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:f})}},23770:(e,t,r)=>{r.r(t),r.d(t,{createServiceClient:()=>i});var a=r(24330);r(60166);var o=r(37857),n=r(77658);async function i(){let e="https://hgzpzsiafycwlqrkzbis.supabase.co",t=process.env.SUPABASE_SERVICE_ROLE_KEY,r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhnenB6c2lhZnljd2xxcmt6YmlzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI2MTk4NzIsImV4cCI6MjA3ODE5NTg3Mn0.WdpkrSXVZVZ64bY8NXG6Bpf-w59i305F7agny6wuj_Q";if(!e)throw Error("缺少 Supabase 服务端配置，请设置 NEXT_PUBLIC_SUPABASE_URL");if(!t)throw Error("缺少 SUPABASE_SERVICE_ROLE_KEY，请在 .env.local 与部署环境中配置 Supabase Service Role Key");if(r&&t===r)throw Error("SUPABASE_SERVICE_ROLE_KEY 不能与 NEXT_PUBLIC_SUPABASE_ANON_KEY 相同，请复制 Supabase 项目的 Service Role Key");return(0,o.eI)(e,t,{auth:{persistSession:!1,autoRefreshToken:!1},global:{headers:{Connection:"keep-alive"},fetch:(e,t)=>(0,n.e)(e,t,{timeoutMs:3e4,keepAlive:!0,maxRetries:5,retryDelay:500,exponentialBackoff:!0,returnErrorResponseOnFailure:!0})}})}(0,r(40618).h)([i]),(0,a.j)("c5e0ed9abe93e89f66e50896ba7be6694aef9aa6",i)},77658:(e,t,r)=>{r.d(t,{e:()=>n});var a=r(47065);function o(e){if(!(e instanceof Error))return!1;let t=(e.message||"").toLowerCase(),r=e.cause?.code;return"AbortError"===e.name||t.includes("fetch failed")||t.includes("econnreset")||t.includes("etimedout")||t.includes("timeout")||t.includes("socket")||t.includes("tls")||t.includes("other side closed")||"UND_ERR_SOCKET"===r||"ECONNRESET"===r}async function n(e,t,r={}){let n=r.timeoutMs??3e4;try{return await (0,a.J)(async()=>{let{signal:a,cleanup:i}=function(e,t){let r=new AbortController,a=setTimeout(()=>r.abort(),t),o=null;return e&&(e.aborted?(clearTimeout(a),r.abort()):(o=()=>r.abort(),e.addEventListener("abort",o,{once:!0}))),{signal:r.signal,cleanup:()=>{clearTimeout(a),e&&o&&e.removeEventListener("abort",o)}}}(t?.signal,n);try{let o=new Headers(t?.headers);return r.keepAlive&&o.set("Connection","keep-alive"),await fetch(e,{...t,signal:a,headers:o})}catch(e){throw o(e),e}finally{i()}},{maxRetries:r.maxRetries??3,retryDelay:r.retryDelay??500,exponentialBackoff:r.exponentialBackoff??!0,onRetry:r.onRetry??(()=>{})})}catch(e){if(r.returnErrorResponseOnFailure&&o(e))return new Response(JSON.stringify({error:"fetch_failed",message:e instanceof Error?e.message:String(e)}),{status:503,headers:{"content-type":"application/json"}});throw e}}},47065:(e,t,r)=>{r.d(t,{J:()=>o,delay:()=>i,withRetryQuery:()=>n});let a={maxRetries:3,retryDelay:1e3,exponentialBackoff:!0,onRetry:()=>{}};async function o(e,t={}){let r;let o={...a,...t};for(let t=0;t<=o.maxRetries;t++)try{return await e()}catch(a){if(r=a,t===o.maxRetries)throw a;let e=o.exponentialBackoff?o.retryDelay*Math.pow(2,t):o.retryDelay;o.onRetry&&a instanceof Error&&o.onRetry(t+1,a),await new Promise(t=>setTimeout(t,e))}throw r}async function n(e,t={}){return o(async()=>{let t=await e();if(t.error){let e=t.error,r=e.message||String(e);if(r.includes("ECONNRESET")||r.includes("fetch failed")||r.includes("network")||r.includes("timeout")||r.includes("ETIMEDOUT")||r.includes("socket")||r.includes("TLS"))throw e}return t},t)}async function i(e){return new Promise(t=>setTimeout(t,e))}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[8948,7289,5972,8341],()=>r(22837));module.exports=a})();