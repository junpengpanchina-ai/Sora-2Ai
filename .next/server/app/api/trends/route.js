(()=>{var e={};e.id=4104,e.ids=[4104],e.modules={20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},79663:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>y,requestAsyncStorage:()=>f,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>p});var n={};r.r(n),r.d(n,{GET:()=>d,dynamic:()=>u,revalidate:()=>c});var o=r(49303),a=r(88716),i=r(60670),s=r(87070);let u="force-dynamic",c=3600;async function d(e){try{let{searchParams:t}=new URL(e.url),n=t.get("geo")||"US",o=r(30594),a=await o.dailyTrends({geo:n}),i=JSON.parse(a),u=[];i?.default?.trendingSearchesDays?.[0]?.trendingSearches&&i.default.trendingSearchesDays[0].trendingSearches.forEach(e=>{let t="string"==typeof e.title?e.title:e.title?.query||"";u.push({title:t,formattedTraffic:e.formattedTraffic||"",articleTitle:e.articles?.[0]?.title||"",articleUrl:e.articles?.[0]?.url||"",imageUrl:e.image?.imageUrl||""})});let c=s.NextResponse.json({success:!0,trends:u.slice(0,20),geo:n,updatedAt:new Date().toISOString()});return c.headers.set("Cache-Control","public, s-maxage=3600, stale-while-revalidate=7200"),c}catch(e){return console.error("Failed to fetch Google Trends:",e),s.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Failed to fetch trends",trends:[{title:"AI Video Generator",formattedTraffic:"100K+",articleTitle:"Latest AI Video Tools",articleUrl:"#"},{title:"Sora 2",formattedTraffic:"50K+",articleTitle:"OpenAI Sora Updates",articleUrl:"#"},{title:"Text to Video",formattedTraffic:"30K+",articleTitle:"Text to Video AI",articleUrl:"#"},{title:"Video AI",formattedTraffic:"25K+",articleTitle:"AI Video Creation",articleUrl:"#"},{title:"AI Generator",formattedTraffic:"20K+",articleTitle:"AI Content Generator",articleUrl:"#"}],updatedAt:new Date().toISOString()})}}let l=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/trends/route",pathname:"/api/trends",filename:"route",bundlePath:"app/api/trends/route"},resolvedPagePath:"/Users/p/Documents/GitHub/Sora-2Ai/app/api/trends/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:f,staticGenerationAsyncStorage:p,serverHooks:g}=l,m="/api/trends/route";function y(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:p})}},30594:function(e,t,r){var n;n=function(e,t){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(1)),a=n(r(2)),i=r(5),s={processor:i.getInterestResults,objectConstructor:i.constructInterestObj},u={processor:i.getTrendingResults,objectConstructor:i.constructTrendingObj},c=o.default.bind(void 0,a.default);t.default={autoComplete:c("Auto complete",s),dailyTrends:c("Daily trends",u),interestByRegion:c("Interest by region",s),interestOverTime:c("Interest over time",s),realTimeTrends:c("Real time trends",u),relatedQueries:c("Related queries",s),relatedTopics:c("Related topics",s)},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n=r.processor,o=r.objectConstructor,a=n(e);return function(e,r){var n=o(e,r),i=n.cbFunc,s=n.obj;return s instanceof Error?Promise.reject(i(s)):a(t,s).then(function(e){return i(null,e)}).catch(function(e){return Promise.reject(i(e))})}},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.method,r=e.host,n=e.path,s=e.qs,u=e.agent,c={host:r,method:t,path:n+"?"+a.default.stringify(s)};return u&&(c.agent=u),i&&(c.headers={cookie:i}),new Promise(function(e,t){var r=o.default.request(c,function(r){var n="";r.on("data",function(e){n+=e}),r.on("end",function(){var a,s;429===r.statusCode&&r.headers["set-cookie"]?(i=r.headers["set-cookie"][0].split(";")[0],c.headers={cookie:i},a=function(r,n){return r?t(r):void e(n)},s=void 0,(s=o.default.request(c,function(e){var t="";e.on("data",function(e){t+=e}),e.on("end",function(){a(null,t.toString("utf8"))})})).on("error",function(e){a(e)}),s.end()):e(n.toString("utf8"))})});r.on("error",function(e){t(e)}),r.end()})};var o=n(r(3)),a=n(r(4)),i=void 0;e.exports=t.default},function(e,t){e.exports=r(35240)},function(e,t){e.exports=r(86624)},function(e,t){"use strict";function r(e,t){return Math.abs(t-e)/864e5<7}function n(e,t,r){var n=(e.getUTCMonth()+1).toString(),o=e.getUTCDate().toString(),a=r?"":"-";n=n.length<2?"0"+n:n,o=r&&o.length<2?"0"+o:o;var i=e.getUTCFullYear().toString(),s=e.getUTCHours(),u=e.getUTCMinutes();return t?""+i+a+n+a+o+"T"+s+"\\:"+u+"\\:00":""+i+a+n+a+o}function o(e){if(e.startTime&&e.endTime&&e.startTime>e.endTime){var t=e.startTime;e.startTime=e.endTime,e.endTime=t}e.endTime||(e.endTime=new Date),e.startTime||(e.startTime=new Date("2004-01-01"));var o=r(e.startTime,e.endTime),a=n(e.startTime,o&&e.granularTimeResolution),i=n(e.endTime,o&&e.granularTimeResolution);return e.time=a+" "+i,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return["COUNTRY","REGION","CITY","DMA"].some(function(t){return t===e.toUpperCase()})?e.toUpperCase():""}function i(e){try{return JSON.parse(e.slice(4)).widgets}catch(t){throw t.requestBody=e,t}}function s(e){var t=e.geo&&Array.isArray(e.geo),r=Array.isArray(e.keyword);if(t&&!r&&(e.keyword=Array(e.geo.length).fill(e.keyword),r=!0),r){var n,o=(n=e.keyword.reduce(function(t,r){return t.push(u({},e,{keyword:r})),t},[]),t&&e.geo.forEach(function(e,t){n[t].geo=e}),{v:n});if("object"===(void 0===o?"undefined":c(o)))return o.v}return[e]}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isLessThan7Days=r,t.convertDateToString=n,t.formatTime=o,t.constructInterestObj=function(e,t){var r,n,a,i;return"function"==typeof e&&(t=e),r=e,n=t,r?r&&"object"!==(void 0===r?"undefined":c(r))||Array.isArray(r)?r=Error("Must supply an object"):r.keyword||(r=Error("Must have a keyword field")):r=Error("Must supply an object"),d(n)&&(r=Error("Callback function must be a function")),!(i=r=Array.isArray((a=r).geo)&&Array.isArray(a.keyword)&&a.geo.length!==a.keyword.length?Error("Geo length must be equal to keyword length"):a).startTime||i.startTime instanceof Date||(i=Error("startTime must be a Date object")),!i.endTime||i.endTime instanceof Date||(i=Error("endTime must be a Date object")),(e=r=i).hl||(e.hl="en-US"),e.category||(e.category=0),e.timezone||(e.timezone=(new Date).getTimezoneOffset()),-1===["images","news","youtube","froogle",""].indexOf(e.property)&&(e.property=""),t||(t=function(e,t){return e||t}),{cbFunc:t,obj:e=o(e)}},t.formatResolution=a,t.parseResults=i,t.formatComparisonItems=s,t.getInterestResults=function(e){return function(t,r){var n={"Auto complete":{path:"/trends/api/autocomplete/"+encodeURIComponent(r.keyword)},"Interest over time":{path:"/trends/api/widgetdata/multiline",_id:"TIMESERIES"},"Interest by region":{path:"/trends/api/widgetdata/comparedgeo",resolution:a(r.resolution),_id:"GEO_MAP"},"Related topics":{path:"/trends/api/widgetdata/relatedsearches",_id:"RELATED_TOPICS"},"Related queries":{path:"/trends/api/widgetdata/relatedsearches",_id:"RELATED_QUERIES"}},o={method:"GET",host:"trends.google.com",path:"/trends/api/explore",qs:{hl:r.hl,req:JSON.stringify({comparisonItem:s(r),category:r.category,property:r.property}),tz:r.timezone}};r.agent&&(o.agent=r.agent);var u=n[t],c=u.path,d=u.resolution,l=u._id;return e(o).then(function(n){var o=i(n).find(function(e){var r=e.id,n=e.request;return(void 0===r?"":r).indexOf(l)>-1||"Auto complete"===t&&n});if(!o)throw{message:"Available widgets does not contain selected api type",requestBody:n};var a=o.request,s=o.token;d&&(a.resolution=d),a.requestOptions.category=r.category,a.requestOptions.property=r.property,a=JSON.stringify(a);var u={path:c,method:"GET",host:"trends.google.com",qs:{hl:r.hl,req:a,token:s,tz:r.timezone}};return r.agent&&(u.agent=r.agent),e(u)}).then(function(e){try{return JSON.stringify(JSON.parse(e.slice(5)))}catch(t){return e}})}},t.getTrendingResults=function(e){return function(t,r){var o={"Daily trends":{path:"/trends/api/dailytrends",extraParams:{ed:n(r.trendDate,!1,!0),ns:r.ns}},"Real time trends":{path:"/trends/api/realtimetrends",extraParams:{fi:0,fs:0,ri:300,rs:20,sort:0}}},a={method:"GET",host:"trends.google.com",path:o[t].path,qs:{hl:r.hl,tz:r.timezone,geo:r.geo,cat:r.category}};return r.agent&&(a.agent=r.agent),a.qs=u({},a.qs,o[t].extraParams),e(a).then(function(e){try{return JSON.stringify(JSON.parse(e.slice(5)))}catch(t){return e}})}},t.constructTrendingObj=function(e,t){if("function"==typeof e&&(t=e),!e||e&&"object"!==(void 0===e?"undefined":c(e))||Array.isArray(e))e=Error("Must supply an object");else{e.trendDate&&e.trendDate instanceof Date||delete e.trendDate;var r=new Date;e=u({},{hl:"en-US",category:"all",timezone:r.getTimezoneOffset(),trendDate:r,ns:15},e)}return d(t)&&(e=Error("Callback function must be a function")),e.geo||(e=Error("Must supply an geographical location (geo)")),t||(t=function(e,t){return e||t}),{cbFunc:t,obj:e}};var d=function(e){return!!e&&"function"!=typeof e}}])},e.exports=n(r(35240),r(86624))},38238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return r}});class r{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[8948,5972],()=>r(79663));module.exports=n})();