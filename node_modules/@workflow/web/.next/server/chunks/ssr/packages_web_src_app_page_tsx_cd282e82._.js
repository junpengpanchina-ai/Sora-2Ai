module.exports=[762587,a=>{"use strict";var b=a.i(857446),c=a.i(624282),d=a.i(443747);a.i(580551);var e=a.i(721578),f=a.i(510936),g=a.i(207973),h=a.i(622427);let i=(0,h.default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var j=a.i(322178),k=a.i(139274),l=a.i(525217),m=a.i(630135),n=a.i(67659),o=a.i(253220),p=a.i(95811),q=a.i(135321),r=a.i(397494),s=a.i(670458),t=a.i(315330),u=a.i(676653);let v=o.forwardRef(({className:a,href:c,children:d,...e},f)=>{let g=c.startsWith("http")?c:`https://useworkflow.dev/docs/${c.replace(/^\//,"")}`;return(0,b.jsx)(t.default,{href:g,className:(0,u.cn)("font-medium underline underline-offset-4 transition-colors",a),style:{color:"var(--ds-blue-600)"},target:"_blank",rel:"noopener noreferrer",ref:f,...e,children:d})});v.displayName="DocsLink";var w=a.i(794851);let x=o.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:d,className:(0,u.cn)("w-full caption-bottom text-sm",a),...c})}));x.displayName="Table";let y=o.forwardRef(({className:a,...c},d)=>(0,b.jsx)("thead",{ref:d,className:(0,u.cn)("[&_tr]:border-b",a),...c}));y.displayName="TableHeader";let z=o.forwardRef(({className:a,...c},d)=>(0,b.jsx)("tbody",{ref:d,className:(0,u.cn)("[&_tr:last-child]:border-0",a),...c}));z.displayName="TableBody",o.forwardRef(({className:a,...c},d)=>(0,b.jsx)("tfoot",{ref:d,className:(0,u.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c})).displayName="TableFooter";let A=o.forwardRef(({className:a,...c},d)=>(0,b.jsx)("tr",{ref:d,className:(0,u.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...c}));A.displayName="TableRow";let B=o.forwardRef(({className:a,...c},d)=>(0,b.jsx)("th",{ref:d,className:(0,u.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));B.displayName="TableHead";let C=o.forwardRef(({className:a,...c},d)=>(0,b.jsx)("td",{ref:d,className:(0,u.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));C.displayName="TableCell",o.forwardRef(({className:a,...c},d)=>(0,b.jsx)("caption",{ref:d,className:(0,u.cn)("mt-4 text-sm text-muted-foreground",a),...c})).displayName="TableCaption";var D=a.i(393557),E=a.i(508624),F=a.i(432320),G=a.i(315244),H=a.i(433105);function I({rows:a=u.DEFAULT_PAGE_SIZE,variant:c="runs"}){return(0,b.jsx)(s.Card,{className:"overflow-hidden mt-4 bg-background",children:(0,b.jsxs)(s.CardContent,{className:"p-0",children:[(()=>{switch(c){case"runs":return(0,b.jsxs)("div",{className:"grid grid-cols-[1fr_1.5fr_0.8fr_1fr_1fr_40px] items-center gap-4 py-3 px-4 border-b",children:[(0,b.jsx)(H.Skeleton,{className:"h-4 w-20"}),(0,b.jsx)(H.Skeleton,{className:"h-4 w-14"}),(0,b.jsx)(H.Skeleton,{className:"h-4 w-12"}),(0,b.jsx)(H.Skeleton,{className:"h-4 w-14"}),(0,b.jsx)(H.Skeleton,{className:"h-4 w-20"}),(0,b.jsx)("div",{className:"w-6"})]});case"hooks":return(0,b.jsxs)("div",{className:"grid grid-cols-[1.2fr_1.2fr_0.8fr_1fr_0.5fr_40px] items-center gap-4 py-3 px-4 border-b",children:[(0,b.jsx)(H.Skeleton,{className:"h-4 w-16"}),(0,b.jsx)(H.Skeleton,{className:"h-4 w-14"}),(0,b.jsx)(H.Skeleton,{className:"h-4 w-12"}),(0,b.jsx)(H.Skeleton,{className:"h-4 w-14"}),(0,b.jsx)(H.Skeleton,{className:"h-4 w-20"}),(0,b.jsx)("div",{className:"w-6"})]});case"workflows":return(0,b.jsxs)("div",{className:"grid grid-cols-[1fr_1.5fr_0.5fr] items-center gap-4 py-3 px-4 border-b",children:[(0,b.jsx)(H.Skeleton,{className:"h-4 w-20"}),(0,b.jsx)(H.Skeleton,{className:"h-4 w-10"}),(0,b.jsx)(H.Skeleton,{className:"h-4 w-12 mx-auto"})]});default:return null}})(),Array.from({length:a},(a,d)=>(a=>{switch(c){case"runs":return(0,b.jsxs)("div",{className:"grid grid-cols-[1fr_1.5fr_0.8fr_1fr_1fr_40px] items-center gap-4 py-3 px-4",children:[(0,b.jsx)(H.Skeleton,{className:"h-4 w-3/4"}),(0,b.jsx)(H.Skeleton,{className:"h-4 w-4/5"}),(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)(H.Skeleton,{className:"h-3 w-14"}),(0,b.jsx)(H.Skeleton,{className:"h-2 w-8"})]}),(0,b.jsx)(H.Skeleton,{className:"h-3 w-3/4"}),(0,b.jsx)(H.Skeleton,{className:"h-3 w-3/4"}),(0,b.jsx)(H.Skeleton,{className:"h-6 w-6 rounded"})]},`skeleton-row-${a}`);case"hooks":return(0,b.jsxs)("div",{className:"grid grid-cols-[1.2fr_1.2fr_0.8fr_1fr_0.5fr_40px] items-center gap-4 py-3 px-4",children:[(0,b.jsx)(H.Skeleton,{className:"h-4 w-4/5"}),(0,b.jsx)(H.Skeleton,{className:"h-4 w-4/5"}),(0,b.jsx)(H.Skeleton,{className:"h-4 w-3/4"}),(0,b.jsx)(H.Skeleton,{className:"h-3 w-3/4"}),(0,b.jsx)(H.Skeleton,{className:"h-4 w-8"}),(0,b.jsx)(H.Skeleton,{className:"h-6 w-6 rounded"})]},`skeleton-row-${a}`);case"workflows":return(0,b.jsxs)("div",{className:"grid grid-cols-[1fr_1.5fr_0.5fr] items-center gap-4 py-3 px-4",children:[(0,b.jsx)(H.Skeleton,{className:"h-4 w-3/4"}),(0,b.jsx)(H.Skeleton,{className:"h-4 w-4/5"}),(0,b.jsx)(H.Skeleton,{className:"h-5 w-16 rounded-full mx-auto"})]},`skeleton-row-${a}`);default:return null}})(d))]})})}function J({config:a,runId:c,onHookClick:d,selectedHookId:h}){let[t,u]=(0,o.useState)(()=>new Date),H=(0,o.useMemo)(()=>(0,E.worldConfigToEnvMap)(a),[a]),{data:J,error:K,nextPage:L,previousPage:M,hasNextPage:N,hasPreviousPage:O,reload:P,pageInfo:Q}=(0,e.useWorkflowHooks)(H,{runId:c,sortOrder:"desc"}),R=J.isLoading,S=J.data??[],[T,U]=(0,o.useState)(new Map);return(0,o.useEffect)(()=>{S.length&&(async()=>{let a=new Map;for(let b of S)a.set(b.hookId,{count:0,hasMore:!1,loading:!0});U(a);let b=await Promise.allSettled(S.map(async a=>{try{let b=await (0,f.fetchEventsByCorrelationId)(H,a.hookId,{sortOrder:"asc",limit:100});if(!b.success)return{hookId:a.hookId,count:Error(b.error?.message||"Failed to fetch events"),hasMore:!1};let c=b.data,d=c.data.filter(a=>"hook_received"===a.eventType).length;return{hookId:a.hookId,count:d,hasMore:c.hasMore}}catch(b){return{hookId:a.hookId,count:b,hasMore:!1}}}));U(a=>{let c=new Map(a);for(let a=0;a<b.length;a++){let d=b[a],e=S[a].hookId;"fulfilled"===d.status?c.set(d.value.hookId,{count:d.value.count,hasMore:d.value.hasMore,loading:!1}):c.set(e,{count:0,hasMore:!1,loading:!1})}return c})})()},[S,H]),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-end gap-2",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Last refreshed"}),t&&(0,b.jsx)(G.RelativeTime,{date:t,className:"text-sm text-muted-foreground",type:"distance"})]}),(0,b.jsx)("div",{className:"flex items-center gap-4",children:(0,b.jsxs)(D.Tooltip,{children:[(0,b.jsx)(D.TooltipTrigger,{asChild:!0,children:(0,b.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:()=>{u(()=>new Date),P()},disabled:R,children:[(0,b.jsx)(l.RefreshCw,{className:R?"animate-spin":""}),"Refresh"]})}),(0,b.jsx)(D.TooltipContent,{children:"Note that this resets pages"})]})})]}),K?(0,b.jsxs)(q.Alert,{variant:"destructive",children:[(0,b.jsx)(g.AlertCircle,{className:"h-4 w-4"}),(0,b.jsx)(q.AlertTitle,{children:"Error loading hooks"}),(0,b.jsx)(q.AlertDescription,{children:(0,e.getErrorMessage)(K)})]}):R||S&&0!==S.length?R&&!J?.data?(0,b.jsx)(I,{variant:"hooks"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.Card,{className:"overflow-hidden mt-4 bg-background",children:(0,b.jsx)(s.CardContent,{className:"p-0 max-h-[calc(100vh-280px)] overflow-auto",children:(0,b.jsxs)(x,{children:[(0,b.jsx)(y,{children:(0,b.jsxs)(A,{children:[(0,b.jsx)(B,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10",children:"Hook ID"}),(0,b.jsx)(B,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10",children:"Run ID"}),(0,b.jsx)(B,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10",children:"Token"}),(0,b.jsx)(B,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10",children:"Created"}),(0,b.jsx)(B,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10",children:"Invocations"}),(0,b.jsx)(B,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10 w-10"})]})}),(0,b.jsx)(z,{children:S.map(a=>(0,b.jsxs)(A,{className:"cursor-pointer group relative",onClick:()=>d(a.hookId,a.runId),"data-selected":a.hookId===h,children:[(0,b.jsx)(C,{className:"font-mono text-xs py-2",children:(0,b.jsx)(F.CopyableText,{text:a.hookId,overlay:!0,children:a.hookId})}),(0,b.jsx)(C,{className:"font-mono text-xs py-2",children:(0,b.jsx)(F.CopyableText,{text:a.runId,overlay:!0,children:a.runId})}),(0,b.jsx)(C,{className:"font-mono text-xs py-2",children:(0,b.jsx)(F.CopyableText,{text:a.token,overlay:!0,children:(0,b.jsx)("span",{className:"text-muted-foreground",children:"••••••••••••"})})}),(0,b.jsx)(C,{className:"py-2 text-muted-foreground text-xs",children:a.createdAt?(0,b.jsx)(G.RelativeTime,{date:a.createdAt}):"-"}),(0,b.jsx)(C,{className:"py-2",children:(a=>{let c=T.get(a.hookId);if(!c||c.loading)return(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"..."});if(c.count instanceof Error)return(0,b.jsx)("span",{className:"text-muted-foreground",children:"Error"});if(0===c.count)return(0,b.jsx)("span",{className:"text-muted-foreground",children:"0"});let d=c.hasMore?`${c.count}+`:`${c.count}`;return c.hasMore?(0,b.jsxs)(D.Tooltip,{children:[(0,b.jsx)(D.TooltipTrigger,{asChild:!0,children:(0,b.jsx)("span",{className:"font-semibold cursor-help",children:d})}),(0,b.jsx)(D.TooltipContent,{className:"max-w-xs",children:(0,b.jsx)("div",{className:"text-xs",children:"Showing first 100 invocations. There may be more."})})]}):(0,b.jsx)("span",{className:"font-semibold",children:d})})(a)}),(0,b.jsx)(C,{className:"py-2",children:(0,b.jsxs)(w.DropdownMenu,{children:[(0,b.jsx)(w.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(r.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:a=>a.stopPropagation(),children:(0,b.jsx)(k.MoreHorizontal,{className:"h-4 w-4"})})}),(0,b.jsxs)(w.DropdownMenuContent,{align:"end",children:[(0,b.jsxs)(w.DropdownMenuItem,{onClick:async b=>{b.stopPropagation();try{let b=await (0,e.recreateRun)(H,a.runId);p.toast.success("New run started",{description:`Run ID: ${b}`}),P()}catch(a){p.toast.error("Failed to re-run",{description:a instanceof Error?a.message:"Unknown error"})}},children:[(0,b.jsx)(m.RotateCw,{className:"h-4 w-4 mr-2"}),"Replay Run"]}),(0,b.jsxs)(w.DropdownMenuItem,{onClick:async b=>{b.stopPropagation();try{await (0,e.cancelRun)(H,a.runId),p.toast.success("Run cancelled"),P()}catch(a){p.toast.error("Failed to cancel",{description:a instanceof Error?a.message:"Unknown error"})}},children:[(0,b.jsx)(n.XCircle,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})})]},a.hookId))})]})})}),(0,b.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:Q}),(0,b.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,b.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:M,disabled:!O,children:[(0,b.jsx)(i,{}),"Previous"]}),(0,b.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:L,disabled:!N,children:["Next",(0,b.jsx)(j.ChevronRight,{})]})]})]})]}):(0,b.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:["No active hooks found. ",(0,b.jsx)("br",{}),(0,b.jsx)(v,{href:"https://useworkflow.dev/docs/api-reference/workflow/create-hook",children:"Learn how to create a hook"})]})]})}var K=a.i(538015),L=a.i(387750),M=a.i(42277);let N=(0,h.default)("ArrowDownAZ",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]]),O=(0,h.default)("ArrowUpAZ",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]]);var P=a.i(175196),Q=a.i(93354),R=a.i(303872);function S({env:a,runId:c,runStatus:d,onSuccess:e,showDebugActions:f}){let[g,h]=(0,o.useState)(void 0),[i,j]=(0,o.useState)(!0),[k,l]=(0,o.useState)(void 0),m=k?.status||d;return(0,o.useEffect)(()=>{j(!0),Promise.all([(0,M.fetchRun)(a,c,"none"),(0,L.fetchEvents)(a,c,{limit:1e3,sortOrder:"desc"})]).then(([a,b])=>{a.success&&l(a.data),b.success&&h(b.data.data)}).catch(a=>{console.error("Failed to fetch run or events:",a)}).finally(()=>{j(!1)})},[a,c]),(0,b.jsx)(R.RunActionsDropdownItems,{env:a,runId:c,runStatus:m,events:g,eventsLoading:i,stopPropagation:!0,callbacks:{onSuccess:e},showDebugActions:f})}function T({env:a,runId:c,runStatus:d,onSuccess:e,showDebugActions:f}){let[g,h]=(0,o.useState)(!1);return(0,b.jsxs)(w.DropdownMenu,{open:g,onOpenChange:h,children:[(0,b.jsx)(w.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(r.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:a=>a.stopPropagation(),children:(0,b.jsx)(k.MoreHorizontal,{className:"h-4 w-4"})})}),g&&(0,b.jsx)(w.DropdownMenuContent,{align:"end",children:(0,b.jsx)(S,{env:a,runId:c,runStatus:d,onSuccess:e,showDebugActions:f})})]})}let U={pending:{label:"Pending",color:"bg-neutral-600 dark:bg-neutral-400"},running:{label:"Running",color:"bg-blue-600 dark:bg-blue-400"},completed:{label:"Completed",color:"bg-green-600 dark:bg-green-400"},failed:{label:"Failed",color:"bg-red-600 dark:bg-red-400"},paused:{label:"Paused",color:"bg-yellow-600 dark:bg-yellow-400"},cancelled:{label:"Cancelled",color:"bg-gray-600 dark:bg-gray-400"}};function V({workflowNameFilter:a,status:c,seenWorkflowNames:d,sortOrder:e,loading:f,statusFilterRequiresWorkflowNameFilter:g,onWorkflowChange:h,onStatusChange:i,onSortToggle:j,onRefresh:k,lastRefreshTime:m}){return(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-end gap-2",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Last refreshed"}),m&&(0,b.jsx)(G.RelativeTime,{date:m,className:"text-sm text-muted-foreground",type:"distance"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)(P.Select,{value:a??"all",onValueChange:h,disabled:f,children:[(0,b.jsx)(P.SelectTrigger,{className:"w-[180px] h-9",children:(0,b.jsx)(P.SelectValue,{placeholder:"Filter by workflow"})}),(0,b.jsxs)(P.SelectContent,{children:[(0,b.jsx)(P.SelectItem,{value:"all",children:"All Workflows"}),Array.from(d).sort().map(a=>(0,b.jsx)(P.SelectItem,{value:a,children:(0,K.parseWorkflowName)(a)?.shortName||a},a))]})]}),(0,b.jsxs)(D.Tooltip,{children:[(0,b.jsx)(D.TooltipTrigger,{asChild:!0,children:(0,b.jsx)("div",{children:(0,b.jsxs)(P.Select,{value:c||"all",onValueChange:i,disabled:f||g&&!a,children:[(0,b.jsx)(P.SelectTrigger,{className:"w-[140px] h-9",children:(0,b.jsx)(P.SelectValue,{placeholder:"Filter by status"})}),(0,b.jsxs)(P.SelectContent,{children:[(0,b.jsx)(P.SelectItem,{value:"all",children:"Any status"}),Object.entries(U).map(([a,{label:c,color:d}])=>(0,b.jsx)(P.SelectItem,{value:a,children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("span",{className:`${d} size-1.5 rounded-full mr-2`}),c]})},a))]})]})})}),(0,b.jsx)(D.TooltipContent,{children:g&&"all"===a?"Select a workflow first to filter by status":"Filter runs by status"})]}),(0,b.jsxs)(D.Tooltip,{children:[(0,b.jsx)(D.TooltipTrigger,{asChild:!0,children:(0,b.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:j,disabled:f,children:["desc"===e?(0,b.jsx)(N,{className:"h-4 w-4"}):(0,b.jsx)(O,{className:"h-4 w-4"}),"desc"===e?"Newest":"Oldest"]})}),(0,b.jsx)(D.TooltipContent,{children:"desc"===e?"Showing newest first":"Showing oldest first"})]}),(0,b.jsxs)(D.Tooltip,{children:[(0,b.jsx)(D.TooltipTrigger,{asChild:!0,children:(0,b.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:k,disabled:f,children:[(0,b.jsx)(l.RefreshCw,{className:f?"animate-spin":""}),"Refresh"]})}),(0,b.jsx)(D.TooltipContent,{children:"Note that this resets pages"})]})]})]})}function W({config:a,onRunClick:d}){let f,h,k,l,m,n,p=(0,c.useSearchParams)(),t=(f=(0,c.useRouter)(),h=(0,c.usePathname)(),k=(0,c.useSearchParams)(),(0,o.useCallback)(a=>{let b=new URLSearchParams(k.toString());"all"===a?(b.delete("workflow"),b.delete("status")):b.set("workflow",a),f.push(`${h}?${b.toString()}`)},[f,h,k])),u=(l=(0,c.useRouter)(),m=(0,c.usePathname)(),n=(0,c.useSearchParams)(),(0,o.useCallback)(a=>{let b=new URLSearchParams(n.toString());"all"===a?b.delete("status"):b.set("status",a),l.push(`${m}?${b.toString()}`)},[l,m,n])),w=p.get("status"),D=Object.keys(U),H="all"===w||w&&D.includes(w)?w:void 0,J=p.get("workflow"),L="1"===p.get("debug"),[M,N]=(0,o.useState)("desc"),[O,P]=(0,o.useState)(()=>new Date),R=(0,o.useMemo)(()=>(0,E.worldConfigToEnvMap)(a),[a]),S=a.backend?.includes("vercel")||!1,[W,X]=(0,o.useState)(new Set),{data:Y,error:Z,nextPage:$,previousPage:_,hasNextPage:aa,hasPreviousPage:ab,reload:ac,pageInfo:ad}=(0,e.useWorkflowRuns)(R,{sortOrder:M,workflowName:"all"===J?void 0:J,status:"all"===H?void 0:H});(0,o.useEffect)(()=>{if(Y.data&&Y.data.length>0){let a=new Set(Y.data.map(a=>a.workflowName));X(b=>{let c=new Set(b);for(let b of a)c.add(b);return c})}},[Y.data]);let ae=Y.isLoading;return(0,b.jsxs)("div",{children:[(0,b.jsx)(V,{workflowNameFilter:J,status:H,seenWorkflowNames:W,sortOrder:M,loading:ae,statusFilterRequiresWorkflowNameFilter:S,onWorkflowChange:t,onStatusChange:u,onSortToggle:()=>{N(a=>"desc"===a?"asc":"desc")},onRefresh:()=>{P(()=>new Date),ac()},lastRefreshTime:O}),Z?(0,b.jsxs)(q.Alert,{variant:"destructive",children:[(0,b.jsx)(g.AlertCircle,{className:"h-4 w-4"}),(0,b.jsx)(q.AlertTitle,{children:"Error loading runs"}),(0,b.jsx)(q.AlertDescription,{children:(0,e.getErrorMessage)(Z)})]}):ae&&!Y?.data?(0,b.jsx)(I,{}):ae||Y.data&&0!==Y.data.length?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.Card,{className:"overflow-hidden mt-4 bg-background",children:(0,b.jsx)(s.CardContent,{className:"p-0 max-h-[calc(100vh-280px)] overflow-auto",children:(0,b.jsxs)(x,{children:[(0,b.jsx)(y,{children:(0,b.jsxs)(A,{children:[(0,b.jsx)(B,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10",children:"Workflow"}),(0,b.jsx)(B,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10",children:"Run ID"}),(0,b.jsx)(B,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10",children:"Status"}),(0,b.jsx)(B,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10",children:"Started"}),(0,b.jsx)(B,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10",children:"Completed"}),(0,b.jsx)(B,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10 w-10"})]})}),(0,b.jsx)(z,{children:Y.data?.map(a=>(0,b.jsxs)(A,{className:"cursor-pointer group relative",onClick:()=>d(a.runId),children:[(0,b.jsx)(C,{className:"py-2",children:(0,b.jsx)(F.CopyableText,{text:a.workflowName,overlay:!0,children:(0,K.parseWorkflowName)(a.workflowName)?.shortName||"?"})}),(0,b.jsx)(C,{className:"font-mono text-xs py-2",children:(0,b.jsx)(F.CopyableText,{text:a.runId,overlay:!0,children:a.runId})}),(0,b.jsx)(C,{className:"py-2",children:(0,b.jsx)(Q.StatusBadge,{status:a.status,context:a,durationMs:a.startedAt?(a.completedAt?new Date(a.completedAt).getTime():Date.now())-new Date(a.startedAt).getTime():void 0})}),(0,b.jsx)(C,{className:"py-2 text-muted-foreground text-xs",children:a.startedAt?(0,b.jsx)(G.RelativeTime,{date:a.startedAt}):"-"}),(0,b.jsx)(C,{className:"py-2 text-muted-foreground text-xs",children:a.completedAt?(0,b.jsx)(G.RelativeTime,{date:a.completedAt}):"-"}),(0,b.jsx)(C,{className:"py-2",children:(0,b.jsx)(T,{env:R,runId:a.runId,runStatus:a.status,onSuccess:ac,showDebugActions:L})})]},a.runId))})]})})}),(0,b.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:ad}),(0,b.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,b.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:_,disabled:!ab,children:[(0,b.jsx)(i,{}),"Previous"]}),(0,b.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:$,disabled:!aa,children:["Next",(0,b.jsx)(j.ChevronRight,{})]})]})]})]}):(0,b.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:["No workflow runs found. ",(0,b.jsx)("br",{}),(0,b.jsx)(v,{href:"https://useworkflow.dev/docs/foundations/workflows-and-steps",children:"Learn how to create a workflow"})]})]})}var X=a.i(725538),Y=a.i(47318);function Z(){let a=(0,c.useRouter)(),e=(0,E.useQueryParamConfig)(),[f]=(0,Y.useSidebarState)(),[g]=(0,Y.useHookIdState)(),[h,i]=(0,Y.useTabState)();return(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,b.jsxs)(X.Tabs,{value:h,onValueChange:i,className:"w-full",children:[(0,b.jsxs)(X.TabsList,{className:"mb-4",children:[(0,b.jsx)(X.TabsTrigger,{value:"runs",children:"Runs"}),(0,b.jsx)(X.TabsTrigger,{value:"hooks",children:"Hooks"})]}),(0,b.jsx)(X.TabsContent,{value:"runs",children:(0,b.jsx)(d.ErrorBoundary,{title:"Runs Error",description:"Failed to load workflow runs. Please try refreshing the page.",children:(0,b.jsx)(W,{config:e,onRunClick:(b,c)=>{c?a.push((0,E.buildUrlWithConfig)(`/run/${b}/streams/${c}`,e)):a.push((0,E.buildUrlWithConfig)(`/run/${b}`,e))}})})}),(0,b.jsx)(X.TabsContent,{value:"hooks",children:(0,b.jsx)(d.ErrorBoundary,{title:"Hooks Error",description:"Failed to load hooks. Please try refreshing the page.",children:(0,b.jsx)(J,{config:e,onHookClick:(b,c)=>{b?a.push((0,E.buildUrlWithConfig)(`/run/${c}`,e,{sidebar:"hook",hookId:b})):a.push((0,E.buildUrlWithConfig)(`/run/${c}`,e))},selectedHookId:"hook"===f&&g?g:void 0})})})]})})}a.s(["default",()=>Z],762587)}];

//# sourceMappingURL=packages_web_src_app_page_tsx_cd282e82._.js.map