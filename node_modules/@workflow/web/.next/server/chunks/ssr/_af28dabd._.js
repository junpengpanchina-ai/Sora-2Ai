module.exports=[339832,a=>{"use strict";var b=a.i(551520),c=a.i(774906);function d(){(0,b.c)("[nuqs] Aborting queues"),c.t.abortAll(),c.n.abort().forEach(a=>c.t.queuedQuerySync.emit(a))}var e=a.i(253220),f=a.i(624282);let g=0;function h(){g=0,d()}function i(){--g<=0&&(g=0,queueMicrotask(d))}function j(){return(0,e.useEffect)(()=>(!function(){var a;if(a="next/app","undefined"==typeof history||(history.nuqs?.version&&"2.8.3"!==history.nuqs.version?(console.error((0,b.s)(409),history.nuqs.version,"2.8.3",a),!0):!!history.nuqs?.adapters?.includes(a)))return;let c=history.replaceState,d=history.pushState;history.replaceState=function(a,b,d){return i(),c.call(history,a,b,d)},history.pushState=function(a,b,c){return i(),d.call(history,a,b,c)},history.nuqs=history.nuqs??{version:"2.8.3",adapters:[]},history.nuqs.adapters.push("next/app")}(),window.addEventListener("popstate",h),()=>window.removeEventListener("popstate",h)),[]),null}let k=(0,b.n)(function(){let a=(0,f.useRouter)(),[c,d]=(0,e.useOptimistic)((0,f.useSearchParams)());return{searchParams:c,updateUrl:(0,e.useCallback)((c,f)=>{(0,e.startTransition)(()=>{f.shallow||d(c);let e=function(a){let{origin:c,pathname:d,hash:e}=location;return c+d+(0,b.o)(a)+e}(c);(0,b.c)("[nuqs next/app] Updating url: %s",e);let h="push"===f.history?history.pushState:history.replaceState;g=3,h.call(history,null,"",e),f.scroll&&window.scrollTo(0,0),f.shallow||a.replace(e,{scroll:!1})})},[]),rateLimitFactor:3,autoResetQueueOnUpdate:!1}});function l({children:a,...b}){return(0,e.createElement)(k,{...b,children:[(0,e.createElement)(e.Suspense,{key:"nuqs-adapter-suspense-navspy",children:(0,e.createElement)(j)}),a]})}a.s(["NuqsAdapter",()=>l],339832)},539350,a=>{"use strict";var b=a.i(857446),c=a.i(101056),d=a.i(315330),e=a.i(624282),f=a.i(253220),g=(a,b,c,d,e,f,g,h)=>{let i=document.documentElement,j=["light","dark"];function k(b){var c;(Array.isArray(a)?a:[a]).forEach(a=>{let c="class"===a,d=c&&f?e.map(a=>f[a]||a):e;c?(i.classList.remove(...d),i.classList.add(f&&f[b]?f[b]:b)):i.setAttribute(a,b)}),c=b,h&&j.includes(c)&&(i.style.colorScheme=c)}if(d)k(d);else try{let a=localStorage.getItem(b)||c,d=g&&"system"===a?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a;k(d)}catch(a){}},h=["light","dark"],i="(prefers-color-scheme: dark)",j=f.createContext(void 0),k={setTheme:a=>{},themes:[]},l=()=>{var a;return null!=(a=f.useContext(j))?a:k},m=a=>f.useContext(j)?f.createElement(f.Fragment,null,a.children):f.createElement(o,{...a}),n=["light","dark"],o=({forcedTheme:a,disableTransitionOnChange:b=!1,enableSystem:c=!0,enableColorScheme:d=!0,storageKey:e="theme",themes:g=n,defaultTheme:k=c?"system":"light",attribute:l="data-theme",value:m,children:o,nonce:t,scriptProps:u})=>{let[v,w]=f.useState(()=>q(e,k)),[x,y]=f.useState(()=>"system"===v?s():v),z=m?Object.values(m):g,A=f.useCallback(a=>{let e=a;if(!e)return;"system"===a&&c&&(e=s());let f=m?m[e]:e,g=b?r(t):null,i=document.documentElement,j=a=>{"class"===a?(i.classList.remove(...z),f&&i.classList.add(f)):a.startsWith("data-")&&(f?i.setAttribute(a,f):i.removeAttribute(a))};if(Array.isArray(l)?l.forEach(j):j(l),d){let a=h.includes(k)?k:null,b=h.includes(e)?e:a;i.style.colorScheme=b}null==g||g()},[t]),B=f.useCallback(a=>{let b="function"==typeof a?a(v):a;w(b);try{localStorage.setItem(e,b)}catch(a){}},[v]),C=f.useCallback(b=>{y(s(b)),"system"===v&&c&&!a&&A("system")},[v,a]);f.useEffect(()=>{let a=window.matchMedia(i);return a.addListener(C),C(a),()=>a.removeListener(C)},[C]),f.useEffect(()=>{let a=a=>{a.key===e&&(a.newValue?w(a.newValue):B(k))};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[B]),f.useEffect(()=>{A(null!=a?a:v)},[a,v]);let D=f.useMemo(()=>({theme:v,setTheme:B,forcedTheme:a,resolvedTheme:"system"===v?x:v,themes:c?[...g,"system"]:g,systemTheme:c?x:void 0}),[v,B,a,x,c,g]);return f.createElement(j.Provider,{value:D},f.createElement(p,{forcedTheme:a,storageKey:e,attribute:l,enableSystem:c,enableColorScheme:d,defaultTheme:k,value:m,themes:g,nonce:t,scriptProps:u}),o)},p=f.memo(({forcedTheme:a,storageKey:b,attribute:c,enableSystem:d,enableColorScheme:e,defaultTheme:h,value:i,themes:j,nonce:k,scriptProps:l})=>{let m=JSON.stringify([c,b,h,a,j,i,d,e]).slice(1,-1);return f.createElement("script",{...l,suppressHydrationWarning:!0,nonce:k,dangerouslySetInnerHTML:{__html:`(${g.toString()})(${m})`}})}),q=(a,b)=>{},r=a=>{let b=document.createElement("style");return a&&b.setAttribute("nonce",a),b.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(b),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(b)},1)}},s=a=>(a||(a=window.matchMedia(i)),a.matches?"dark":"light"),t=a.i(393557),u=a.i(470903);function v(a){return a?.["local.shortName"]}function w(){var a,c;let{serverConfig:d}=(0,u.useServerConfig)(),e=function(a){let{backendDisplayName:b,backendId:c,displayInfo:d,publicEnv:e}=a;switch(c){case"local":case"@workflow/world-local":return`Local Dev: ${v(d)||"Unknown"}`;case"vercel":case"@workflow/world-vercel":let f,g,h,i;return f=e.WORKFLOW_VERCEL_ENV||"production",g=e.WORKFLOW_VERCEL_TEAM,h=e.WORKFLOW_VERCEL_PROJECT,i=g&&h?`${g}/${h}`:h||g||"Unknown",`Connected to Vercel ${f} (${i})`;case"postgres":case"@workflow/world-postgres":let j,k;return j=d?.["derived.WORKFLOW_POSTGRES_URL.hostname"],k=d?.["derived.WORKFLOW_POSTGRES_URL.database"],j?`Connected to Postgres (${j}${k?`/${k}`:""})`:"Connected to Postgres";default:return`Connected to: ${b}`}}(d),{backendId:f}=d,g=(a=d.displayInfo,("local"===f||"@workflow/world-local"===f)&&"packages/web"===v(a)),h=Object.entries(d.publicEnv).sort(([a],[b])=>a.localeCompare(b)),i=[...d.sensitiveEnvKeys].sort(),j=h.length>0||i.length>0||g,k=(0,b.jsx)("div",{className:"text-md whitespace-nowrap",children:(0,b.jsx)("span",{className:"font-medium",children:e})});return j?(0,b.jsxs)(t.Tooltip,{children:[(0,b.jsx)(t.TooltipTrigger,{asChild:!0,children:k}),(0,b.jsx)(t.TooltipContent,{children:(0,b.jsxs)("div",{className:"flex flex-col gap-2 max-w-[640px]",children:[g&&(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("div",{className:"font-medium text-foreground",children:"Local data directory looks misconfigured"}),(0,b.jsxs)("div",{className:"text-muted-foreground",children:["This UI appears to be pointing at ",(0,b.jsx)("code",{children:"packages/web"}),". Configure the local data directory / working directory and restart the web UI. See"," ",(0,b.jsx)("a",{className:"underline",href:"https://useworkflow.dev/docs/observability",target:"_blank",rel:"noopener noreferrer",children:"docs"}),"."]})]}),(c=[...h.map(([a,b])=>({key:a,value:b})),...i.map(a=>({key:a,value:"*****"}))],(0,b.jsx)("div",{className:"grid grid-cols-[auto,1fr] gap-x-4 gap-y-1",children:c.map(({key:a,value:c})=>(0,b.jsxs)("div",{className:"contents",children:[(0,b.jsx)("div",{className:"font-mono text-xs text-muted-foreground",children:a}),(0,b.jsx)("div",{className:"font-mono text-xs text-foreground break-all",children:c})]},a))}))]})})]}):k}var x=a.i(622427);let y=(0,x.default)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),z=(0,x.default)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),A=(0,x.default)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);var B=a.i(676653);function C({value:a,onValueChange:c,options:d,className:e}){return(0,b.jsx)("div",{className:(0,B.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),children:d.map(d=>(0,b.jsxs)("button",{type:"button",onClick:()=>c(d.value),className:(0,B.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",a===d.value?"bg-background text-foreground shadow":"hover:bg-background/50"),children:[d.icon,d.label&&(0,b.jsx)("span",{className:"ml-2",children:d.label})]},d.value))})}function D(){let{theme:a,setTheme:c}=l();return(0,b.jsx)(C,{value:a||"system",onValueChange:a=>c(a),options:[{value:"system",icon:(0,b.jsx)(y,{className:"h-4 w-4"})},{value:"light",icon:(0,b.jsx)(A,{className:"h-4 w-4"})},{value:"dark",icon:(0,b.jsx)(z,{className:"h-4 w-4"})}],className:"h-8"})}let E=(0,x.default)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var F=a.i(397494);function G(){return(0,b.jsxs)(t.Tooltip,{children:[(0,b.jsx)(t.TooltipTrigger,{asChild:!0,children:(0,b.jsx)(F.Button,{asChild:!0,variant:"outline",size:"sm",children:(0,b.jsxs)("a",{href:"https://useworkflow.dev/docs/observability",target:"_blank",rel:"noopener noreferrer",className:"gap-1",children:[(0,b.jsx)("span",{children:"Docs"}),(0,b.jsx)(E,{className:"h-4 w-4"})]})})}),(0,b.jsx)(t.TooltipContent,{children:"Open docs"})]})}var H=a.i(95811);let I=({...a})=>{let{theme:c="system"}=l();return(0,b.jsx)(H.Toaster,{theme:c,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground",error:"group-[.toaster]:bg-destructive group-[.toaster]:text-destructive-foreground group-[.toaster]:border-destructive",success:"group-[.toaster]:bg-green-600 group-[.toaster]:text-white group-[.toaster]:border-green-600"}},...a})};function J({className:a}={}){return(0,b.jsxs)("svg",{viewBox:"0 0 1792 240",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a||"h-6 w-auto",role:"img","aria-label":"Workflow Logo",children:[(0,b.jsx)("title",{children:"Workflow Logo"}),(0,b.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M753.933 55.627C806.249 55.627 840.685 91.718 840.685 147.345C840.685 202.971 806.249 239.062 753.933 239.062C701.286 239.062 666.851 202.971 666.851 147.345C666.851 91.7181 701.286 55.6271 753.933 55.627ZM753.933 90.0625C726.451 90.0626 710.889 111.254 710.889 147.345C710.889 183.436 726.451 204.627 753.933 204.627C781.084 204.627 796.978 183.436 796.978 147.345C796.978 111.254 781.084 90.0625 753.933 90.0625Z",className:"fill-foreground"}),(0,b.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1445.65 55.627C1497.96 55.627 1532.4 91.718 1532.4 147.345C1532.4 202.971 1497.96 239.062 1445.65 239.062C1393 239.062 1358.56 202.971 1358.56 147.345C1358.56 91.718 1393 55.627 1445.65 55.627ZM1445.65 90.0625C1418.16 90.0625 1402.6 111.254 1402.6 147.345C1402.6 183.436 1418.16 204.627 1445.65 204.627C1472.8 204.627 1488.69 183.436 1488.69 147.345C1488.69 111.254 1472.8 90.0626 1445.65 90.0625Z",className:"fill-foreground"}),(0,b.jsx)("path",{d:"M902.473 94.0361C909.095 70.8584 922.34 59.5997 944.855 59.5996H961.079V92.3799H944.524C916.38 92.38 904.128 106.949 904.128 135.094V235.089H861.746V59.5996H901.48L902.473 94.0361Z",className:"fill-foreground"}),(0,b.jsx)("path",{d:"M1019.25 138.735L1091.11 59.5996H1143.09L1074.55 132.113L1146.4 235.089H1098.72L1046.74 157.609L1019.25 187.078V235.089H976.872V0H1019.25V138.735Z",className:"fill-foreground"}),(0,b.jsx)("path",{d:"M1263.63 32.7803H1235.82C1224.89 32.7803 1217.28 41.3893 1217.28 54.9648V59.5996H1260.98V92.3799H1217.28V235.089H1174.56V92.3799H1149.4V59.5996H1174.56V54.9648C1174.56 19.5359 1191.78 0 1230.85 0H1263.63V32.7803Z",className:"fill-foreground"}),(0,b.jsx)("path",{d:"M1322.58 189.396C1322.58 197.673 1327.22 202.309 1335.5 202.31H1348.74V235.089H1324.57C1298.08 235.089 1280.2 218.534 1280.2 191.052V0H1322.58V189.396Z",className:"fill-foreground"}),(0,b.jsx)("path",{d:"M1604.59 186.416L1641.02 59.5996H1677.77L1713.86 186.416L1749.95 59.5996H1791.34L1737.7 235.089H1694.32L1659.56 116.883L1624.79 235.089H1581.42L1527.77 59.5996H1568.83L1604.59 186.416Z",className:"fill-foreground"}),(0,b.jsx)("path",{d:"M472.173 174.847L514.895 0.671875H554.66L598.038 174.847L640.432 0.671875H685.454L623.015 234H575.692L534.942 77.5713L493.863 234H446.869L384.1 0.671875H429.122L472.173 174.847Z",className:"fill-foreground"}),(0,b.jsx)("path",{d:"M125.776 0C120.929 1.64945e-05 117 3.9291 117 8.77539V61.4248C117 66.2711 120.929 70.2002 125.776 70.2002H160.875L161.253 70.2051C169.032 70.4023 175.301 76.6734 175.495 84.4531L175.5 84.8252V143.325C175.5 148.171 179.429 152.101 184.276 152.101H219.375L219.753 152.105C227.53 152.303 233.798 158.571 233.995 166.348L234 166.726V225.225C234 230.071 237.929 234 242.776 234H295.425C300.271 234 304.2 230.071 304.2 225.225V172.575C304.2 167.729 300.271 163.8 295.425 163.8H260.25C252.334 163.76 245.905 157.43 245.705 149.553L245.7 149.176V90.6758C245.7 85.8295 241.771 81.9004 236.925 81.9004H201.825C193.874 81.9004 187.405 75.5551 187.205 67.6523L187.2 67.2754V8.77539C187.2 3.9291 183.271 1.64951e-05 178.425 0H125.776Z",className:"fill-foreground"}),(0,b.jsx)("path",{d:"M67.2755 81.9004C62.4293 81.9004 58.5002 85.8295 58.5002 90.6758V143.325C58.5004 148.171 62.4294 152.101 67.2755 152.101H102.375L102.753 152.105C110.53 152.303 116.798 158.571 116.995 166.348L117 166.726V225.225C117 230.071 120.929 234 125.776 234H178.425C183.271 234 187.2 230.071 187.2 225.225V172.575C187.2 167.729 183.271 163.8 178.425 163.8H143.25C135.334 163.76 128.905 157.43 128.705 149.553L128.7 149.176V90.6758C128.7 85.8295 124.771 81.9004 119.925 81.9004H67.2755Z",className:"fill-foreground"}),(0,b.jsx)("path",{d:"M8.77454 163.8C3.92844 163.8 0.00012207 167.729 0.00012207 172.575V225.225C0.00012207 230.071 3.92844 234 8.77454 234H61.4249C66.2712 234 70.2003 230.071 70.2003 225.225V172.575C70.2003 167.729 66.2712 163.8 61.4249 163.8H8.77454Z",className:"fill-foreground"})]})}function K({children:a}){let g=(0,e.useRouter)(),h=(0,e.usePathname)(),i=(0,e.useSearchParams)(),{setTheme:j}=l(),k=i.get("id"),m=i.get("runId"),n=i.get("stepId"),o=i.get("hookId"),p=i.get("resource"),q=i.get("theme"),r=(0,f.useRef)(!1);return(0,f.useEffect)(()=>{q&&("light"===q||"dark"===q||"system"===q)&&j(q)},[q,j]),(0,f.useEffect)(()=>{let a=function(a){let{pathname:b,hasNavigated:c,resource:d,id:e,runId:f,stepId:g,hookId:h}=a;if(b.startsWith("/run/"))return{url:null,markNavigated:!0};if("/"!==b&&c)return{url:null,markNavigated:!1};if(d){if(!e)return{url:null,markNavigated:!1};let a=function(a){let{resource:b,id:c,runId:d}=a;switch(b){case"run":return`/run/${c}`;case"step":return d?`/run/${d}?sidebar=step&stepId=${c}`:null;case"stream":return d?`/run/${d}?sidebar=stream&streamId=${c}`:null;case"event":return d?`/run/${d}?sidebar=event&eventId=${c}`:null;case"hook":return d?`/run/${d}?sidebar=hook&hookId=${c}`:`/?sidebar=hook&hookId=${c}`;default:return null}}({resource:d,id:e,runId:f});return a?{url:a,markNavigated:!0}:{url:null,markNavigated:!1,warn:`Can't deep-link to ${d} ${e}.`}}return f?{url:function(a){let{runId:b,stepId:c,hookId:d}=a;return c?`/run/${b}?sidebar=step&stepId=${c}`:d?`/run/${b}?sidebar=hook&hookId=${d}`:`/run/${b}`}({runId:f,stepId:g,hookId:h}),markNavigated:!0}:{url:null,markNavigated:!1}}({pathname:h,hasNavigated:r.current,resource:p,id:k,runId:m,stepId:n,hookId:o});a.warn&&console.warn(a.warn),a.markNavigated&&(r.current=!0),a.url&&g.push(a.url)},[p,k,m,n,o,g,h]),(0,b.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,b.jsxs)(c.TooltipProvider,{delayDuration:0,children:[(0,b.jsx)("div",{className:"sticky top-0 z-50 bg-background border-b px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(d.default,{href:"/",children:(0,b.jsx)("h1",{className:"flex items-center gap-2",title:"Workflow Observability",children:(0,b.jsx)(J,{})})}),(0,b.jsx)("div",{className:"h-6 w-px bg-border","aria-hidden":"true"}),(0,b.jsx)(w,{})]}),(0,b.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[(0,b.jsx)(D,{}),(0,b.jsx)(G,{})]})]})}),(0,b.jsx)("div",{className:"flex-1 px-6 pt-6",children:a})]}),(0,b.jsx)(I,{})]})}function L({children:a,serverConfig:c}){return(0,b.jsx)(m,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,storageKey:"workflow-theme",children:(0,b.jsx)(u.ServerConfigProvider,{serverConfig:c,children:(0,b.jsx)(K,{children:a})})})}a.s(["LayoutClient",()=>L],539350)}];

//# sourceMappingURL=_af28dabd._.js.map