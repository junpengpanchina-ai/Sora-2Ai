(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,330997,e=>{"use strict";var s=e.i(666426),t=e.i(868924),r=e.i(519303);e.i(169764);var a=e.i(531875),l=e.i(589139),o=e.i(687602),n=e.i(886288);let d=(0,n.default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var i=e.i(524914),c=e.i(495566),h=e.i(525449),u=e.i(846220),x=e.i(811735),m=e.i(686107),j=e.i(806746),f=e.i(456944),g=e.i(260218),p=e.i(212603),w=e.i(414576),k=e.i(949245);let b=m.forwardRef(({className:e,href:t,children:r,...a},l)=>{let o=t.startsWith("http")?t:`https://useworkflow.dev/docs/${t.replace(/^\//,"")}`;return(0,s.jsx)(w.default,{href:o,className:(0,k.cn)("font-medium underline underline-offset-4 transition-colors",e),style:{color:"var(--ds-blue-600)"},target:"_blank",rel:"noopener noreferrer",ref:l,...a,children:r})});b.displayName="DocsLink";var N=e.i(917955);let v=m.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:r,className:(0,k.cn)("w-full caption-bottom text-sm",e),...t})}));v.displayName="Table";let y=m.forwardRef(({className:e,...t},r)=>(0,s.jsx)("thead",{ref:r,className:(0,k.cn)("[&_tr]:border-b",e),...t}));y.displayName="TableHeader";let S=m.forwardRef(({className:e,...t},r)=>(0,s.jsx)("tbody",{ref:r,className:(0,k.cn)("[&_tr:last-child]:border-0",e),...t}));S.displayName="TableBody",m.forwardRef(({className:e,...t},r)=>(0,s.jsx)("tfoot",{ref:r,className:(0,k.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let C=m.forwardRef(({className:e,...t},r)=>(0,s.jsx)("tr",{ref:r,className:(0,k.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));C.displayName="TableRow";let T=m.forwardRef(({className:e,...t},r)=>(0,s.jsx)("th",{ref:r,className:(0,k.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));T.displayName="TableHead";let R=m.forwardRef(({className:e,...t},r)=>(0,s.jsx)("td",{ref:r,className:(0,k.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));R.displayName="TableCell",m.forwardRef(({className:e,...t},r)=>(0,s.jsx)("caption",{ref:r,className:(0,k.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption";var I=e.i(638322),M=e.i(620486),A=e.i(241245),_=e.i(719402),D=e.i(613087);function z({rows:e=k.DEFAULT_PAGE_SIZE,variant:t="runs"}){return(0,s.jsx)(p.Card,{className:"overflow-hidden mt-4 bg-background",children:(0,s.jsxs)(p.CardContent,{className:"p-0",children:[(()=>{switch(t){case"runs":return(0,s.jsxs)("div",{className:"grid grid-cols-[1fr_1.5fr_0.8fr_1fr_1fr_40px] items-center gap-4 py-3 px-4 border-b",children:[(0,s.jsx)(D.Skeleton,{className:"h-4 w-20"}),(0,s.jsx)(D.Skeleton,{className:"h-4 w-14"}),(0,s.jsx)(D.Skeleton,{className:"h-4 w-12"}),(0,s.jsx)(D.Skeleton,{className:"h-4 w-14"}),(0,s.jsx)(D.Skeleton,{className:"h-4 w-20"}),(0,s.jsx)("div",{className:"w-6"})]});case"hooks":return(0,s.jsxs)("div",{className:"grid grid-cols-[1.2fr_1.2fr_0.8fr_1fr_0.5fr_40px] items-center gap-4 py-3 px-4 border-b",children:[(0,s.jsx)(D.Skeleton,{className:"h-4 w-16"}),(0,s.jsx)(D.Skeleton,{className:"h-4 w-14"}),(0,s.jsx)(D.Skeleton,{className:"h-4 w-12"}),(0,s.jsx)(D.Skeleton,{className:"h-4 w-14"}),(0,s.jsx)(D.Skeleton,{className:"h-4 w-20"}),(0,s.jsx)("div",{className:"w-6"})]});case"workflows":return(0,s.jsxs)("div",{className:"grid grid-cols-[1fr_1.5fr_0.5fr] items-center gap-4 py-3 px-4 border-b",children:[(0,s.jsx)(D.Skeleton,{className:"h-4 w-20"}),(0,s.jsx)(D.Skeleton,{className:"h-4 w-10"}),(0,s.jsx)(D.Skeleton,{className:"h-4 w-12 mx-auto"})]});default:return null}})(),Array.from({length:e},(e,r)=>(e=>{switch(t){case"runs":return(0,s.jsxs)("div",{className:"grid grid-cols-[1fr_1.5fr_0.8fr_1fr_1fr_40px] items-center gap-4 py-3 px-4",children:[(0,s.jsx)(D.Skeleton,{className:"h-4 w-3/4"}),(0,s.jsx)(D.Skeleton,{className:"h-4 w-4/5"}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)(D.Skeleton,{className:"h-3 w-14"}),(0,s.jsx)(D.Skeleton,{className:"h-2 w-8"})]}),(0,s.jsx)(D.Skeleton,{className:"h-3 w-3/4"}),(0,s.jsx)(D.Skeleton,{className:"h-3 w-3/4"}),(0,s.jsx)(D.Skeleton,{className:"h-6 w-6 rounded"})]},`skeleton-row-${e}`);case"hooks":return(0,s.jsxs)("div",{className:"grid grid-cols-[1.2fr_1.2fr_0.8fr_1fr_0.5fr_40px] items-center gap-4 py-3 px-4",children:[(0,s.jsx)(D.Skeleton,{className:"h-4 w-4/5"}),(0,s.jsx)(D.Skeleton,{className:"h-4 w-4/5"}),(0,s.jsx)(D.Skeleton,{className:"h-4 w-3/4"}),(0,s.jsx)(D.Skeleton,{className:"h-3 w-3/4"}),(0,s.jsx)(D.Skeleton,{className:"h-4 w-8"}),(0,s.jsx)(D.Skeleton,{className:"h-6 w-6 rounded"})]},`skeleton-row-${e}`);case"workflows":return(0,s.jsxs)("div",{className:"grid grid-cols-[1fr_1.5fr_0.5fr] items-center gap-4 py-3 px-4",children:[(0,s.jsx)(D.Skeleton,{className:"h-4 w-3/4"}),(0,s.jsx)(D.Skeleton,{className:"h-4 w-4/5"}),(0,s.jsx)(D.Skeleton,{className:"h-5 w-16 rounded-full mx-auto"})]},`skeleton-row-${e}`);default:return null}})(r))]})})}function P({config:e,runId:t,onHookClick:r,selectedHookId:n}){let[w,k]=(0,m.useState)(()=>new Date),D=(0,m.useMemo)(()=>(0,M.worldConfigToEnvMap)(e),[e]),{data:P,error:E,nextPage:F,previousPage:$,hasNextPage:B,hasPreviousPage:W,reload:L,pageInfo:U}=(0,a.useWorkflowHooks)(D,{runId:t,sortOrder:"desc"}),H=P.isLoading,O=P.data??[],[V,Z]=(0,m.useState)(new Map);return(0,m.useEffect)(()=>{O.length&&(async()=>{let e=new Map;for(let s of O)e.set(s.hookId,{count:0,hasMore:!1,loading:!0});Z(e);let s=await Promise.allSettled(O.map(async e=>{try{let s=await (0,l.fetchEventsByCorrelationId)(D,e.hookId,{sortOrder:"asc",limit:100});if(!s.success)return{hookId:e.hookId,count:Error(s.error?.message||"Failed to fetch events"),hasMore:!1};let t=s.data,r=t.data.filter(e=>"hook_received"===e.eventType).length;return{hookId:e.hookId,count:r,hasMore:t.hasMore}}catch(s){return{hookId:e.hookId,count:s,hasMore:!1}}}));Z(e=>{let t=new Map(e);for(let e=0;e<s.length;e++){let r=s[e],a=O[e].hookId;"fulfilled"===r.status?t.set(r.value.hookId,{count:r.value.count,hasMore:r.value.hasMore,loading:!1}):t.set(a,{count:0,hasMore:!1,loading:!1})}return t})})()},[O,D]),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-end gap-2",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Last refreshed"}),w&&(0,s.jsx)(_.RelativeTime,{date:w,className:"text-sm text-muted-foreground",type:"distance"})]}),(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsxs)(I.Tooltip,{children:[(0,s.jsx)(I.TooltipTrigger,{asChild:!0,children:(0,s.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:()=>{k(()=>new Date),L()},disabled:H,children:[(0,s.jsx)(h.RefreshCw,{className:H?"animate-spin":""}),"Refresh"]})}),(0,s.jsx)(I.TooltipContent,{children:"Note that this resets pages"})]})})]}),E?(0,s.jsxs)(f.Alert,{variant:"destructive",children:[(0,s.jsx)(o.AlertCircle,{className:"h-4 w-4"}),(0,s.jsx)(f.AlertTitle,{children:"Error loading hooks"}),(0,s.jsx)(f.AlertDescription,{children:(0,a.getErrorMessage)(E)})]}):H||O&&0!==O.length?H&&!P?.data?(0,s.jsx)(z,{variant:"hooks"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.Card,{className:"overflow-hidden mt-4 bg-background",children:(0,s.jsx)(p.CardContent,{className:"p-0 max-h-[calc(100vh-280px)] overflow-auto",children:(0,s.jsxs)(v,{children:[(0,s.jsx)(y,{children:(0,s.jsxs)(C,{children:[(0,s.jsx)(T,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10",children:"Hook ID"}),(0,s.jsx)(T,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10",children:"Run ID"}),(0,s.jsx)(T,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10",children:"Token"}),(0,s.jsx)(T,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10",children:"Created"}),(0,s.jsx)(T,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10",children:"Invocations"}),(0,s.jsx)(T,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10 w-10"})]})}),(0,s.jsx)(S,{children:O.map(e=>(0,s.jsxs)(C,{className:"cursor-pointer group relative",onClick:()=>r(e.hookId,e.runId),"data-selected":e.hookId===n,children:[(0,s.jsx)(R,{className:"font-mono text-xs py-2",children:(0,s.jsx)(A.CopyableText,{text:e.hookId,overlay:!0,children:e.hookId})}),(0,s.jsx)(R,{className:"font-mono text-xs py-2",children:(0,s.jsx)(A.CopyableText,{text:e.runId,overlay:!0,children:e.runId})}),(0,s.jsx)(R,{className:"font-mono text-xs py-2",children:(0,s.jsx)(A.CopyableText,{text:e.token,overlay:!0,children:(0,s.jsx)("span",{className:"text-muted-foreground",children:"••••••••••••"})})}),(0,s.jsx)(R,{className:"py-2 text-muted-foreground text-xs",children:e.createdAt?(0,s.jsx)(_.RelativeTime,{date:e.createdAt}):"-"}),(0,s.jsx)(R,{className:"py-2",children:(e=>{let t=V.get(e.hookId);if(!t||t.loading)return(0,s.jsx)("span",{className:"text-muted-foreground text-xs",children:"..."});if(t.count instanceof Error)return(0,s.jsx)("span",{className:"text-muted-foreground",children:"Error"});if(0===t.count)return(0,s.jsx)("span",{className:"text-muted-foreground",children:"0"});let r=t.hasMore?`${t.count}+`:`${t.count}`;return t.hasMore?(0,s.jsxs)(I.Tooltip,{children:[(0,s.jsx)(I.TooltipTrigger,{asChild:!0,children:(0,s.jsx)("span",{className:"font-semibold cursor-help",children:r})}),(0,s.jsx)(I.TooltipContent,{className:"max-w-xs",children:(0,s.jsx)("div",{className:"text-xs",children:"Showing first 100 invocations. There may be more."})})]}):(0,s.jsx)("span",{className:"font-semibold",children:r})})(e)}),(0,s.jsx)(R,{className:"py-2",children:(0,s.jsxs)(N.DropdownMenu,{children:[(0,s.jsx)(N.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)(g.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:e=>e.stopPropagation(),children:(0,s.jsx)(c.MoreHorizontal,{className:"h-4 w-4"})})}),(0,s.jsxs)(N.DropdownMenuContent,{align:"end",children:[(0,s.jsxs)(N.DropdownMenuItem,{onClick:async s=>{s.stopPropagation();try{let s=await (0,a.recreateRun)(D,e.runId);j.toast.success("New run started",{description:`Run ID: ${s}`}),L()}catch(e){j.toast.error("Failed to re-run",{description:e instanceof Error?e.message:"Unknown error"})}},children:[(0,s.jsx)(u.RotateCw,{className:"h-4 w-4 mr-2"}),"Replay Run"]}),(0,s.jsxs)(N.DropdownMenuItem,{onClick:async s=>{s.stopPropagation();try{await (0,a.cancelRun)(D,e.runId),j.toast.success("Run cancelled"),L()}catch(e){j.toast.error("Failed to cancel",{description:e instanceof Error?e.message:"Unknown error"})}},children:[(0,s.jsx)(x.XCircle,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})})]},e.hookId))})]})})}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:U}),(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:$,disabled:!W,children:[(0,s.jsx)(d,{}),"Previous"]}),(0,s.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:F,disabled:!B,children:["Next",(0,s.jsx)(i.ChevronRight,{})]})]})]})]}):(0,s.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:["No active hooks found. ",(0,s.jsx)("br",{}),(0,s.jsx)(b,{href:"https://useworkflow.dev/docs/api-reference/workflow/create-hook",children:"Learn how to create a hook"})]})]})}var E=e.i(360088),F=e.i(620929),$=e.i(79495);let B=(0,n.default)("ArrowDownAZ",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]]),W=(0,n.default)("ArrowUpAZ",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]]);var L=e.i(346131),U=e.i(451675),H=e.i(708341);function O({env:e,runId:t,runStatus:r,onSuccess:a,showDebugActions:l}){let[o,n]=(0,m.useState)(void 0),[d,i]=(0,m.useState)(!0),[c,h]=(0,m.useState)(void 0),u=c?.status||r;return(0,m.useEffect)(()=>{i(!0),Promise.all([(0,$.fetchRun)(e,t,"none"),(0,F.fetchEvents)(e,t,{limit:1e3,sortOrder:"desc"})]).then(([e,s])=>{e.success&&h(e.data),s.success&&n(s.data.data)}).catch(e=>{console.error("Failed to fetch run or events:",e)}).finally(()=>{i(!1)})},[e,t]),(0,s.jsx)(H.RunActionsDropdownItems,{env:e,runId:t,runStatus:u,events:o,eventsLoading:d,stopPropagation:!0,callbacks:{onSuccess:a},showDebugActions:l})}function V({env:e,runId:t,runStatus:r,onSuccess:a,showDebugActions:l}){let[o,n]=(0,m.useState)(!1);return(0,s.jsxs)(N.DropdownMenu,{open:o,onOpenChange:n,children:[(0,s.jsx)(N.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)(g.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:e=>e.stopPropagation(),children:(0,s.jsx)(c.MoreHorizontal,{className:"h-4 w-4"})})}),o&&(0,s.jsx)(N.DropdownMenuContent,{align:"end",children:(0,s.jsx)(O,{env:e,runId:t,runStatus:r,onSuccess:a,showDebugActions:l})})]})}let Z={pending:{label:"Pending",color:"bg-neutral-600 dark:bg-neutral-400"},running:{label:"Running",color:"bg-blue-600 dark:bg-blue-400"},completed:{label:"Completed",color:"bg-green-600 dark:bg-green-400"},failed:{label:"Failed",color:"bg-red-600 dark:bg-red-400"},paused:{label:"Paused",color:"bg-yellow-600 dark:bg-yellow-400"},cancelled:{label:"Cancelled",color:"bg-gray-600 dark:bg-gray-400"}};function K({workflowNameFilter:e,status:t,seenWorkflowNames:r,sortOrder:a,loading:l,statusFilterRequiresWorkflowNameFilter:o,onWorkflowChange:n,onStatusChange:d,onSortToggle:i,onRefresh:c,lastRefreshTime:u}){return(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-end gap-2",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Last refreshed"}),u&&(0,s.jsx)(_.RelativeTime,{date:u,className:"text-sm text-muted-foreground",type:"distance"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(L.Select,{value:e??"all",onValueChange:n,disabled:l,children:[(0,s.jsx)(L.SelectTrigger,{className:"w-[180px] h-9",children:(0,s.jsx)(L.SelectValue,{placeholder:"Filter by workflow"})}),(0,s.jsxs)(L.SelectContent,{children:[(0,s.jsx)(L.SelectItem,{value:"all",children:"All Workflows"}),Array.from(r).sort().map(e=>(0,s.jsx)(L.SelectItem,{value:e,children:(0,E.parseWorkflowName)(e)?.shortName||e},e))]})]}),(0,s.jsxs)(I.Tooltip,{children:[(0,s.jsx)(I.TooltipTrigger,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsxs)(L.Select,{value:t||"all",onValueChange:d,disabled:l||o&&!e,children:[(0,s.jsx)(L.SelectTrigger,{className:"w-[140px] h-9",children:(0,s.jsx)(L.SelectValue,{placeholder:"Filter by status"})}),(0,s.jsxs)(L.SelectContent,{children:[(0,s.jsx)(L.SelectItem,{value:"all",children:"Any status"}),Object.entries(Z).map(([e,{label:t,color:r}])=>(0,s.jsx)(L.SelectItem,{value:e,children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("span",{className:`${r} size-1.5 rounded-full mr-2`}),t]})},e))]})]})})}),(0,s.jsx)(I.TooltipContent,{children:o&&"all"===e?"Select a workflow first to filter by status":"Filter runs by status"})]}),(0,s.jsxs)(I.Tooltip,{children:[(0,s.jsx)(I.TooltipTrigger,{asChild:!0,children:(0,s.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:i,disabled:l,children:["desc"===a?(0,s.jsx)(B,{className:"h-4 w-4"}):(0,s.jsx)(W,{className:"h-4 w-4"}),"desc"===a?"Newest":"Oldest"]})}),(0,s.jsx)(I.TooltipContent,{children:"desc"===a?"Showing newest first":"Showing oldest first"})]}),(0,s.jsxs)(I.Tooltip,{children:[(0,s.jsx)(I.TooltipTrigger,{asChild:!0,children:(0,s.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:c,disabled:l,children:[(0,s.jsx)(h.RefreshCw,{className:l?"animate-spin":""}),"Refresh"]})}),(0,s.jsx)(I.TooltipContent,{children:"Note that this resets pages"})]})]})]})}function q({config:e,onRunClick:r}){let l,n,c,h,u,x,j=(0,t.useSearchParams)(),w=(l=(0,t.useRouter)(),n=(0,t.usePathname)(),c=(0,t.useSearchParams)(),(0,m.useCallback)(e=>{let s=new URLSearchParams(c.toString());"all"===e?(s.delete("workflow"),s.delete("status")):s.set("workflow",e),l.push(`${n}?${s.toString()}`)},[l,n,c])),k=(h=(0,t.useRouter)(),u=(0,t.usePathname)(),x=(0,t.useSearchParams)(),(0,m.useCallback)(e=>{let s=new URLSearchParams(x.toString());"all"===e?s.delete("status"):s.set("status",e),h.push(`${u}?${s.toString()}`)},[h,u,x])),N=j.get("status"),I=Object.keys(Z),D="all"===N||N&&I.includes(N)?N:void 0,P=j.get("workflow"),F="1"===j.get("debug"),[$,B]=(0,m.useState)("desc"),[W,L]=(0,m.useState)(()=>new Date),H=(0,m.useMemo)(()=>(0,M.worldConfigToEnvMap)(e),[e]),O=e.backend?.includes("vercel")||!1,[q,G]=(0,m.useState)(new Set),{data:Q,error:X,nextPage:J,previousPage:Y,hasNextPage:ee,hasPreviousPage:es,reload:et,pageInfo:er}=(0,a.useWorkflowRuns)(H,{sortOrder:$,workflowName:"all"===P?void 0:P,status:"all"===D?void 0:D});(0,m.useEffect)(()=>{if(Q.data&&Q.data.length>0){let e=new Set(Q.data.map(e=>e.workflowName));G(s=>{let t=new Set(s);for(let s of e)t.add(s);return t})}},[Q.data]);let ea=Q.isLoading;return(0,s.jsxs)("div",{children:[(0,s.jsx)(K,{workflowNameFilter:P,status:D,seenWorkflowNames:q,sortOrder:$,loading:ea,statusFilterRequiresWorkflowNameFilter:O,onWorkflowChange:w,onStatusChange:k,onSortToggle:()=>{B(e=>"desc"===e?"asc":"desc")},onRefresh:()=>{L(()=>new Date),et()},lastRefreshTime:W}),X?(0,s.jsxs)(f.Alert,{variant:"destructive",children:[(0,s.jsx)(o.AlertCircle,{className:"h-4 w-4"}),(0,s.jsx)(f.AlertTitle,{children:"Error loading runs"}),(0,s.jsx)(f.AlertDescription,{children:(0,a.getErrorMessage)(X)})]}):ea&&!Q?.data?(0,s.jsx)(z,{}):ea||Q.data&&0!==Q.data.length?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.Card,{className:"overflow-hidden mt-4 bg-background",children:(0,s.jsx)(p.CardContent,{className:"p-0 max-h-[calc(100vh-280px)] overflow-auto",children:(0,s.jsxs)(v,{children:[(0,s.jsx)(y,{children:(0,s.jsxs)(C,{children:[(0,s.jsx)(T,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10",children:"Workflow"}),(0,s.jsx)(T,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10",children:"Run ID"}),(0,s.jsx)(T,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10",children:"Status"}),(0,s.jsx)(T,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10",children:"Started"}),(0,s.jsx)(T,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10",children:"Completed"}),(0,s.jsx)(T,{className:"sticky top-0 bg-background z-10 border-b shadow-sm h-10 w-10"})]})}),(0,s.jsx)(S,{children:Q.data?.map(e=>(0,s.jsxs)(C,{className:"cursor-pointer group relative",onClick:()=>r(e.runId),children:[(0,s.jsx)(R,{className:"py-2",children:(0,s.jsx)(A.CopyableText,{text:e.workflowName,overlay:!0,children:(0,E.parseWorkflowName)(e.workflowName)?.shortName||"?"})}),(0,s.jsx)(R,{className:"font-mono text-xs py-2",children:(0,s.jsx)(A.CopyableText,{text:e.runId,overlay:!0,children:e.runId})}),(0,s.jsx)(R,{className:"py-2",children:(0,s.jsx)(U.StatusBadge,{status:e.status,context:e,durationMs:e.startedAt?(e.completedAt?new Date(e.completedAt).getTime():Date.now())-new Date(e.startedAt).getTime():void 0})}),(0,s.jsx)(R,{className:"py-2 text-muted-foreground text-xs",children:e.startedAt?(0,s.jsx)(_.RelativeTime,{date:e.startedAt}):"-"}),(0,s.jsx)(R,{className:"py-2 text-muted-foreground text-xs",children:e.completedAt?(0,s.jsx)(_.RelativeTime,{date:e.completedAt}):"-"}),(0,s.jsx)(R,{className:"py-2",children:(0,s.jsx)(V,{env:H,runId:e.runId,runStatus:e.status,onSuccess:et,showDebugActions:F})})]},e.runId))})]})})}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:er}),(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:Y,disabled:!es,children:[(0,s.jsx)(d,{}),"Previous"]}),(0,s.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:J,disabled:!ee,children:["Next",(0,s.jsx)(i.ChevronRight,{})]})]})]})]}):(0,s.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:["No workflow runs found. ",(0,s.jsx)("br",{}),(0,s.jsx)(b,{href:"https://useworkflow.dev/docs/foundations/workflows-and-steps",children:"Learn how to create a workflow"})]})]})}var G=e.i(889840),Q=e.i(480462);function X(){let e=(0,t.useRouter)(),a=(0,M.useQueryParamConfig)(),[l]=(0,Q.useSidebarState)(),[o]=(0,Q.useHookIdState)(),[n,d]=(0,Q.useTabState)();return(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,s.jsxs)(G.Tabs,{value:n,onValueChange:d,className:"w-full",children:[(0,s.jsxs)(G.TabsList,{className:"mb-4",children:[(0,s.jsx)(G.TabsTrigger,{value:"runs",children:"Runs"}),(0,s.jsx)(G.TabsTrigger,{value:"hooks",children:"Hooks"})]}),(0,s.jsx)(G.TabsContent,{value:"runs",children:(0,s.jsx)(r.ErrorBoundary,{title:"Runs Error",description:"Failed to load workflow runs. Please try refreshing the page.",children:(0,s.jsx)(q,{config:a,onRunClick:(s,t)=>{t?e.push((0,M.buildUrlWithConfig)(`/run/${s}/streams/${t}`,a)):e.push((0,M.buildUrlWithConfig)(`/run/${s}`,a))}})})}),(0,s.jsx)(G.TabsContent,{value:"hooks",children:(0,s.jsx)(r.ErrorBoundary,{title:"Hooks Error",description:"Failed to load hooks. Please try refreshing the page.",children:(0,s.jsx)(P,{config:a,onHookClick:(s,t)=>{s?e.push((0,M.buildUrlWithConfig)(`/run/${t}`,a,{sidebar:"hook",hookId:s})):e.push((0,M.buildUrlWithConfig)(`/run/${t}`,a))},selectedHookId:"hook"===l&&o?o:void 0})})})]})})}e.s(["default",()=>X],330997)}]);