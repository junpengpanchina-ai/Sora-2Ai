import { resolve } from 'node:path';
function resolveObservabilityCwd() {
    const raw = process.env.WORKFLOW_OBSERVABILITY_CWD;
    if (!raw) {
        return process.cwd();
    }
    // Allow relative paths; resolve relative to the current process.cwd()
    // (i.e. where the CLI was invoked).
    return resolve(process.cwd(), raw);
}
export const getWorkflowConfig = ({ buildTarget, workflowManifest, } = {
    buildTarget: 'standalone',
}) => {
    const config = {
        dirs: ['./workflows'],
        workingDir: resolveObservabilityCwd(),
        buildTarget: buildTarget,
        stepsBundlePath: './.well-known/workflow/v1/step.js',
        workflowsBundlePath: './.well-known/workflow/v1/flow.js',
        webhookBundlePath: './.well-known/workflow/v1/webhook.js',
        workflowManifestPath: workflowManifest,
        // WIP: generate a client library to easily execute workflows/steps
        // clientBundlePath: './lib/generated/workflows.js',
    };
    return config;
};
//# sourceMappingURL=workflow-config.js.map